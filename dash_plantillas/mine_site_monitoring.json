{
  "title": "Mine site monitoring",
  "image": null,
  "mobileHide": false,
  "mobileOrder": null,
  "configuration": {
    "description": "",
    "widgets": {
      "be52ef15-533f-569f-5bf3-c64a406bb2ef": {
        "typeFullFqn": "system.map",
        "type": "latest",
        "sizeX": 8.5,
        "sizeY": 6,
        "config": {
          "datasources": [],
          "showTitle": false,
          "backgroundColor": "rgba(0, 0, 0, 0)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "0px",
          "settings": {
            "mapType": "geoMap",
            "layers": [
              {
                "label": "{i18n:widgets.maps.layer.hybrid}",
                "provider": "openstreet",
                "layerType": "Esri.WorldImagery",
                "referenceLayer": "openstreetmap_hybrid"
              },
              {
                "label": "{i18n:widgets.maps.layer.roadmap}",
                "provider": "openstreet",
                "layerType": "OpenStreetMap.Mapnik"
              },
              {
                "label": "{i18n:widgets.maps.layer.satellite}",
                "provider": "openstreet",
                "layerType": "Esri.WorldImagery"
              }
            ],
            "imageSource": null,
            "markers": [
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "ab41895b-b1a3-eea9-5f19-cd221fca6f4b",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": [
                  {
                    "name": "fuelLevel",
                    "type": "timeseries",
                    "label": "fuelLevel",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "geoStatus",
                    "type": "timeseries",
                    "label": "geoStatusColor",
                    "color": "#2196f3",
                    "settings": {},
                    "aggregationType": "NONE",
                    "units": null,
                    "decimals": null,
                    "funcBody": null,
                    "usePostProcessing": true,
                    "postFuncBody": {
                      "body": "return utils.geoStatusToColor(value);",
                      "modules": {
                        "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                      }
                    }
                  },
                  {
                    "name": "speed",
                    "type": "timeseries",
                    "label": "speed",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "loadWeight",
                    "type": "timeseries",
                    "label": "loadWeight",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "type",
                    "type": "entityField",
                    "label": "Type",
                    "color": "#2196f3",
                    "settings": {}
                  }
                ],
                "label": {
                  "show": true,
                  "type": "function",
                  "pattern": "${entityName}",
                  "patternFunction": {
                    "body": "return utils.markerLabel(data);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  }
                },
                "tooltip": {
                  "show": true,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "function",
                  "pattern": "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}<br/><b>Temperature:</b> ${temperature} Â°C<br/><small>See tooltip settings for details</small>",
                  "offsetX": 0,
                  "offsetY": -1,
                  "patternFunction": {
                    "body": "return utils.getMachineTooltip(ctx, data);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  },
                  "tagActions": [
                    {
                      "name": "machine-details",
                      "type": "openDashboardState",
                      "targetDashboardStateId": "truck-details",
                      "setEntityId": true,
                      "stateEntityParamName": null,
                      "openRightLayout": false,
                      "openInSeparateDialog": false,
                      "openInPopover": false
                    }
                  ]
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [
                    "move"
                  ],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "xKey": {
                  "name": "latitude",
                  "type": "timeseries",
                  "label": "latitude",
                  "color": "#2196f3",
                  "settings": {}
                },
                "yKey": {
                  "name": "longitude",
                  "type": "timeseries",
                  "label": "longitude",
                  "color": "#2196f3",
                  "settings": {}
                },
                "markerType": "icon",
                "markerShape": {
                  "shape": "markerShape5",
                  "size": 34,
                  "color": {
                    "type": "constant",
                    "color": "#307FE5"
                  }
                },
                "markerIcon": {
                  "iconContainer": "iconContainer2",
                  "icon": "mdi:dump-truck",
                  "size": 68,
                  "color": {
                    "type": "function",
                    "color": "#307FE5",
                    "rangeKey": null,
                    "range": null,
                    "colorFunction": "return data.geoStatusColor.split(';')[0];"
                  }
                },
                "markerImage": {
                  "type": "image",
                  "image": "/assets/markers/shape1.svg",
                  "imageSize": 34
                },
                "markerOffsetX": 0.5,
                "markerOffsetY": 1,
                "markerClustering": {
                  "enable": false,
                  "zoomOnClick": true,
                  "maxZoom": null,
                  "maxClusterRadius": 80,
                  "zoomAnimation": true,
                  "showCoverageOnHover": true,
                  "spiderfyOnMaxZoom": false,
                  "chunkedLoad": false,
                  "lazyLoad": true,
                  "useClusterMarkerColorFunction": false,
                  "clusterMarkerColorFunction": null
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "f9f8cdcc-2a11-3256-85fa-6604500c7954",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": [
                  {
                    "name": "fuelLevel",
                    "type": "timeseries",
                    "label": "fuelLevel",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "geoStatus",
                    "type": "timeseries",
                    "label": "geoStatusColor",
                    "color": "#2196f3",
                    "settings": {},
                    "aggregationType": "NONE",
                    "units": null,
                    "decimals": null,
                    "funcBody": null,
                    "usePostProcessing": true,
                    "postFuncBody": {
                      "body": "return utils.geoStatusToColor(value);",
                      "modules": {
                        "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                      }
                    }
                  },
                  {
                    "name": "speed",
                    "type": "timeseries",
                    "label": "speed",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "hydraulicPressure",
                    "type": "timeseries",
                    "label": "hydraulicPressure",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "type",
                    "type": "entityField",
                    "label": "Type",
                    "color": "#2196f3",
                    "settings": {}
                  }
                ],
                "label": {
                  "show": true,
                  "type": "function",
                  "pattern": "${entityName}",
                  "patternFunction": {
                    "body": "return utils.markerLabel(data);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  }
                },
                "tooltip": {
                  "show": true,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "function",
                  "pattern": "",
                  "offsetX": 0,
                  "offsetY": -1,
                  "patternFunction": {
                    "body": "return utils.getMachineTooltip(ctx, data);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  },
                  "tagActions": [
                    {
                      "name": "machine-details",
                      "type": "openDashboardState",
                      "targetDashboardStateId": "excavator-details",
                      "setEntityId": true,
                      "stateEntityParamName": null,
                      "openRightLayout": false,
                      "openInSeparateDialog": false,
                      "openInPopover": false
                    }
                  ]
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [
                    "move"
                  ],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "xKey": {
                  "name": "latitude",
                  "type": "timeseries",
                  "label": "latitude",
                  "color": "#2196f3",
                  "settings": {}
                },
                "yKey": {
                  "name": "longitude",
                  "type": "timeseries",
                  "label": "longitude",
                  "color": "#2196f3",
                  "settings": {}
                },
                "markerType": "icon",
                "markerShape": {
                  "shape": "markerShape5",
                  "size": 34,
                  "color": {
                    "type": "function",
                    "color": "#307FE5",
                    "rangeKey": null,
                    "range": null,
                    "colorFunction": "return data.geoStatusColor.split(';')[0];"
                  }
                },
                "markerIcon": {
                  "iconContainer": "iconContainer2",
                  "icon": "mdi:excavator",
                  "size": 68,
                  "color": {
                    "type": "function",
                    "color": "#307FE5",
                    "rangeKey": null,
                    "range": null,
                    "colorFunction": "return data.geoStatusColor.split(';')[0];"
                  }
                },
                "markerImage": {
                  "type": "image",
                  "image": "/assets/markers/shape1.svg",
                  "imageSize": 34
                },
                "markerOffsetX": 0.5,
                "markerOffsetY": 1,
                "markerClustering": {
                  "enable": false,
                  "zoomOnClick": true,
                  "maxZoom": null,
                  "maxClusterRadius": 80,
                  "zoomAnimation": true,
                  "showCoverageOnHover": true,
                  "spiderfyOnMaxZoom": false,
                  "chunkedLoad": false,
                  "lazyLoad": true,
                  "useClusterMarkerColorFunction": false,
                  "clusterMarkerColorFunction": null
                }
              }
            ],
            "polygons": [
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}"
                },
                "tooltip": {
                  "show": false,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "pattern",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "offsetX": 0,
                  "offsetY": -1
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#A6BDB033",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#A6BDB0",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "8c3fd355-4302-f1c2-c934-bc5123c8b2de",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": true,
                  "type": "function",
                  "pattern": "${entityName}",
                  "patternFunction": "return '<div style=\"color: #FFF; font-weight: 600; text-align: center; padding-bottom: 8px;\">${entityName}</div>';"
                },
                "tooltip": {
                  "show": false,
                  "type": "function",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "patternFunction": "",
                  "trigger": "hover",
                  "autoclose": true,
                  "tagActions": null
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [
                    "edit"
                  ],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#DD2C0033",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#DD2C00",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "e8cb695b-0f4f-2fca-b3ee-bbed3fca02f2",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": true,
                  "type": "function",
                  "pattern": "${entityName}",
                  "patternFunction": "return '<div style=\"color: #FFF; font-weight: 600; text-align: center; padding-bottom: 8px;\">${entityName}</div>';"
                },
                "tooltip": {
                  "show": false,
                  "type": "function",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "patternFunction": "return '<span style=\"color:#1EBB4D;\">${entityName}</span>'",
                  "trigger": "hover",
                  "autoclose": true,
                  "tagActions": null
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [
                    "edit"
                  ],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#1EBB4D33",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#1EBB4D",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "8b1126cf-55f9-f35e-4450-ddac60c2577a",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": true,
                  "type": "function",
                  "pattern": "",
                  "patternFunction": "return '<div style=\"color: #FFF; font-weight: 600; text-align: center; padding-bottom: 8px;\">${entityName}</div>';"
                },
                "tooltip": {
                  "show": false,
                  "type": "function",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "patternFunction": "return '<span style=\"color:#3388FF;\">${entityName}</span>'",
                  "trigger": "hover",
                  "autoclose": true,
                  "tagActions": null
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [
                    "edit"
                  ],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "rgba(51,136,255,0.2)"
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#3388ff"
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              }
            ],
            "circles": [],
            "polylines": [],
            "additionalDataSources": [],
            "controlsPosition": "topleft",
            "zoomActions": [
              "scroll",
              "doubleClick"
            ],
            "scales": [],
            "dragModeButton": false,
            "fitMapBounds": false,
            "useDefaultCenterPosition": false,
            "defaultCenterPosition": "0,0",
            "defaultZoomLevel": 17,
            "mapPageSize": 16384,
            "mapActionButtons": [
              {
                "label": "Add zone",
                "icon": "add",
                "color": "#00695C",
                "action": {
                  "type": "placeMapItem",
                  "customHtml": "",
                  "customCss": "",
                  "customFunction": {
                    "body": "utils.addZoneToMineSite($event, widgetContext, additionalParams);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  },
                  "customResources": [],
                  "mapItemType": "polygon",
                  "mapItemTooltips": {},
                  "openInSeparateDialog": false,
                  "openInPopover": false
                }
              },
              {
                "label": "Add machine",
                "icon": "add",
                "color": "#00695C",
                "action": {
                  "type": "placeMapItem",
                  "customHtml": "",
                  "customCss": "",
                  "customFunction": {
                    "body": "utils.addMachineToMineSite($event, widgetContext, additionalParams);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  },
                  "customResources": [],
                  "mapItemType": "marker",
                  "mapItemTooltips": {},
                  "openInSeparateDialog": false,
                  "openInPopover": false
                }
              }
            ],
            "background": {
              "type": "color",
              "color": "#fff",
              "overlay": {
                "enabled": false,
                "color": "rgba(255,255,255,0.72)",
                "blur": 3
              }
            },
            "padding": "8px"
          },
          "title": "Map",
          "showTitleIcon": false,
          "titleTooltip": "",
          "dropShadow": false,
          "enableFullscreen": false,
          "widgetStyle": {},
          "widgetCss": "",
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "configMode": "basic",
          "titleFont": null,
          "titleColor": null,
          "margin": "0px",
          "borderRadius": "4px",
          "iconSize": "24px",
          "titleIcon": "map",
          "iconColor": "#1F6BDD",
          "actions": {},
          "enableDataExport": false
        },
        "row": 0,
        "col": 0,
        "id": "be52ef15-533f-569f-5bf3-c64a406bb2ef"
      },
      "54570131-35b7-1cfc-0c5e-0ea6549c21d3": {
        "typeFullFqn": "system.alarm_widgets.alarms_table",
        "type": "alarm",
        "sizeX": 10.5,
        "sizeY": 6.5,
        "config": {
          "timewindow": {
            "selectedTab": 0,
            "realtime": {
              "realtimeType": 0,
              "timewindowMs": 2592000000
            }
          },
          "showTitle": true,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "4px",
          "settings": {
            "alarmsTitle": "Alarms",
            "enableSelection": true,
            "enableSearch": true,
            "enableSelectColumnDisplay": false,
            "enableFilter": true,
            "enableStickyHeader": true,
            "enableStickyAction": false,
            "showCellActionsMenu": true,
            "reserveSpaceForHiddenAction": "true",
            "displayDetails": true,
            "allowAcknowledgment": true,
            "allowClear": true,
            "allowAssign": true,
            "displayActivity": false,
            "displayPagination": true,
            "defaultPageSize": 10,
            "pageStepCount": 3,
            "pageStepIncrement": 10,
            "defaultSortOrder": "-createdTime",
            "useRowStyleFunction": false,
            "rowStyleFunction": ""
          },
          "title": "Alarms table",
          "dropShadow": false,
          "enableFullscreen": true,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400,
            "padding": "5px 10px 5px 10px"
          },
          "useDashboardTimewindow": false,
          "showLegend": false,
          "alarmSource": {
            "type": "entity",
            "name": "",
            "entityAliasId": "80f96c31-13dc-5425-0595-547501dc4e0d",
            "dataKeys": [
              {
                "name": "createdTime",
                "type": "alarm",
                "label": "Created time",
                "color": "#2196f3",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null,
                "aggregationType": null,
                "units": null,
                "decimals": null,
                "usePostProcessing": null,
                "postFuncBody": null
              },
              {
                "name": "originatorDisplayName",
                "type": "alarm",
                "label": "Originator",
                "color": "#4caf50",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null
              },
              {
                "name": "type",
                "type": "alarm",
                "label": "Type",
                "color": "#f44336",
                "settings": {
                  "customTitle": "",
                  "columnWidth": "130px",
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "useCellContentFunctionOnExport": true,
                  "cellContentFunction": "",
                  "defaultColumnVisibility": "visible",
                  "columnSelectionToDisplay": "enabled",
                  "columnExportOption": "onlyVisible",
                  "disableSorting": false
                },
                "funcBody": null,
                "aggregationType": null,
                "units": null,
                "decimals": null,
                "usePostProcessing": null,
                "postFuncBody": null
              },
              {
                "name": "severity",
                "type": "alarm",
                "label": "Severity",
                "color": "#ffc107",
                "settings": {
                  "useCellStyleFunction": false,
                  "useCellContentFunction": false
                },
                "funcBody": null
              },
              {
                "name": "status",
                "type": "alarm",
                "label": "Status",
                "color": "#607d8b",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null
              }
            ],
            "alarmFilterConfig": {
              "statusList": [
                "ACTIVE"
              ]
            }
          },
          "alarmsPollingInterval": 5,
          "showTitleIcon": false,
          "titleIcon": "warning",
          "iconColor": "rgba(0, 0, 0, 0.87)",
          "iconSize": "24px",
          "titleTooltip": "",
          "widgetStyle": {},
          "displayTimewindow": true,
          "actions": {},
          "configMode": "basic",
          "alarmFilterConfig": {
            "statusList": [
              "ACTIVE"
            ],
            "severityList": [],
            "typeList": [],
            "searchPropagatedAlarms": false,
            "assignedToCurrentUser": false,
            "assigneeId": null
          },
          "datasources": [],
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": "Roboto",
            "weight": "500",
            "style": null,
            "lineHeight": "24px"
          },
          "titleColor": "#3D3D3D",
          "enableDataExport": false,
          "borderRadius": "4px",
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": ""
        },
        "row": 0,
        "col": 0,
        "id": "54570131-35b7-1cfc-0c5e-0ea6549c21d3"
      },
      "8af7764a-ed29-3767-6ba9-8bcd3a6a87eb": {
        "typeFullFqn": "system.cards.entities_table",
        "type": "latest",
        "sizeX": 7.5,
        "sizeY": 6.5,
        "config": {
          "showTitle": true,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "4px",
          "settings": {
            "entitiesTitle": "Zones",
            "enableSearch": true,
            "enableSelectColumnDisplay": false,
            "enableStickyHeader": true,
            "enableStickyAction": true,
            "showCellActionsMenu": true,
            "reserveSpaceForHiddenAction": "true",
            "displayEntityName": false,
            "entityNameColumnTitle": "",
            "displayEntityLabel": false,
            "entityLabelColumnTitle": "",
            "displayEntityType": false,
            "displayPagination": true,
            "defaultPageSize": 10,
            "pageStepCount": 3,
            "pageStepIncrement": 10,
            "defaultSortOrder": "name",
            "useRowStyleFunction": false,
            "rowStyleFunction": ""
          },
          "title": "Entities table",
          "dropShadow": false,
          "enableFullscreen": true,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400,
            "padding": "5px 10px 5px 10px"
          },
          "showLegend": false,
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "8b43b725-98db-26eb-59aa-aad972f8821b",
              "filterId": null,
              "dataKeys": [
                {
                  "name": "name",
                  "type": "entityField",
                  "label": "Name",
                  "color": "#2196f3",
                  "settings": {}
                },
                {
                  "name": "type",
                  "type": "attribute",
                  "label": "Type",
                  "color": "#4caf50",
                  "settings": {},
                  "decimals": 0
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ]
              }
            }
          ],
          "configMode": "basic",
          "actions": {
            "actionCellButton": [
              {
                "name": "Edit zone",
                "icon": "edit",
                "useShowWidgetActionFunction": null,
                "showWidgetActionFunction": "return true;",
                "type": "custom",
                "customFunction": {
                  "body": "utils.editZoneName(widgetContext, entityId, entityName);",
                  "modules": {
                    "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                  }
                },
                "openInSeparateDialog": false,
                "openInPopover": false,
                "id": "7583669e-8a9a-f6e9-55d2-04c2726bccdb"
              },
              {
                "name": "Delete zone",
                "icon": "delete",
                "useShowWidgetActionFunction": null,
                "showWidgetActionFunction": "return true;",
                "type": "custom",
                "customFunction": "var $injector = widgetContext.$scope.$injector;\nvar dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\nvar assetService = $injector.get(widgetContext.servicesMap.get('assetService'));\n\nopendeleteAssetDialog();\n\nfunction opendeleteAssetDialog() {\n  var title = 'Are you sure you want to delete ' + entityName + '?';\n  var content = 'Be careful, after the confirmation, the device and all related data will become unrecoverable!';\n  dialogs.confirm(title, content, 'Cancel', 'Delete').subscribe(\n    function(result) {\n      if (result) {\n        deleteAsset();\n      }\n    }\n  );\n}\n\nfunction deleteAsset() {\n  assetService.deleteAsset(entityId.id).subscribe(\n    function() {\n      widgetContext.updateAliases();\n    }\n  );\n}\n",
                "openInSeparateDialog": false,
                "openInPopover": false,
                "id": "9d11b9fb-c681-35b4-cf8a-b27b4734f47c"
              }
            ],
            "rowClick": [
              {
                "name": "Zone details",
                "icon": "more_horiz",
                "useShowWidgetActionFunction": null,
                "showWidgetActionFunction": "return true;",
                "type": "openDashboardState",
                "targetDashboardStateId": "zone",
                "setEntityId": true,
                "stateEntityParamName": null,
                "openRightLayout": false,
                "openInSeparateDialog": false,
                "openInPopover": false,
                "id": "e2d7416a-d432-8baa-ba53-9a356020bc3c"
              }
            ]
          },
          "showTitleIcon": false,
          "titleIcon": "list",
          "iconColor": null,
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": "Roboto",
            "weight": "500",
            "style": null,
            "lineHeight": "24px"
          },
          "titleColor": "#3D3D3D",
          "enableDataExport": false,
          "titleTooltip": "",
          "borderRadius": "4px",
          "widgetStyle": {},
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": ""
        },
        "row": 0,
        "col": 0,
        "id": "8af7764a-ed29-3767-6ba9-8bcd3a6a87eb"
      },
      "d2198ef6-5025-94bc-cc02-7c085f4de155": {
        "typeFullFqn": "system.cards.entities_table",
        "type": "latest",
        "sizeX": 7.5,
        "sizeY": 6.5,
        "config": {
          "showTitle": true,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "4px",
          "settings": {
            "enableSearch": true,
            "enableSelectColumnDisplay": false,
            "enableStickyHeader": true,
            "enableStickyAction": true,
            "reserveSpaceForHiddenAction": "true",
            "displayEntityName": false,
            "displayEntityLabel": false,
            "displayEntityType": false,
            "displayPagination": true,
            "defaultPageSize": 10,
            "defaultSortOrder": "name",
            "useRowStyleFunction": false,
            "entitiesTitle": "Machines"
          },
          "title": "Entities table",
          "dropShadow": false,
          "enableFullscreen": true,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400,
            "padding": "5px 10px 5px 10px"
          },
          "showLegend": false,
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "80f96c31-13dc-5425-0595-547501dc4e0d",
              "filterId": null,
              "dataKeys": [
                {
                  "name": "name",
                  "type": "entityField",
                  "label": "Name",
                  "color": "#2196f3",
                  "settings": {}
                },
                {
                  "name": "fuelLevel",
                  "type": "timeseries",
                  "label": "Fuel level",
                  "color": "#f44336",
                  "settings": {},
                  "units": "%",
                  "decimals": 0
                },
                {
                  "name": "geoStatus",
                  "type": "timeseries",
                  "label": "Status",
                  "color": "#ffc107",
                  "settings": {},
                  "decimals": 0,
                  "aggregationType": "NONE",
                  "funcBody": null,
                  "usePostProcessing": true,
                  "postFuncBody": {
                    "body": "return utils.geoStatusToStatus(value);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  }
                },
                {
                  "name": "type",
                  "type": "entityField",
                  "label": "Type",
                  "color": "#4caf50",
                  "settings": {
                    "customTitle": "",
                    "columnWidth": "0px",
                    "useCellStyleFunction": false,
                    "cellStyleFunction": "",
                    "useCellContentFunction": false,
                    "useCellContentFunctionOnExport": true,
                    "cellContentFunction": "",
                    "defaultColumnVisibility": "hidden",
                    "columnSelectionToDisplay": "enabled",
                    "columnExportOption": "onlyVisible",
                    "disableSorting": false
                  },
                  "decimals": 0,
                  "aggregationType": null,
                  "units": null,
                  "funcBody": null,
                  "usePostProcessing": null,
                  "postFuncBody": null
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ]
              }
            }
          ],
          "configMode": "basic",
          "actions": {
            "actionCellButton": [
              {
                "name": "Edit machine",
                "icon": "edit",
                "useShowWidgetActionFunction": null,
                "showWidgetActionFunction": "return true;",
                "type": "custom",
                "customFunction": {
                  "body": "utils.editMachine(widgetContext, entityId, entityName);",
                  "modules": {
                    "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                  }
                },
                "openInSeparateDialog": false,
                "openInPopover": false,
                "id": "d3a589f8-808d-23ff-d80d-de3d526cecee"
              },
              {
                "name": "Delete machine",
                "icon": "delete",
                "useShowWidgetActionFunction": null,
                "showWidgetActionFunction": "return true;",
                "type": "custom",
                "customFunction": "var $injector = widgetContext.$scope.$injector;\nvar dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\nvar deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\n\nopenDeleteDeviceDialog();\n\nfunction openDeleteDeviceDialog() {\n  var title = 'Are you sure you want to delete machine ' + entityName + '?';\n  var content = 'Be careful, after the confirmation, the device and all related data will become unrecoverable!';\n  dialogs.confirm(title, content, 'Cancel', 'Delete').subscribe(\n    function(result) {\n      if (result) {\n        deleteDevice();\n      }\n    }\n  );\n}\n\nfunction deleteDevice() {\n  deviceService.deleteDevice(entityId.id).subscribe(\n    function() {\n      widgetContext.updateAliases();\n    }\n  );\n}\n",
                "openInSeparateDialog": false,
                "openInPopover": false,
                "id": "a1bd46ba-9355-fff6-2f04-d03ad3f7766c"
              }
            ],
            "rowClick": [
              {
                "name": "Machine details",
                "icon": "more_horiz",
                "useShowWidgetActionFunction": null,
                "showWidgetActionFunction": "return true;",
                "type": "custom",
                "customFunction": "var entitySubType;\nvar $injector = widgetContext.$scope.$injector;\n$injector.get(widgetContext.servicesMap.get('entityService')).getEntity(entityId.entityType, entityId.id)\n  .subscribe(function(data) {\n    entitySubType = data.type;\n    if (entitySubType == 'Haul truck') {\n      openDashboardStates('truck-details');\n    } else if (entitySubType == 'Excavator') {\n      openDashboardStates('excavator-details');\n    }\n  });\n\nfunction openDashboardStates(statedId) {\n  var stateParams = widgetContext.stateController.getStateParams();\n  var params = {\n    entityId: entityId,\n    entityName: entityName\n  };\n\n  widgetContext.stateController.openState(statedId, params, false);\n}\n",
                "openInSeparateDialog": false,
                "openInPopover": false,
                "id": "00131915-a122-83a8-d3c2-d4c73722da30"
              }
            ]
          },
          "showTitleIcon": false,
          "titleIcon": "list",
          "iconColor": null,
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": "Roboto",
            "weight": "500",
            "style": null,
            "lineHeight": "24px"
          },
          "titleColor": "#3D3D3D",
          "enableDataExport": false,
          "titleTooltip": "",
          "borderRadius": "4px",
          "widgetStyle": {},
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": ""
        },
        "row": 0,
        "col": 0,
        "id": "d2198ef6-5025-94bc-cc02-7c085f4de155"
      },
      "40e5752a-29d6-cc06-4905-ded467eeac4d": {
        "typeFullFqn": "system.trip_map",
        "type": "timeseries",
        "sizeX": 8.5,
        "sizeY": 6,
        "config": {
          "datasources": [],
          "showTitle": true,
          "backgroundColor": "rgba(0, 0, 0, 0)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "0px",
          "settings": {
            "mapType": "geoMap",
            "layers": [
              {
                "label": "{i18n:widgets.maps.layer.satellite}",
                "provider": "openstreet",
                "layerType": "Esri.WorldImagery"
              },
              {
                "label": "{i18n:widgets.maps.layer.roadmap}",
                "provider": "openstreet",
                "layerType": "OpenStreetMap.Mapnik"
              },
              {
                "label": "{i18n:widgets.maps.layer.hybrid}",
                "provider": "openstreet",
                "layerType": "Esri.WorldImagery",
                "referenceLayer": "openstreetmap_hybrid"
              }
            ],
            "trips": [
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "1c770287-a30e-5426-fcc7-4cb4df4cc037",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": [
                  {
                    "name": "fuelLevel",
                    "type": "timeseries",
                    "label": "fuelLevel",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "speed",
                    "type": "timeseries",
                    "label": "speed",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "loadWeight",
                    "type": "timeseries",
                    "label": "loadWeight",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "type",
                    "type": "entityField",
                    "label": "Type",
                    "color": "#2196f3",
                    "settings": {}
                  }
                ],
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}",
                  "patternFunction": null
                },
                "tooltip": {
                  "show": true,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "function",
                  "pattern": "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}<br/><b>End Time:</b> ${maxTime}<br/><b>Start Time:</b> ${minTime}",
                  "offsetX": 0,
                  "offsetY": -0.5,
                  "patternFunction": {
                    "body": "return utils.getMachineTooltip(ctx, data, true);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  },
                  "tagActions": null
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "xKey": {
                  "name": "latitude",
                  "label": "latitude",
                  "type": "timeseries",
                  "settings": {},
                  "color": "#2196f3"
                },
                "yKey": {
                  "name": "longitude",
                  "label": "longitude",
                  "type": "timeseries",
                  "settings": {},
                  "color": "#2196f3"
                },
                "showMarker": true,
                "markerType": "icon",
                "markerShape": {
                  "shape": "tripMarkerShape10",
                  "size": 34,
                  "color": {
                    "type": "constant",
                    "color": "#307FE5"
                  }
                },
                "markerIcon": {
                  "iconContainer": "tripIconContainer3",
                  "icon": "mdi:dump-truck",
                  "size": 28,
                  "color": {
                    "type": "constant",
                    "color": "#F5DD00",
                    "rangeKey": null,
                    "range": null,
                    "colorFunction": null
                  }
                },
                "markerImage": {
                  "type": "image",
                  "image": "/assets/markers/tripShape2.svg",
                  "imageSize": 34
                },
                "markerOffsetX": 0.5,
                "markerOffsetY": 0.5,
                "rotateMarker": false,
                "offsetAngle": 0,
                "showPath": true,
                "pathStrokeWeight": 3,
                "pathStrokeColor": {
                  "type": "constant",
                  "color": "#F5DD00",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "usePathDecorator": false,
                "pathDecoratorSymbol": "arrowHead",
                "pathDecoratorSymbolSize": 10,
                "pathDecoratorSymbolColor": "#307FE5",
                "pathDecoratorOffset": 20,
                "pathEndDecoratorOffset": 20,
                "pathDecoratorRepeat": 20,
                "showPoints": true,
                "pointSize": 5,
                "pointColor": {
                  "type": "constant",
                  "color": "#F5DD00",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "pointTooltip": {
                  "show": true,
                  "type": "function",
                  "pattern": "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}<br/><b>End Time:</b> ${maxTime}<br/><b>Start Time:</b> ${minTime}",
                  "patternFunction": {
                    "body": "return utils.getMachineTooltip(ctx, data, true);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  },
                  "trigger": "click",
                  "autoclose": true,
                  "tagActions": null
                }
              }
            ],
            "markers": [],
            "polygons": [
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}"
                },
                "tooltip": {
                  "show": false,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "pattern",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "offsetX": 0,
                  "offsetY": -1
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#A6BDB033",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#A6BDB0",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "8c3fd355-4302-f1c2-c934-bc5123c8b2de",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}"
                },
                "tooltip": {
                  "show": false,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "pattern",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "offsetX": 0,
                  "offsetY": -1
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#DD2C0033",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#DD2C00",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "e8cb695b-0f4f-2fca-b3ee-bbed3fca02f2",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}"
                },
                "tooltip": {
                  "show": false,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "pattern",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "offsetX": 0,
                  "offsetY": -1
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#1EBB4D33",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#1EBB4D",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "8b1126cf-55f9-f35e-4450-ddac60c2577a",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}"
                },
                "tooltip": {
                  "show": false,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "pattern",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "offsetX": 0,
                  "offsetY": -1
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#3388FF33",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#3388ff"
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              }
            ],
            "circles": [],
            "polylines": [],
            "additionalDataSources": [],
            "controlsPosition": "topleft",
            "zoomActions": [
              "scroll",
              "doubleClick",
              "controlButtons"
            ],
            "scales": [],
            "dragModeButton": false,
            "fitMapBounds": false,
            "useDefaultCenterPosition": false,
            "defaultCenterPosition": "0,0",
            "defaultZoomLevel": 17,
            "minZoomLevel": 16,
            "mapPageSize": 16384,
            "mapActionButtons": [],
            "tripTimeline": {
              "showTimelineControl": true,
              "timeStep": 1000,
              "speedOptions": [
                1,
                5,
                10,
                15,
                25
              ],
              "showTimestamp": true,
              "timestampFormat": {
                "format": "yyyy-MM-dd HH:mm:ss",
                "lastUpdateAgo": false,
                "custom": false,
                "auto": false
              },
              "snapToRealLocation": false,
              "locationSnapFilter": "return true;"
            },
            "background": {
              "type": "color",
              "color": "#fff",
              "overlay": {
                "enabled": false,
                "color": "rgba(255,255,255,0.72)",
                "blur": 3
              }
            },
            "padding": "12px",
            "imageSource": null
          },
          "title": "Route history",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": null,
          "mobileHeight": null,
          "configMode": "basic",
          "actions": {},
          "showTitleIcon": false,
          "titleIcon": "assistant_navigation",
          "iconColor": "#1F6BDD",
          "useDashboardTimewindow": true,
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": "Roboto",
            "weight": "500",
            "style": null,
            "lineHeight": "24px"
          },
          "titleColor": "#3D3D3D",
          "titleTooltip": "",
          "widgetStyle": {},
          "widgetCss": "",
          "pageSize": 1024,
          "units": "",
          "decimals": null,
          "noDataDisplayMessage": "",
          "timewindowStyle": {
            "showIcon": false,
            "iconSize": "24px",
            "icon": null,
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "400",
              "style": "normal",
              "lineHeight": "16px"
            },
            "color": "rgba(0, 0, 0, 0.38)",
            "displayTypePrefix": true
          },
          "margin": "0px",
          "borderRadius": "4px",
          "iconSize": "24px",
          "enableDataExport": false
        },
        "row": 0,
        "col": 0,
        "id": "40e5752a-29d6-cc06-4905-ded467eeac4d"
      },
      "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
        "typeFullFqn": "system.cards.aggregated_value_card",
        "type": "timeseries",
        "sizeX": 4.5,
        "sizeY": 3.5,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "1c770287-a30e-5426-fcc7-4cb4df4cc037",
              "dataKeys": [
                {
                  "name": "fuelLevel",
                  "type": "timeseries",
                  "label": "fuelLevel",
                  "color": "#A642F6",
                  "settings": {},
                  "units": "%",
                  "decimals": 0
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ]
              },
              "latestDataKeys": [
                {
                  "name": "fuelLevel",
                  "type": "timeseries",
                  "label": "Latest",
                  "color": "#4caf50",
                  "settings": {
                    "position": "center",
                    "font": {
                      "size": 52,
                      "sizeUnit": "px",
                      "family": "Roboto",
                      "weight": "500",
                      "style": "normal",
                      "lineHeight": "1"
                    },
                    "color": {
                      "type": "constant",
                      "color": "#A642F6",
                      "gradient": {
                        "advancedMode": false,
                        "gradient": [
                          "rgba(0, 255, 0, 1)",
                          "rgba(255, 0, 0, 1)"
                        ],
                        "gradientAdvanced": [
                          {
                            "source": {
                              "type": "constant"
                            },
                            "color": "rgba(0, 255, 0, 1)"
                          },
                          {
                            "source": {
                              "type": "constant"
                            },
                            "color": "rgba(255, 0, 0, 1)"
                          }
                        ],
                        "minValue": 0,
                        "maxValue": 100
                      },
                      "rangeList": {
                        "advancedMode": false,
                        "range": []
                      },
                      "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
                    },
                    "showArrow": false
                  },
                  "units": "%",
                  "decimals": 0,
                  "aggregationType": "NONE"
                }
              ]
            }
          ],
          "showTitle": true,
          "backgroundColor": "rgba(0, 0, 0, 0)",
          "color": null,
          "padding": "0",
          "settings": {
            "stack": false,
            "fontSize": 10,
            "fontColor": "#545454",
            "showTooltip": true,
            "tooltipIndividual": false,
            "tooltipCumulative": false,
            "hideZeros": false,
            "grid": {
              "verticalLines": true,
              "horizontalLines": true,
              "outlineWidth": 1,
              "color": "#545454",
              "backgroundColor": null,
              "tickColor": "#DDDDDD"
            },
            "xaxis": {
              "title": null,
              "showLabels": true,
              "color": "#545454"
            },
            "yaxis": {
              "min": null,
              "max": null,
              "title": null,
              "showLabels": true,
              "color": "#545454",
              "tickSize": null,
              "tickDecimals": 0,
              "ticksFormatter": ""
            },
            "shadowSize": 4,
            "smoothLines": false,
            "comparisonEnabled": false,
            "xaxisSecond": {
              "axisPosition": "top",
              "title": null,
              "showLabels": true
            },
            "showLegend": true,
            "legendConfig": {
              "direction": "column",
              "position": "bottom",
              "sortDataKeys": false,
              "showMin": false,
              "showMax": false,
              "showAvg": true,
              "showTotal": false,
              "showLatest": false
            },
            "customLegendEnabled": false,
            "showSubtitle": false,
            "subtitle": "${entityName}",
            "subtitleFont": {
              "family": "Roboto",
              "size": 12,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "400",
              "lineHeight": "16px"
            },
            "subtitleColor": "rgba(0, 0, 0, 0.38)",
            "showDate": false,
            "dateFormat": {
              "format": null,
              "lastUpdateAgo": true,
              "custom": false
            },
            "dateFont": {
              "family": "Roboto",
              "size": 12,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "400",
              "lineHeight": "16px"
            },
            "dateColor": "rgba(0, 0, 0, 0.38)",
            "showChart": true,
            "chartColor": "rgba(0, 0, 0, 0.87)",
            "background": {
              "type": "color",
              "color": "#fff",
              "overlay": {
                "enabled": false,
                "color": "rgba(255,255,255,0.72)",
                "blur": 3
              }
            },
            "autoScale": false,
            "padding": "18px"
          },
          "title": "Fuel level",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "mobileHeight": null,
          "configMode": "basic",
          "actions": {},
          "showTitleIcon": true,
          "titleIcon": "water_drop",
          "iconColor": "#A642F6",
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": "Roboto",
            "weight": "500",
            "style": "normal",
            "lineHeight": "24px"
          },
          "iconSize": "24px",
          "titleTooltip": "",
          "widgetStyle": {},
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "useDashboardTimewindow": true,
          "decimals": 0,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "24px",
            "icon": null,
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "400",
              "style": "normal",
              "lineHeight": "16px"
            },
            "color": "rgba(0, 0, 0, 0.38)",
            "displayTypePrefix": false
          },
          "titleColor": "rgba(0, 0, 0, 0.87)",
          "borderRadius": "4px",
          "enableDataExport": false
        },
        "row": 0,
        "col": 0,
        "id": "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79"
      },
      "9a67842e-2737-6c97-1098-a826c96e106c": {
        "typeFullFqn": "system.cards.aggregated_value_card",
        "type": "timeseries",
        "sizeX": 4.5,
        "sizeY": 3.5,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "1c770287-a30e-5426-fcc7-4cb4df4cc037",
              "dataKeys": [
                {
                  "name": "speed",
                  "type": "timeseries",
                  "label": "speed",
                  "color": "#E97C33",
                  "settings": {},
                  "units": {
                    "from": "mph",
                    "METRIC": "km/h",
                    "IMPERIAL": "mph",
                    "HYBRID": "mph"
                  },
                  "decimals": 0
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ]
              },
              "latestDataKeys": [
                {
                  "name": "speed",
                  "type": "timeseries",
                  "label": "Latest",
                  "color": "#4caf50",
                  "settings": {
                    "position": "center",
                    "font": {
                      "size": 52,
                      "sizeUnit": "px",
                      "family": "Roboto",
                      "weight": "500",
                      "style": "normal",
                      "lineHeight": "1"
                    },
                    "color": {
                      "type": "constant",
                      "color": "#E97C33",
                      "gradient": {
                        "advancedMode": false,
                        "gradient": [
                          "rgba(0, 255, 0, 1)",
                          "rgba(255, 0, 0, 1)"
                        ],
                        "gradientAdvanced": [
                          {
                            "source": {
                              "type": "constant"
                            },
                            "color": "rgba(0, 255, 0, 1)"
                          },
                          {
                            "source": {
                              "type": "constant"
                            },
                            "color": "rgba(255, 0, 0, 1)"
                          }
                        ],
                        "minValue": 0,
                        "maxValue": 100
                      },
                      "rangeList": {
                        "advancedMode": false,
                        "range": []
                      },
                      "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
                    },
                    "showArrow": false
                  },
                  "units": {
                    "from": "mph",
                    "METRIC": "km/h",
                    "IMPERIAL": "mph",
                    "HYBRID": "mph"
                  },
                  "decimals": 0,
                  "aggregationType": "NONE"
                }
              ]
            }
          ],
          "showTitle": true,
          "backgroundColor": "rgba(0, 0, 0, 0)",
          "color": null,
          "padding": "0",
          "settings": {
            "stack": false,
            "fontSize": 10,
            "fontColor": "#545454",
            "showTooltip": true,
            "tooltipIndividual": false,
            "tooltipCumulative": false,
            "hideZeros": false,
            "grid": {
              "verticalLines": true,
              "horizontalLines": true,
              "outlineWidth": 1,
              "color": "#545454",
              "backgroundColor": null,
              "tickColor": "#DDDDDD"
            },
            "xaxis": {
              "title": null,
              "showLabels": true,
              "color": "#545454"
            },
            "yaxis": {
              "min": null,
              "max": null,
              "title": null,
              "showLabels": true,
              "color": "#545454",
              "tickSize": null,
              "tickDecimals": 0,
              "ticksFormatter": ""
            },
            "shadowSize": 4,
            "smoothLines": false,
            "comparisonEnabled": false,
            "xaxisSecond": {
              "axisPosition": "top",
              "title": null,
              "showLabels": true
            },
            "showLegend": true,
            "legendConfig": {
              "direction": "column",
              "position": "bottom",
              "sortDataKeys": false,
              "showMin": false,
              "showMax": false,
              "showAvg": true,
              "showTotal": false,
              "showLatest": false
            },
            "customLegendEnabled": false,
            "showSubtitle": false,
            "subtitle": "${entityName}",
            "subtitleFont": {
              "family": "Roboto",
              "size": 12,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "400",
              "lineHeight": "16px"
            },
            "subtitleColor": "rgba(0, 0, 0, 0.38)",
            "showDate": false,
            "dateFormat": {
              "format": null,
              "lastUpdateAgo": true,
              "custom": false
            },
            "dateFont": {
              "family": "Roboto",
              "size": 12,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "400",
              "lineHeight": "16px"
            },
            "dateColor": "rgba(0, 0, 0, 0.38)",
            "showChart": true,
            "chartColor": "rgba(0, 0, 0, 0.87)",
            "background": {
              "type": "color",
              "color": "#fff",
              "overlay": {
                "enabled": false,
                "color": "rgba(255,255,255,0.72)",
                "blur": 3
              }
            },
            "autoScale": false,
            "padding": "18px"
          },
          "title": "Speed",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "mobileHeight": null,
          "configMode": "basic",
          "actions": {},
          "showTitleIcon": true,
          "titleIcon": "speed",
          "iconColor": "#E97C33",
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": "Roboto",
            "weight": "500",
            "style": "normal",
            "lineHeight": "24px"
          },
          "iconSize": "24px",
          "titleTooltip": "",
          "widgetStyle": {},
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "useDashboardTimewindow": true,
          "decimals": 0,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "24px",
            "icon": null,
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "400",
              "style": "normal",
              "lineHeight": "16px"
            },
            "color": "rgba(0, 0, 0, 0.38)",
            "displayTypePrefix": false
          },
          "titleColor": "rgba(0, 0, 0, 0.87)",
          "borderRadius": "4px",
          "enableDataExport": false
        },
        "row": 0,
        "col": 0,
        "id": "9a67842e-2737-6c97-1098-a826c96e106c"
      },
      "df059ed6-fe98-cf04-cfc5-abd2a777ab4d": {
        "typeFullFqn": "system.cards.aggregated_value_card",
        "type": "timeseries",
        "sizeX": 4.5,
        "sizeY": 3.5,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "1c770287-a30e-5426-fcc7-4cb4df4cc037",
              "dataKeys": [
                {
                  "name": "loadWeight",
                  "type": "timeseries",
                  "label": "loadWeight",
                  "color": "#106CC8",
                  "settings": {},
                  "units": {
                    "from": "lb",
                    "METRIC": "t",
                    "IMPERIAL": "lb",
                    "HYBRID": "lb"
                  },
                  "decimals": 0
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ]
              },
              "latestDataKeys": [
                {
                  "name": "loadWeight",
                  "type": "timeseries",
                  "label": "Latest",
                  "color": "#4caf50",
                  "settings": {
                    "position": "center",
                    "font": {
                      "size": 52,
                      "sizeUnit": "px",
                      "family": "Roboto",
                      "weight": "500",
                      "style": "normal",
                      "lineHeight": "1"
                    },
                    "color": {
                      "type": "constant",
                      "color": "#106CC8",
                      "gradient": {
                        "advancedMode": false,
                        "gradient": [
                          "rgba(0, 255, 0, 1)",
                          "rgba(255, 0, 0, 1)"
                        ],
                        "gradientAdvanced": [
                          {
                            "source": {
                              "type": "constant"
                            },
                            "color": "rgba(0, 255, 0, 1)"
                          },
                          {
                            "source": {
                              "type": "constant"
                            },
                            "color": "rgba(255, 0, 0, 1)"
                          }
                        ],
                        "minValue": 0,
                        "maxValue": 100
                      },
                      "rangeList": {
                        "advancedMode": false,
                        "range": []
                      },
                      "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
                    },
                    "showArrow": false
                  },
                  "units": {
                    "from": "lb",
                    "METRIC": "t",
                    "IMPERIAL": "lb",
                    "HYBRID": "lb"
                  },
                  "decimals": 0,
                  "aggregationType": "NONE"
                }
              ]
            }
          ],
          "showTitle": true,
          "backgroundColor": "rgba(0, 0, 0, 0)",
          "color": null,
          "padding": "0",
          "settings": {
            "stack": false,
            "fontSize": 10,
            "fontColor": "#545454",
            "showTooltip": true,
            "tooltipIndividual": false,
            "tooltipCumulative": false,
            "hideZeros": false,
            "grid": {
              "verticalLines": true,
              "horizontalLines": true,
              "outlineWidth": 1,
              "color": "#545454",
              "backgroundColor": null,
              "tickColor": "#DDDDDD"
            },
            "xaxis": {
              "title": null,
              "showLabels": true,
              "color": "#545454"
            },
            "yaxis": {
              "min": null,
              "max": null,
              "title": null,
              "showLabels": true,
              "color": "#545454",
              "tickSize": null,
              "tickDecimals": 0,
              "ticksFormatter": ""
            },
            "shadowSize": 4,
            "smoothLines": false,
            "comparisonEnabled": false,
            "xaxisSecond": {
              "axisPosition": "top",
              "title": null,
              "showLabels": true
            },
            "showLegend": true,
            "legendConfig": {
              "direction": "column",
              "position": "bottom",
              "sortDataKeys": false,
              "showMin": false,
              "showMax": false,
              "showAvg": true,
              "showTotal": false,
              "showLatest": false
            },
            "customLegendEnabled": false,
            "showSubtitle": false,
            "subtitle": "${entityName}",
            "subtitleFont": {
              "family": "Roboto",
              "size": 12,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "400",
              "lineHeight": "16px"
            },
            "subtitleColor": "rgba(0, 0, 0, 0.38)",
            "showDate": false,
            "dateFormat": {
              "format": null,
              "lastUpdateAgo": true,
              "custom": false
            },
            "dateFont": {
              "family": "Roboto",
              "size": 12,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "400",
              "lineHeight": "16px"
            },
            "dateColor": "rgba(0, 0, 0, 0.38)",
            "showChart": true,
            "chartColor": "rgba(0, 0, 0, 0.87)",
            "background": {
              "type": "color",
              "color": "#fff",
              "overlay": {
                "enabled": false,
                "color": "rgba(255,255,255,0.72)",
                "blur": 3
              }
            },
            "autoScale": false,
            "padding": "18px"
          },
          "title": "Load weight",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "mobileHeight": null,
          "configMode": "basic",
          "actions": {},
          "showTitleIcon": true,
          "titleIcon": "mdi:weight",
          "iconColor": "#106CC8",
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": "Roboto",
            "weight": "500",
            "style": "normal",
            "lineHeight": "24px"
          },
          "iconSize": "24px",
          "titleTooltip": "",
          "widgetStyle": {},
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "useDashboardTimewindow": true,
          "decimals": 0,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "24px",
            "icon": null,
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "400",
              "style": "normal",
              "lineHeight": "16px"
            },
            "color": "rgba(0, 0, 0, 0.38)",
            "displayTypePrefix": false
          },
          "titleColor": "rgba(0, 0, 0, 0.87)",
          "borderRadius": "4px",
          "enableDataExport": false
        },
        "row": 0,
        "col": 0,
        "id": "df059ed6-fe98-cf04-cfc5-abd2a777ab4d"
      },
      "7cd9f56a-d2b9-6949-cc6c-04dd738beffc": {
        "typeFullFqn": "system.alarm_widgets.alarms_table",
        "type": "alarm",
        "sizeX": 10.5,
        "sizeY": 6.5,
        "config": {
          "timewindow": {
            "selectedTab": 0,
            "realtime": {
              "realtimeType": 0,
              "timewindowMs": 2592000000
            }
          },
          "showTitle": true,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "8px",
          "settings": {
            "alarmsTitle": "Alarms",
            "enableSelection": true,
            "enableSearch": false,
            "enableSelectColumnDisplay": false,
            "enableFilter": true,
            "enableStickyHeader": true,
            "enableStickyAction": false,
            "showCellActionsMenu": true,
            "reserveSpaceForHiddenAction": "true",
            "displayDetails": true,
            "allowAcknowledgment": true,
            "allowClear": true,
            "allowAssign": false,
            "displayActivity": false,
            "displayPagination": true,
            "defaultPageSize": 10,
            "pageStepCount": 3,
            "pageStepIncrement": 10,
            "defaultSortOrder": "-createdTime",
            "useRowStyleFunction": false,
            "rowStyleFunction": ""
          },
          "title": "Alarms table",
          "dropShadow": false,
          "enableFullscreen": true,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400,
            "padding": "5px 10px 5px 10px"
          },
          "useDashboardTimewindow": false,
          "showLegend": false,
          "alarmSource": {
            "type": "entity",
            "name": "",
            "entityAliasId": "1c770287-a30e-5426-fcc7-4cb4df4cc037",
            "dataKeys": [
              {
                "name": "createdTime",
                "type": "alarm",
                "label": "Created time",
                "color": "#2196f3",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null,
                "aggregationType": null,
                "units": null,
                "decimals": null,
                "usePostProcessing": null,
                "postFuncBody": null
              },
              {
                "name": "originatorDisplayName",
                "type": "alarm",
                "label": "Originator",
                "color": "#4caf50",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null
              },
              {
                "name": "type",
                "type": "alarm",
                "label": "Type",
                "color": "#f44336",
                "settings": {
                  "customTitle": "",
                  "columnWidth": "130px",
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "useCellContentFunctionOnExport": true,
                  "cellContentFunction": "",
                  "defaultColumnVisibility": "visible",
                  "columnSelectionToDisplay": "enabled",
                  "columnExportOption": "onlyVisible",
                  "disableSorting": false
                },
                "funcBody": null,
                "aggregationType": null,
                "units": null,
                "decimals": null,
                "usePostProcessing": null,
                "postFuncBody": null
              },
              {
                "name": "severity",
                "type": "alarm",
                "label": "Severity",
                "color": "#ffc107",
                "settings": {
                  "useCellStyleFunction": false,
                  "useCellContentFunction": false
                },
                "funcBody": null
              },
              {
                "name": "status",
                "type": "alarm",
                "label": "Status",
                "color": "#607d8b",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null
              }
            ],
            "alarmFilterConfig": {
              "statusList": [
                "ACTIVE"
              ]
            }
          },
          "alarmsPollingInterval": 5,
          "showTitleIcon": false,
          "titleIcon": "warning",
          "iconColor": "rgba(0, 0, 0, 0.87)",
          "iconSize": "24px",
          "titleTooltip": "",
          "widgetStyle": {},
          "displayTimewindow": true,
          "actions": {},
          "configMode": "basic",
          "alarmFilterConfig": {
            "statusList": [],
            "severityList": [],
            "typeList": [],
            "searchPropagatedAlarms": false
          },
          "datasources": [],
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": null,
            "weight": "500",
            "style": null
          },
          "titleColor": "#3D3D3D",
          "enableDataExport": false,
          "borderRadius": "8px",
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": ""
        },
        "row": 0,
        "col": 0,
        "id": "7cd9f56a-d2b9-6949-cc6c-04dd738beffc"
      },
      "36f97071-3a29-8c3c-2e80-53b99cae1cd7": {
        "typeFullFqn": "system.trip_map",
        "type": "timeseries",
        "sizeX": 8.5,
        "sizeY": 6,
        "config": {
          "datasources": [],
          "showTitle": true,
          "backgroundColor": "rgba(0, 0, 0, 0)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "0px",
          "settings": {
            "mapType": "geoMap",
            "layers": [
              {
                "label": "{i18n:widgets.maps.layer.satellite}",
                "provider": "openstreet",
                "layerType": "Esri.WorldImagery"
              },
              {
                "label": "{i18n:widgets.maps.layer.roadmap}",
                "provider": "openstreet",
                "layerType": "OpenStreetMap.Mapnik"
              },
              {
                "label": "{i18n:widgets.maps.layer.hybrid}",
                "provider": "openstreet",
                "layerType": "Esri.WorldImagery",
                "referenceLayer": "openstreetmap_hybrid"
              }
            ],
            "trips": [
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "1c770287-a30e-5426-fcc7-4cb4df4cc037",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": [
                  {
                    "name": "type",
                    "type": "entityField",
                    "label": "Type",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "hydraulicPressure",
                    "type": "timeseries",
                    "label": "hydraulicPressure",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "fuelLevel",
                    "type": "timeseries",
                    "label": "fuelLevel",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "speed",
                    "type": "timeseries",
                    "label": "speed",
                    "color": "#2196f3",
                    "settings": {}
                  }
                ],
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}",
                  "patternFunction": null
                },
                "tooltip": {
                  "show": true,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "function",
                  "pattern": "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}<br/><b>End Time:</b> ${maxTime}<br/><b>Start Time:</b> ${minTime}",
                  "offsetX": 0,
                  "offsetY": -0.5,
                  "patternFunction": {
                    "body": "return utils.getMachineTooltip(ctx, data, true);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  },
                  "tagActions": null
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "xKey": {
                  "name": "latitude",
                  "label": "latitude",
                  "type": "timeseries",
                  "settings": {},
                  "color": "#2196f3"
                },
                "yKey": {
                  "name": "longitude",
                  "label": "longitude",
                  "type": "timeseries",
                  "settings": {},
                  "color": "#2196f3"
                },
                "showMarker": true,
                "markerType": "icon",
                "markerShape": {
                  "shape": "tripMarkerShape2",
                  "size": 34,
                  "color": {
                    "type": "constant",
                    "color": "#307FE5"
                  }
                },
                "markerIcon": {
                  "iconContainer": "tripIconContainer3",
                  "icon": "mdi:excavator",
                  "size": 28,
                  "color": {
                    "type": "constant",
                    "color": "#F5DD00",
                    "rangeKey": null,
                    "range": null,
                    "colorFunction": null
                  }
                },
                "markerImage": {
                  "type": "image",
                  "image": "/assets/markers/tripShape2.svg",
                  "imageSize": 34
                },
                "markerOffsetX": 0.5,
                "markerOffsetY": 0.5,
                "rotateMarker": false,
                "offsetAngle": 0,
                "showPath": true,
                "pathStrokeWeight": 3,
                "pathStrokeColor": {
                  "type": "constant",
                  "color": "#F5DD00",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "usePathDecorator": false,
                "pathDecoratorSymbol": "arrowHead",
                "pathDecoratorSymbolSize": 10,
                "pathDecoratorSymbolColor": "#307FE5",
                "pathDecoratorOffset": 20,
                "pathEndDecoratorOffset": 20,
                "pathDecoratorRepeat": 20,
                "showPoints": true,
                "pointSize": 5,
                "pointColor": {
                  "type": "constant",
                  "color": "#F5DD00",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "pointTooltip": {
                  "show": true,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "function",
                  "pattern": "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}<br/><b>End Time:</b> ${maxTime}<br/><b>Start Time:</b> ${minTime}",
                  "offsetX": 0,
                  "offsetY": -1,
                  "patternFunction": {
                    "body": "return utils.getMachineTooltip(ctx, data, true);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  },
                  "tagActions": null
                }
              }
            ],
            "markers": [],
            "polygons": [
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}"
                },
                "tooltip": {
                  "show": false,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "pattern",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "offsetX": 0,
                  "offsetY": -1
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#A6BDB033",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#A6BDB0",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "8c3fd355-4302-f1c2-c934-bc5123c8b2de",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}"
                },
                "tooltip": {
                  "show": false,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "pattern",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "offsetX": 0,
                  "offsetY": -1
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#DD2C0033",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#DD2C00",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "e8cb695b-0f4f-2fca-b3ee-bbed3fca02f2",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}"
                },
                "tooltip": {
                  "show": false,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "pattern",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "offsetX": 0,
                  "offsetY": -1
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#1EBB4D33",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#1EBB4D",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "8b1126cf-55f9-f35e-4450-ddac60c2577a",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}"
                },
                "tooltip": {
                  "show": false,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "pattern",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "offsetX": 0,
                  "offsetY": -1
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#3388FF33",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#3388ff"
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              }
            ],
            "circles": [],
            "polylines": [],
            "additionalDataSources": [],
            "controlsPosition": "topleft",
            "zoomActions": [
              "scroll"
            ],
            "scales": [],
            "dragModeButton": false,
            "fitMapBounds": true,
            "useDefaultCenterPosition": false,
            "defaultCenterPosition": "0,0",
            "defaultZoomLevel": null,
            "minZoomLevel": 16,
            "mapPageSize": 16384,
            "mapActionButtons": [],
            "tripTimeline": {
              "showTimelineControl": true,
              "timeStep": 1000,
              "speedOptions": [
                1,
                5,
                10,
                15,
                25
              ],
              "showTimestamp": true,
              "timestampFormat": {
                "format": "yyyy-MM-dd HH:mm:ss",
                "lastUpdateAgo": false,
                "custom": false,
                "auto": false
              },
              "snapToRealLocation": false,
              "locationSnapFilter": "return true;"
            },
            "background": {
              "type": "color",
              "color": "#fff",
              "overlay": {
                "enabled": false,
                "color": "rgba(255,255,255,0.72)",
                "blur": 3
              }
            },
            "padding": "12px",
            "imageSource": null
          },
          "title": "Route history",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": null,
          "mobileHeight": null,
          "configMode": "basic",
          "actions": {},
          "showTitleIcon": false,
          "titleIcon": "assistant_navigation",
          "iconColor": "#1F6BDD",
          "useDashboardTimewindow": true,
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": null,
            "weight": "500",
            "style": null,
            "lineHeight": null
          },
          "titleColor": "#3D3D3D",
          "titleTooltip": "",
          "widgetStyle": {},
          "widgetCss": "",
          "pageSize": 1024,
          "units": "",
          "decimals": null,
          "noDataDisplayMessage": "",
          "timewindowStyle": {
            "showIcon": false,
            "iconSize": "24px",
            "icon": null,
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "400",
              "style": "normal",
              "lineHeight": "16px"
            },
            "color": "rgba(0, 0, 0, 0.38)",
            "displayTypePrefix": true
          },
          "margin": "0px",
          "borderRadius": "4px",
          "iconSize": "24px",
          "enableDataExport": false
        },
        "row": 0,
        "col": 0,
        "id": "36f97071-3a29-8c3c-2e80-53b99cae1cd7"
      },
      "fd494776-252f-7e13-58ae-bc50d293c0b3": {
        "typeFullFqn": "system.cards.aggregated_value_card",
        "type": "timeseries",
        "sizeX": 4.5,
        "sizeY": 3.5,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "1c770287-a30e-5426-fcc7-4cb4df4cc037",
              "dataKeys": [
                {
                  "name": "hydraulicPressure",
                  "type": "timeseries",
                  "label": "hydraulicPressure",
                  "color": "#106CC8",
                  "settings": {},
                  "units": {
                    "from": "psi",
                    "METRIC": "bar",
                    "IMPERIAL": "psi",
                    "HYBRID": "psi"
                  },
                  "decimals": 0
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ]
              },
              "latestDataKeys": [
                {
                  "name": "hydraulicPressure",
                  "type": "timeseries",
                  "label": "Latest",
                  "color": "#4caf50",
                  "settings": {
                    "position": "center",
                    "font": {
                      "size": 52,
                      "sizeUnit": "px",
                      "family": "Roboto",
                      "weight": "500",
                      "style": "normal",
                      "lineHeight": "1"
                    },
                    "color": {
                      "type": "constant",
                      "color": "#106CC8",
                      "gradient": {
                        "advancedMode": false,
                        "gradient": [
                          "rgba(0, 255, 0, 1)",
                          "rgba(255, 0, 0, 1)"
                        ],
                        "gradientAdvanced": [
                          {
                            "source": {
                              "type": "constant"
                            },
                            "color": "rgba(0, 255, 0, 1)"
                          },
                          {
                            "source": {
                              "type": "constant"
                            },
                            "color": "rgba(255, 0, 0, 1)"
                          }
                        ],
                        "minValue": 0,
                        "maxValue": 100
                      },
                      "rangeList": {
                        "advancedMode": false,
                        "range": []
                      },
                      "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
                    },
                    "showArrow": false
                  },
                  "units": {
                    "from": "psi",
                    "METRIC": "bar",
                    "IMPERIAL": "psi",
                    "HYBRID": "psi"
                  },
                  "decimals": 0,
                  "aggregationType": "NONE"
                }
              ]
            }
          ],
          "showTitle": true,
          "backgroundColor": "rgba(0, 0, 0, 0)",
          "color": null,
          "padding": "0",
          "settings": {
            "stack": false,
            "fontSize": 10,
            "fontColor": "#545454",
            "showTooltip": true,
            "tooltipIndividual": false,
            "tooltipCumulative": false,
            "hideZeros": false,
            "grid": {
              "verticalLines": true,
              "horizontalLines": true,
              "outlineWidth": 1,
              "color": "#545454",
              "backgroundColor": null,
              "tickColor": "#DDDDDD"
            },
            "xaxis": {
              "title": null,
              "showLabels": true,
              "color": "#545454"
            },
            "yaxis": {
              "min": null,
              "max": null,
              "title": null,
              "showLabels": true,
              "color": "#545454",
              "tickSize": null,
              "tickDecimals": 0,
              "ticksFormatter": ""
            },
            "shadowSize": 4,
            "smoothLines": false,
            "comparisonEnabled": false,
            "xaxisSecond": {
              "axisPosition": "top",
              "title": null,
              "showLabels": true
            },
            "showLegend": true,
            "legendConfig": {
              "direction": "column",
              "position": "bottom",
              "sortDataKeys": false,
              "showMin": false,
              "showMax": false,
              "showAvg": true,
              "showTotal": false,
              "showLatest": false
            },
            "customLegendEnabled": false,
            "showSubtitle": false,
            "subtitle": "${entityName}",
            "subtitleFont": {
              "family": "Roboto",
              "size": 12,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "400",
              "lineHeight": "16px"
            },
            "subtitleColor": "rgba(0, 0, 0, 0.38)",
            "showDate": false,
            "dateFormat": {
              "format": null,
              "lastUpdateAgo": true,
              "custom": false
            },
            "dateFont": {
              "family": "Roboto",
              "size": 12,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "400",
              "lineHeight": "16px"
            },
            "dateColor": "rgba(0, 0, 0, 0.38)",
            "showChart": true,
            "chartColor": "rgba(0, 0, 0, 0.87)",
            "background": {
              "type": "color",
              "color": "#fff",
              "overlay": {
                "enabled": false,
                "color": "rgba(255,255,255,0.72)",
                "blur": 3
              }
            },
            "autoScale": false,
            "padding": "18px"
          },
          "title": "Hydraulic pressure",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "mobileHeight": null,
          "configMode": "basic",
          "actions": {},
          "showTitleIcon": true,
          "titleIcon": "compress",
          "iconColor": "#106CC8",
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": "Roboto",
            "weight": "500",
            "style": "normal",
            "lineHeight": "24px"
          },
          "iconSize": "24px",
          "titleTooltip": "",
          "widgetStyle": {},
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "useDashboardTimewindow": true,
          "decimals": 0,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "24px",
            "icon": null,
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "400",
              "style": "normal",
              "lineHeight": "16px"
            },
            "color": "rgba(0, 0, 0, 0.38)",
            "displayTypePrefix": false
          },
          "titleColor": "rgba(0, 0, 0, 0.87)",
          "borderRadius": "4px",
          "enableDataExport": false
        },
        "row": 0,
        "col": 0,
        "id": "fd494776-252f-7e13-58ae-bc50d293c0b3"
      },
      "6903f111-7620-b4be-5048-2cb735a0f364": {
        "typeFullFqn": "system.alarm_widgets.alarms_table",
        "type": "alarm",
        "sizeX": 10.5,
        "sizeY": 6.5,
        "config": {
          "timewindow": {
            "selectedTab": 0,
            "realtime": {
              "realtimeType": 0,
              "timewindowMs": 2592000000
            }
          },
          "showTitle": true,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "8px",
          "settings": {
            "alarmsTitle": "Alarms",
            "enableSelection": true,
            "enableSearch": false,
            "enableSelectColumnDisplay": false,
            "enableFilter": true,
            "enableStickyHeader": true,
            "enableStickyAction": false,
            "showCellActionsMenu": true,
            "reserveSpaceForHiddenAction": "true",
            "displayDetails": true,
            "allowAcknowledgment": true,
            "allowClear": true,
            "allowAssign": false,
            "displayActivity": false,
            "displayPagination": true,
            "defaultPageSize": 10,
            "pageStepCount": 3,
            "pageStepIncrement": 10,
            "defaultSortOrder": "-createdTime",
            "useRowStyleFunction": false,
            "rowStyleFunction": ""
          },
          "title": "Alarms table",
          "dropShadow": false,
          "enableFullscreen": true,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400,
            "padding": "5px 10px 5px 10px"
          },
          "useDashboardTimewindow": false,
          "showLegend": false,
          "alarmSource": {
            "type": "entity",
            "name": "",
            "entityAliasId": "1c770287-a30e-5426-fcc7-4cb4df4cc037",
            "dataKeys": [
              {
                "name": "createdTime",
                "type": "alarm",
                "label": "Created time",
                "color": "#2196f3",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null,
                "aggregationType": null,
                "units": null,
                "decimals": null,
                "usePostProcessing": null,
                "postFuncBody": null
              },
              {
                "name": "originatorDisplayName",
                "type": "alarm",
                "label": "Originator",
                "color": "#4caf50",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null
              },
              {
                "name": "type",
                "type": "alarm",
                "label": "Type",
                "color": "#f44336",
                "settings": {
                  "customTitle": "",
                  "columnWidth": "130px",
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "useCellContentFunctionOnExport": true,
                  "cellContentFunction": "",
                  "defaultColumnVisibility": "visible",
                  "columnSelectionToDisplay": "enabled",
                  "columnExportOption": "onlyVisible",
                  "disableSorting": false
                },
                "funcBody": null,
                "aggregationType": null,
                "units": null,
                "decimals": null,
                "usePostProcessing": null,
                "postFuncBody": null
              },
              {
                "name": "severity",
                "type": "alarm",
                "label": "Severity",
                "color": "#ffc107",
                "settings": {
                  "useCellStyleFunction": false,
                  "useCellContentFunction": false
                },
                "funcBody": null
              },
              {
                "name": "status",
                "type": "alarm",
                "label": "Status",
                "color": "#607d8b",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null
              }
            ],
            "alarmFilterConfig": {
              "statusList": [
                "ACTIVE"
              ]
            }
          },
          "alarmsPollingInterval": 5,
          "showTitleIcon": false,
          "titleIcon": "warning",
          "iconColor": "rgba(0, 0, 0, 0.87)",
          "iconSize": "24px",
          "titleTooltip": "",
          "widgetStyle": {},
          "displayTimewindow": true,
          "actions": {},
          "configMode": "basic",
          "alarmFilterConfig": {
            "statusList": [
              "ACTIVE"
            ],
            "severityList": [],
            "typeList": [],
            "searchPropagatedAlarms": false,
            "assignedToCurrentUser": false,
            "assigneeId": null
          },
          "datasources": [],
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": null,
            "weight": "500",
            "style": null
          },
          "titleColor": "#3D3D3D",
          "enableDataExport": false,
          "borderRadius": "4px",
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": ""
        },
        "row": 0,
        "col": 0,
        "id": "6903f111-7620-b4be-5048-2cb735a0f364"
      },
      "7112fda9-f755-8041-18dd-c209f7775fca": {
        "typeFullFqn": "system.entity_count",
        "type": "latest",
        "sizeX": 3.5,
        "sizeY": 1.5,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
              "dataKeys": [
                {
                  "name": "insideLoadingZone",
                  "type": "timeseries",
                  "label": "insideLoadingZone",
                  "color": "#2196f3",
                  "settings": {}
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ],
                "assignedToCurrentUser": false,
                "assigneeId": null
              }
            }
          ],
          "showTitle": false,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "0px",
          "settings": {
            "showLabel": true,
            "label": "Machines in Loading",
            "labelFont": {
              "size": 16,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "24px"
            },
            "labelColor": {
              "type": "constant",
              "color": "#3D3D3D",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIcon": true,
            "iconSize": 32,
            "iconSizeUnit": "px",
            "icon": "unarchive",
            "iconColor": {
              "type": "constant",
              "color": "#3388FF",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIconBackground": false,
            "iconBackgroundSize": 36,
            "iconBackgroundSizeUnit": "px",
            "iconBackgroundColor": {
              "type": "constant",
              "color": "rgb(241, 141, 23)",
              "rangeList": {
                "advancedMode": false,
                "range": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "valueFont": {
              "size": 28,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "100%"
            },
            "valueColor": {
              "type": "constant",
              "color": "rgba(0, 0, 0, 0.87)",
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showChevron": false,
            "chevronSize": 24,
            "chevronSizeUnit": "px",
            "chevronColor": "rgba(0, 0, 0, 0.38)",
            "layout": "row",
            "autoScale": false
          },
          "title": "Entity count",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "units": "",
          "decimals": null,
          "showLegend": false,
          "widgetStyle": {},
          "actions": {},
          "configMode": "basic",
          "margin": "0px",
          "borderRadius": "4px",
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "showTitleIcon": false,
          "titleTooltip": "",
          "titleFont": {
            "size": 12,
            "sizeUnit": "px",
            "family": null,
            "weight": null,
            "style": null,
            "lineHeight": "1"
          },
          "titleIcon": "",
          "iconColor": "rgba(0, 0, 0, 0.87)",
          "iconSize": "14px",
          "titleColor": "rgba(0, 0, 0, 0.54)",
          "enableDataExport": false,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "14px",
            "icon": "query_builder",
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": null,
              "weight": null,
              "style": null,
              "lineHeight": "1"
            },
            "color": null
          }
        },
        "row": 0,
        "col": 0,
        "id": "7112fda9-f755-8041-18dd-c209f7775fca"
      },
      "801c7445-75f6-fdcd-7145-54b30885fd29": {
        "typeFullFqn": "system.entity_count",
        "type": "latest",
        "sizeX": 3.5,
        "sizeY": 1.5,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
              "dataKeys": [
                {
                  "name": "insideUnloadingZone",
                  "type": "timeseries",
                  "label": "insideUnloadingZone",
                  "color": "#2196f3",
                  "settings": {}
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ],
                "assignedToCurrentUser": false,
                "assigneeId": null
              }
            }
          ],
          "showTitle": false,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "0px",
          "settings": {
            "showLabel": true,
            "label": "Machines in Unloading",
            "labelFont": {
              "size": 16,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "24px"
            },
            "labelColor": {
              "type": "constant",
              "color": "#3D3D3D",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIcon": true,
            "iconSize": 32,
            "iconSizeUnit": "px",
            "icon": "archive",
            "iconColor": {
              "type": "constant",
              "color": "#1EBB4D",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIconBackground": false,
            "iconBackgroundSize": 36,
            "iconBackgroundSizeUnit": "px",
            "iconBackgroundColor": {
              "type": "constant",
              "color": "rgb(241, 141, 23)",
              "rangeList": {
                "advancedMode": false,
                "range": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "valueFont": {
              "size": 28,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "100%"
            },
            "valueColor": {
              "type": "constant",
              "color": "rgba(0, 0, 0, 0.87)",
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showChevron": false,
            "chevronSize": 24,
            "chevronSizeUnit": "px",
            "chevronColor": "rgba(0, 0, 0, 0.38)",
            "layout": "row",
            "autoScale": false
          },
          "title": "Entity count",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "units": "",
          "decimals": null,
          "showLegend": false,
          "widgetStyle": {},
          "actions": {},
          "configMode": "basic",
          "margin": "0px",
          "borderRadius": "4px",
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "showTitleIcon": false,
          "titleTooltip": "",
          "titleFont": {
            "size": 12,
            "sizeUnit": "px",
            "family": null,
            "weight": null,
            "style": null,
            "lineHeight": "1"
          },
          "titleIcon": "",
          "iconColor": "rgba(0, 0, 0, 0.87)",
          "iconSize": "14px",
          "titleColor": "rgba(0, 0, 0, 0.54)",
          "enableDataExport": false,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "14px",
            "icon": "query_builder",
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": null,
              "weight": null,
              "style": null,
              "lineHeight": "1"
            },
            "color": null
          }
        },
        "row": 0,
        "col": 0,
        "id": "801c7445-75f6-fdcd-7145-54b30885fd29"
      },
      "45c858b9-5e54-1a27-216c-d9f6d764a8e1": {
        "typeFullFqn": "system.entity_count",
        "type": "latest",
        "sizeX": 3.5,
        "sizeY": 1.5,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
              "dataKeys": [
                {
                  "name": "insideRestrictedZone",
                  "type": "timeseries",
                  "label": "insideRestrictedZone",
                  "color": "#2196f3",
                  "settings": {}
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ],
                "assignedToCurrentUser": false,
                "assigneeId": null
              }
            }
          ],
          "showTitle": false,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "0px",
          "settings": {
            "showLabel": true,
            "label": "Machines in Restricted",
            "labelFont": {
              "size": 16,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "24px"
            },
            "labelColor": {
              "type": "constant",
              "color": "#3D3D3D",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIcon": true,
            "iconSize": 32,
            "iconSizeUnit": "px",
            "icon": "do_disturb",
            "iconColor": {
              "type": "constant",
              "color": "#DD2C00",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIconBackground": false,
            "iconBackgroundSize": 36,
            "iconBackgroundSizeUnit": "px",
            "iconBackgroundColor": {
              "type": "constant",
              "color": "rgb(241, 141, 23)",
              "rangeList": {
                "advancedMode": false,
                "range": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "valueFont": {
              "size": 28,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "100%"
            },
            "valueColor": {
              "type": "constant",
              "color": "rgba(0, 0, 0, 0.87)",
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showChevron": false,
            "chevronSize": 24,
            "chevronSizeUnit": "px",
            "chevronColor": "rgba(0, 0, 0, 0.38)",
            "layout": "row",
            "autoScale": false
          },
          "title": "Entity count",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "units": "",
          "decimals": null,
          "showLegend": false,
          "widgetStyle": {},
          "actions": {},
          "configMode": "basic",
          "margin": "0px",
          "borderRadius": "4px",
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "showTitleIcon": false,
          "titleTooltip": "",
          "titleFont": {
            "size": 12,
            "sizeUnit": "px",
            "family": null,
            "weight": null,
            "style": null,
            "lineHeight": "1"
          },
          "titleIcon": "",
          "iconColor": "rgba(0, 0, 0, 0.87)",
          "iconSize": "14px",
          "titleColor": "rgba(0, 0, 0, 0.54)",
          "enableDataExport": false,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "14px",
            "icon": "query_builder",
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": null,
              "weight": null,
              "style": null,
              "lineHeight": "1"
            },
            "color": null
          }
        },
        "row": 0,
        "col": 0,
        "id": "45c858b9-5e54-1a27-216c-d9f6d764a8e1"
      },
      "4fdba794-0dd5-bf0f-58d2-d06ee5d0b126": {
        "typeFullFqn": "system.map",
        "type": "latest",
        "sizeX": 8.5,
        "sizeY": 6,
        "config": {
          "datasources": [],
          "showTitle": false,
          "backgroundColor": "rgba(0, 0, 0, 0)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "0px",
          "settings": {
            "mapType": "geoMap",
            "layers": [
              {
                "label": "{i18n:widgets.maps.layer.satellite}",
                "provider": "openstreet",
                "layerType": "Esri.WorldImagery"
              },
              {
                "label": "{i18n:widgets.maps.layer.roadmap}",
                "provider": "openstreet",
                "layerType": "OpenStreetMap.Mapnik"
              },
              {
                "label": "{i18n:widgets.maps.layer.hybrid}",
                "provider": "openstreet",
                "layerType": "Esri.WorldImagery",
                "referenceLayer": "openstreetmap_hybrid"
              }
            ],
            "imageSource": null,
            "markers": [
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "f58cc40f-4838-47d6-2b4d-cb0b446b4763",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": [
                  {
                    "name": "geoStatus",
                    "type": "timeseries",
                    "label": "geoStatusColor",
                    "color": "#2196f3",
                    "settings": {},
                    "aggregationType": "NONE",
                    "units": null,
                    "decimals": null,
                    "funcBody": null,
                    "usePostProcessing": true,
                    "postFuncBody": {
                      "body": "return utils.geoStatusToColor(value);",
                      "modules": {
                        "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                      }
                    }
                  },
                  {
                    "name": "fuelLevel",
                    "type": "timeseries",
                    "label": "fuelLevel",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "speed",
                    "type": "timeseries",
                    "label": "speed",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "loadWeght",
                    "type": "timeseries",
                    "label": "loadWeght",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "type",
                    "type": "entityField",
                    "label": "Type",
                    "color": "#2196f3",
                    "settings": {}
                  }
                ],
                "label": {
                  "show": true,
                  "type": "function",
                  "pattern": "${entityName}",
                  "patternFunction": {
                    "body": "return utils.markerLabel(data);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  }
                },
                "tooltip": {
                  "show": true,
                  "type": "function",
                  "pattern": "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}<br/><b>Temperature:</b> ${temperature} Â°C<br/><small>See tooltip settings for details</small>",
                  "patternFunction": {
                    "body": "return utils.getMachineTooltip(ctx, data);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  },
                  "trigger": "click",
                  "autoclose": true,
                  "offsetX": 0,
                  "offsetY": -1,
                  "tagActions": [
                    {
                      "name": "machine-details",
                      "type": "openDashboardState",
                      "targetDashboardStateId": "truck-details",
                      "setEntityId": true,
                      "stateEntityParamName": null,
                      "openRightLayout": false,
                      "openInSeparateDialog": false,
                      "openInPopover": false
                    }
                  ]
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "xKey": {
                  "name": "latitude",
                  "type": "timeseries",
                  "label": "latitude",
                  "color": "#2196f3",
                  "settings": {}
                },
                "yKey": {
                  "name": "longitude",
                  "type": "timeseries",
                  "label": "longitude",
                  "color": "#2196f3",
                  "settings": {}
                },
                "markerType": "icon",
                "markerShape": {
                  "shape": "markerShape1",
                  "size": 34,
                  "color": {
                    "type": "function",
                    "color": "#307FE5",
                    "rangeKey": null,
                    "range": null,
                    "colorFunction": {
                      "body": "return data.geoStatusColor.split(';')[0];",
                      "modules": {
                        "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                      }
                    }
                  }
                },
                "markerIcon": {
                  "iconContainer": "iconContainer2",
                  "icon": "mdi:dump-truck",
                  "size": 68,
                  "color": {
                    "type": "function",
                    "color": "#307FE5",
                    "rangeKey": null,
                    "range": null,
                    "colorFunction": {
                      "body": "return data.geoStatusColor.split(';')[0];",
                      "modules": {
                        "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                      }
                    }
                  }
                },
                "markerImage": {
                  "type": "image",
                  "image": "/assets/markers/shape1.svg",
                  "imageSize": 34
                },
                "markerOffsetX": 0.5,
                "markerOffsetY": 1,
                "markerClustering": {
                  "enable": false,
                  "zoomOnClick": true,
                  "maxZoom": null,
                  "maxClusterRadius": 80,
                  "zoomAnimation": true,
                  "showCoverageOnHover": true,
                  "spiderfyOnMaxZoom": false,
                  "chunkedLoad": false,
                  "lazyLoad": true,
                  "useClusterMarkerColorFunction": false,
                  "clusterMarkerColorFunction": null
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "39965975-0406-fdab-98c7-a4653372d926",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": [
                  {
                    "name": "fuelLevel",
                    "type": "timeseries",
                    "label": "fuelLevel",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "geoStatus",
                    "type": "timeseries",
                    "label": "geoStatusColor",
                    "color": "#2196f3",
                    "settings": {},
                    "aggregationType": "NONE",
                    "units": null,
                    "decimals": null,
                    "funcBody": null,
                    "usePostProcessing": true,
                    "postFuncBody": {
                      "body": "return utils.geoStatusToColor(value);",
                      "modules": {
                        "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                      }
                    }
                  },
                  {
                    "name": "speed",
                    "type": "timeseries",
                    "label": "speed",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "hydraulicPressure",
                    "type": "timeseries",
                    "label": "hydraulicPressure",
                    "color": "#2196f3",
                    "settings": {}
                  },
                  {
                    "name": "type",
                    "type": "entityField",
                    "label": "Type",
                    "color": "#2196f3",
                    "settings": {}
                  }
                ],
                "label": {
                  "show": true,
                  "type": "function",
                  "pattern": "${entityName}",
                  "patternFunction": {
                    "body": "return utils.markerLabel(data);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  }
                },
                "tooltip": {
                  "show": true,
                  "type": "function",
                  "pattern": "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}<br/><b>Temperature:</b> ${temperature} Â°C<br/><small>See tooltip settings for details</small>",
                  "patternFunction": {
                    "body": "return utils.getMachineTooltip(ctx, data);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  },
                  "trigger": "click",
                  "autoclose": true,
                  "offsetX": 0,
                  "offsetY": -1,
                  "tagActions": [
                    {
                      "name": "machine-details",
                      "type": "openDashboardState",
                      "targetDashboardStateId": "excavator-details",
                      "setEntityId": true,
                      "stateEntityParamName": null,
                      "openRightLayout": false,
                      "openInSeparateDialog": false,
                      "openInPopover": false
                    }
                  ]
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "xKey": {
                  "name": "latitude",
                  "type": "timeseries",
                  "label": "latitude",
                  "color": "#2196f3",
                  "settings": {}
                },
                "yKey": {
                  "name": "longitude",
                  "type": "timeseries",
                  "label": "longitude",
                  "color": "#2196f3",
                  "settings": {}
                },
                "markerType": "icon",
                "markerShape": {
                  "shape": "markerShape1",
                  "size": 34,
                  "color": {
                    "type": "constant",
                    "color": "#307FE5"
                  }
                },
                "markerIcon": {
                  "iconContainer": "iconContainer2",
                  "icon": "mdi:excavator",
                  "size": 68,
                  "color": {
                    "type": "function",
                    "color": "#307FE5",
                    "rangeKey": null,
                    "range": null,
                    "colorFunction": {
                      "body": "return data.geoStatusColor.split(';')[0];",
                      "modules": {
                        "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                      }
                    }
                  }
                },
                "markerImage": {
                  "type": "image",
                  "image": "/assets/markers/shape1.svg",
                  "imageSize": 34
                },
                "markerOffsetX": 0.5,
                "markerOffsetY": 1,
                "markerClustering": {
                  "enable": false,
                  "zoomOnClick": true,
                  "maxZoom": null,
                  "maxClusterRadius": 80,
                  "zoomAnimation": true,
                  "showCoverageOnHover": true,
                  "spiderfyOnMaxZoom": false,
                  "chunkedLoad": false,
                  "lazyLoad": true,
                  "useClusterMarkerColorFunction": false,
                  "clusterMarkerColorFunction": null
                }
              }
            ],
            "polygons": [
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": null,
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}"
                },
                "tooltip": {
                  "show": false,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "pattern",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "offsetX": 0,
                  "offsetY": -1
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "constant",
                  "color": "#A6BDB033",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "constant",
                  "color": "#A6BDB0",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": null
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              },
              {
                "dsType": "entity",
                "dsLabel": "",
                "dsDeviceId": null,
                "dsEntityAliasId": "1c770287-a30e-5426-fcc7-4cb4df4cc037",
                "dsFilterId": null,
                "additionalDataSources": null,
                "additionalDataKeys": [
                  {
                    "name": "type",
                    "type": "attribute",
                    "label": "type",
                    "color": "#2196f3",
                    "settings": {}
                  }
                ],
                "label": {
                  "show": false,
                  "type": "pattern",
                  "pattern": "${entityName}"
                },
                "tooltip": {
                  "show": false,
                  "trigger": "click",
                  "autoclose": true,
                  "type": "pattern",
                  "pattern": "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
                  "offsetX": 0,
                  "offsetY": -1
                },
                "click": {
                  "type": "doNothing"
                },
                "groups": null,
                "edit": {
                  "enabledActions": [],
                  "attributeScope": "SERVER_SCOPE",
                  "snappable": false
                },
                "fillType": "color",
                "fillColor": {
                  "type": "function",
                  "color": "rgba(51,136,255,0.2)",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": {
                    "body": "return utils.zoneTypeToColor(data.type) + '20';",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  }
                },
                "fillStripe": {
                  "weight": 3,
                  "color": {
                    "type": "constant",
                    "color": "#8f8f8f"
                  },
                  "spaceWeight": 9,
                  "spaceColor": {
                    "type": "constant",
                    "color": "rgba(143,143,143,0)"
                  },
                  "angle": 45
                },
                "fillImage": {
                  "type": "image",
                  "image": "/assets/widget-preview-empty.svg",
                  "preserveAspectRatio": true,
                  "opacity": 1,
                  "angle": 0,
                  "scale": 1
                },
                "strokeColor": {
                  "type": "function",
                  "color": "#3388ff",
                  "rangeKey": null,
                  "range": null,
                  "colorFunction": {
                    "body": "return utils.zoneTypeToColor(data.type);",
                    "modules": {
                      "utils": "tb-resource;/api/resource/js_module/system/Mine site monitoring solution JS utils.js"
                    }
                  }
                },
                "strokeWeight": 3,
                "polygonKey": {
                  "name": "perimeter",
                  "label": "perimeter",
                  "type": "attribute",
                  "settings": {},
                  "color": "#2196f3"
                }
              }
            ],
            "circles": [],
            "polylines": [],
            "additionalDataSources": [],
            "controlsPosition": "topleft",
            "zoomActions": [
              "scroll"
            ],
            "scales": [],
            "dragModeButton": false,
            "fitMapBounds": true,
            "useDefaultCenterPosition": false,
            "defaultCenterPosition": "0,0",
            "defaultZoomLevel": null,
            "mapPageSize": 16384,
            "mapActionButtons": [],
            "background": {
              "type": "color",
              "color": "#fff",
              "overlay": {
                "enabled": false,
                "color": "rgba(255,255,255,0.72)",
                "blur": 3
              }
            },
            "padding": "8px"
          },
          "title": "Map",
          "showTitleIcon": false,
          "titleTooltip": "",
          "dropShadow": true,
          "enableFullscreen": false,
          "widgetStyle": {},
          "widgetCss": "",
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "configMode": "basic",
          "titleFont": null,
          "titleColor": null,
          "margin": "0px",
          "borderRadius": "4px",
          "iconSize": "24px",
          "titleIcon": "map",
          "iconColor": "#1F6BDD",
          "actions": {},
          "enableDataExport": false
        },
        "row": 0,
        "col": 0,
        "id": "4fdba794-0dd5-bf0f-58d2-d06ee5d0b126"
      },
      "84c0af57-cce5-eeea-e712-56431e289eff": {
        "typeFullFqn": "system.cards.entities_table",
        "type": "latest",
        "sizeX": 7.5,
        "sizeY": 6.5,
        "config": {
          "showTitle": true,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "4px",
          "settings": {
            "enableSearch": true,
            "enableSelectColumnDisplay": false,
            "enableStickyHeader": true,
            "enableStickyAction": true,
            "reserveSpaceForHiddenAction": "true",
            "displayEntityName": false,
            "displayEntityLabel": false,
            "displayEntityType": false,
            "displayPagination": true,
            "defaultPageSize": 10,
            "defaultSortOrder": "name",
            "useRowStyleFunction": false,
            "entitiesTitle": "Machines"
          },
          "title": "Entities table",
          "dropShadow": false,
          "enableFullscreen": true,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400,
            "padding": "5px 10px 5px 10px"
          },
          "showLegend": false,
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "d38e5427-ad3a-6ab5-1488-4afa9232c816",
              "filterId": null,
              "dataKeys": [
                {
                  "name": "name",
                  "type": "entityField",
                  "label": "Name",
                  "color": "#2196f3",
                  "settings": {}
                },
                {
                  "name": "type",
                  "type": "entityField",
                  "label": "Type",
                  "color": "#4caf50",
                  "settings": {},
                  "decimals": 0
                },
                {
                  "name": "fuelLevel",
                  "type": "timeseries",
                  "label": "Fuel level",
                  "color": "#f44336",
                  "settings": {},
                  "units": "%",
                  "decimals": 0
                },
                {
                  "name": "speed",
                  "type": "timeseries",
                  "label": "Speed",
                  "color": "#ffc107",
                  "settings": {},
                  "units": {
                    "from": "mph",
                    "METRIC": "km/h",
                    "IMPERIAL": "mph",
                    "HYBRID": "mph"
                  },
                  "decimals": 0
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ]
              }
            }
          ],
          "configMode": "basic",
          "actions": {
            "actionCellButton": [
              {
                "name": "Machine details",
                "icon": "show_chart",
                "useShowWidgetActionFunction": null,
                "showWidgetActionFunction": "return true;",
                "type": "custom",
                "customFunction": "var entitySubType;\nvar $injector = widgetContext.$scope.$injector;\n$injector.get(widgetContext.servicesMap.get('entityService')).getEntity(entityId.entityType, entityId.id)\n  .subscribe(function(data) {\n    entitySubType = data.type;\n    if (entitySubType == 'Haul truck') {\n      openDashboardStates('truck-details');\n    } else if (entitySubType == 'Excavator') {\n      openDashboardStates('excavator-details');\n    }\n  });\n\nfunction openDashboardStates(statedId) {\n  var stateParams = widgetContext.stateController.getStateParams();\n  var params = {\n    entityId: entityId,\n    entityName: entityName\n  };\n\n  widgetContext.stateController.openState(statedId, params, false);\n}\n",
                "openInSeparateDialog": false,
                "openInPopover": false,
                "id": "f63c34f9-97a3-761d-1a85-1638ef771531"
              }
            ]
          },
          "showTitleIcon": false,
          "titleIcon": "list",
          "iconColor": null,
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": "Roboto",
            "weight": "500",
            "style": null,
            "lineHeight": "24px"
          },
          "titleColor": "#3D3D3D",
          "enableDataExport": false,
          "titleTooltip": "",
          "borderRadius": "4px",
          "widgetStyle": {},
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": ""
        },
        "row": 0,
        "col": 0,
        "id": "84c0af57-cce5-eeea-e712-56431e289eff"
      },
      "dd960050-6698-194a-968a-d778204254db": {
        "typeFullFqn": "system.alarm_widgets.alarms_table",
        "type": "alarm",
        "sizeX": 10.5,
        "sizeY": 6.5,
        "config": {
          "timewindow": {
            "selectedTab": 0,
            "realtime": {
              "realtimeType": 0,
              "timewindowMs": 2592000000
            }
          },
          "showTitle": true,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "4px",
          "settings": {
            "alarmsTitle": "Alarms",
            "enableSelection": true,
            "enableSearch": false,
            "enableSelectColumnDisplay": false,
            "enableFilter": false,
            "enableStickyHeader": true,
            "enableStickyAction": false,
            "showCellActionsMenu": true,
            "reserveSpaceForHiddenAction": "true",
            "displayDetails": true,
            "allowAcknowledgment": true,
            "allowClear": true,
            "allowAssign": false,
            "displayActivity": false,
            "displayPagination": true,
            "defaultPageSize": 10,
            "pageStepCount": 3,
            "pageStepIncrement": 10,
            "defaultSortOrder": "-createdTime",
            "useRowStyleFunction": false,
            "rowStyleFunction": ""
          },
          "title": "Alarms table",
          "dropShadow": false,
          "enableFullscreen": true,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400,
            "padding": "5px 10px 5px 10px"
          },
          "useDashboardTimewindow": false,
          "showLegend": false,
          "alarmSource": {
            "type": "entity",
            "name": "",
            "entityAliasId": "d38e5427-ad3a-6ab5-1488-4afa9232c816",
            "dataKeys": [
              {
                "name": "createdTime",
                "type": "alarm",
                "label": "Created time",
                "color": "#2196f3",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null,
                "aggregationType": null,
                "units": null,
                "decimals": null,
                "usePostProcessing": null,
                "postFuncBody": null
              },
              {
                "name": "originatorDisplayName",
                "type": "alarm",
                "label": "Originator",
                "color": "#4caf50",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null
              },
              {
                "name": "type",
                "type": "alarm",
                "label": "Type",
                "color": "#f44336",
                "settings": {
                  "customTitle": "",
                  "columnWidth": "130px",
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "useCellContentFunctionOnExport": true,
                  "cellContentFunction": "",
                  "defaultColumnVisibility": "visible",
                  "columnSelectionToDisplay": "enabled",
                  "columnExportOption": "onlyVisible",
                  "disableSorting": false
                },
                "funcBody": null,
                "aggregationType": null,
                "units": null,
                "decimals": null,
                "usePostProcessing": null,
                "postFuncBody": null
              },
              {
                "name": "severity",
                "type": "alarm",
                "label": "Severity",
                "color": "#ffc107",
                "settings": {
                  "useCellStyleFunction": false,
                  "useCellContentFunction": false
                },
                "funcBody": null
              },
              {
                "name": "status",
                "type": "alarm",
                "label": "Status",
                "color": "#607d8b",
                "settings": {
                  "useCellStyleFunction": false,
                  "cellStyleFunction": "",
                  "useCellContentFunction": false,
                  "cellContentFunction": ""
                },
                "funcBody": null
              }
            ],
            "alarmFilterConfig": {
              "statusList": [
                "ACTIVE"
              ]
            }
          },
          "alarmsPollingInterval": 5,
          "showTitleIcon": false,
          "titleIcon": "warning",
          "iconColor": "rgba(0, 0, 0, 0.87)",
          "iconSize": "24px",
          "titleTooltip": "",
          "widgetStyle": {},
          "displayTimewindow": true,
          "actions": {},
          "configMode": "basic",
          "alarmFilterConfig": {
            "statusList": [
              "ACTIVE"
            ],
            "severityList": [],
            "typeList": [],
            "searchPropagatedAlarms": false,
            "assignedToCurrentUser": false,
            "assigneeId": null
          },
          "datasources": [],
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": "Roboto",
            "weight": "500",
            "style": null,
            "lineHeight": "24px"
          },
          "titleColor": "#3D3D3D",
          "enableDataExport": false,
          "borderRadius": "4px",
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": ""
        },
        "row": 0,
        "col": 0,
        "id": "dd960050-6698-194a-968a-d778204254db"
      },
      "fcbce603-be00-589b-787f-508795a06e73": {
        "typeFullFqn": "system.cards.horizontal_value_card",
        "type": "latest",
        "sizeX": 5,
        "sizeY": 1,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
              "dataKeys": [
                {
                  "name": "totalDailyFuelConsumption",
                  "type": "timeseries",
                  "label": "Daily fuel consumption",
                  "color": "#2196f3",
                  "settings": {}
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ]
              }
            }
          ],
          "showTitle": false,
          "backgroundColor": "rgba(0, 0, 0, 0)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "0px",
          "settings": {
            "labelPosition": "top",
            "layout": "horizontal",
            "showLabel": true,
            "labelFont": {
              "family": "Roboto",
              "size": 16,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "500"
            },
            "labelColor": {
              "type": "constant",
              "color": "rgba(0, 0, 0, 0.87)",
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIcon": true,
            "iconSize": 32,
            "iconSizeUnit": "px",
            "icon": "mdi:fuel",
            "iconColor": {
              "type": "constant",
              "color": "#642DD2",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "valueFont": {
              "size": 28,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal"
            },
            "valueColor": {
              "type": "constant",
              "color": "rgba(0, 0, 0, 0.87)",
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showDate": false,
            "dateFormat": {
              "format": null,
              "lastUpdateAgo": true,
              "custom": false
            },
            "dateFont": {
              "family": "Roboto",
              "size": 12,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "500"
            },
            "dateColor": {
              "type": "constant",
              "color": "rgba(0, 0, 0, 0.38)",
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "background": {
              "type": "color",
              "color": "#fff",
              "overlay": {
                "enabled": false,
                "color": "rgba(255,255,255,0.72)",
                "blur": 3
              }
            },
            "autoScale": false,
            "padding": "8px"
          },
          "title": "Horizontal value card",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "units": {
            "from": "gal",
            "METRIC": "L",
            "IMPERIAL": "gal",
            "HYBRID": "gal"
          },
          "decimals": 0,
          "showLegend": false,
          "widgetStyle": {},
          "actions": {},
          "configMode": "basic",
          "margin": "0px",
          "borderRadius": "4px",
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "showTitleIcon": false,
          "titleTooltip": "",
          "titleFont": {
            "size": 12,
            "sizeUnit": "px",
            "family": null,
            "weight": null,
            "style": null,
            "lineHeight": "1.6"
          },
          "titleIcon": "",
          "iconColor": "rgba(0, 0, 0, 0.87)",
          "iconSize": "14px",
          "enableDataExport": false,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "14px",
            "icon": "query_builder",
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": null,
              "weight": null,
              "style": null,
              "lineHeight": "1"
            },
            "color": null
          }
        },
        "row": 0,
        "col": 0,
        "id": "fcbce603-be00-589b-787f-508795a06e73"
      },
      "a8d74cc1-f7c4-59e1-68bd-804b5a522952": {
        "typeFullFqn": "system.entity_count",
        "type": "latest",
        "sizeX": 3.5,
        "sizeY": 1.5,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
              "dataKeys": [
                {
                  "name": "insideRestrictedZone",
                  "type": "timeseries",
                  "label": "insideRestrictedZone",
                  "color": "#2196f3",
                  "settings": {}
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ],
                "assignedToCurrentUser": false,
                "assigneeId": null
              }
            }
          ],
          "showTitle": false,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "0px",
          "settings": {
            "showLabel": true,
            "label": "Machines in Restricted",
            "labelFont": {
              "size": 14,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "24px"
            },
            "labelColor": {
              "type": "constant",
              "color": "#3D3D3D",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIcon": true,
            "iconSize": 28,
            "iconSizeUnit": "px",
            "icon": "do_disturb",
            "iconColor": {
              "type": "constant",
              "color": "#DD2C00",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIconBackground": false,
            "iconBackgroundSize": 36,
            "iconBackgroundSizeUnit": "px",
            "iconBackgroundColor": {
              "type": "constant",
              "color": "rgb(241, 141, 23)",
              "rangeList": {
                "advancedMode": false,
                "range": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "valueFont": {
              "size": 24,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "100%"
            },
            "valueColor": {
              "type": "constant",
              "color": "rgba(0, 0, 0, 0.87)",
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showChevron": false,
            "chevronSize": 24,
            "chevronSizeUnit": "px",
            "chevronColor": "rgba(0, 0, 0, 0.38)",
            "layout": "row",
            "autoScale": false
          },
          "title": "Entity count",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "units": "",
          "decimals": null,
          "showLegend": false,
          "widgetStyle": {},
          "actions": {},
          "configMode": "basic",
          "margin": "0px",
          "borderRadius": "4px",
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "showTitleIcon": false,
          "titleTooltip": "",
          "titleFont": {
            "size": 12,
            "sizeUnit": "px",
            "family": null,
            "weight": null,
            "style": null,
            "lineHeight": "1"
          },
          "titleIcon": "",
          "iconColor": "rgba(0, 0, 0, 0.87)",
          "iconSize": "14px",
          "titleColor": "rgba(0, 0, 0, 0.54)",
          "enableDataExport": false,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "14px",
            "icon": "query_builder",
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": null,
              "weight": null,
              "style": null,
              "lineHeight": "1"
            },
            "color": null
          }
        },
        "row": 0,
        "col": 0,
        "id": "a8d74cc1-f7c4-59e1-68bd-804b5a522952"
      },
      "4630c1a9-94ce-ffc6-328e-bcbb34fcafdf": {
        "typeFullFqn": "system.entity_count",
        "type": "latest",
        "sizeX": 3.5,
        "sizeY": 1.5,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
              "dataKeys": [
                {
                  "name": "insideUnloadingZone",
                  "type": "timeseries",
                  "label": "insideUnloadingZone",
                  "color": "#2196f3",
                  "settings": {}
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ],
                "assignedToCurrentUser": false,
                "assigneeId": null
              }
            }
          ],
          "showTitle": false,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "0px",
          "settings": {
            "showLabel": true,
            "label": "Machines in Unloading",
            "labelFont": {
              "size": 14,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "24px"
            },
            "labelColor": {
              "type": "constant",
              "color": "#3D3D3D",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIcon": true,
            "iconSize": 28,
            "iconSizeUnit": "px",
            "icon": "archive",
            "iconColor": {
              "type": "constant",
              "color": "#1EBB4D",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIconBackground": false,
            "iconBackgroundSize": 36,
            "iconBackgroundSizeUnit": "px",
            "iconBackgroundColor": {
              "type": "constant",
              "color": "rgb(241, 141, 23)",
              "rangeList": {
                "advancedMode": false,
                "range": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "valueFont": {
              "size": 24,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "100%"
            },
            "valueColor": {
              "type": "constant",
              "color": "rgba(0, 0, 0, 0.87)",
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showChevron": false,
            "chevronSize": 24,
            "chevronSizeUnit": "px",
            "chevronColor": "rgba(0, 0, 0, 0.38)",
            "layout": "row",
            "autoScale": false
          },
          "title": "Entity count",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "units": "",
          "decimals": null,
          "showLegend": false,
          "widgetStyle": {},
          "actions": {},
          "configMode": "basic",
          "margin": "0px",
          "borderRadius": "4px",
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "showTitleIcon": false,
          "titleTooltip": "",
          "titleFont": {
            "size": 12,
            "sizeUnit": "px",
            "family": null,
            "weight": null,
            "style": null,
            "lineHeight": "1"
          },
          "titleIcon": "",
          "iconColor": "rgba(0, 0, 0, 0.87)",
          "iconSize": "14px",
          "titleColor": "rgba(0, 0, 0, 0.54)",
          "enableDataExport": false,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "14px",
            "icon": "query_builder",
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": null,
              "weight": null,
              "style": null,
              "lineHeight": "1"
            },
            "color": null
          }
        },
        "row": 0,
        "col": 0,
        "id": "4630c1a9-94ce-ffc6-328e-bcbb34fcafdf"
      },
      "8b2bff36-a7e1-e0c0-3b0e-e90afc83e36c": {
        "typeFullFqn": "system.entity_count",
        "type": "latest",
        "sizeX": 3.5,
        "sizeY": 1.5,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
              "dataKeys": [
                {
                  "name": "insideLoadingZone",
                  "type": "timeseries",
                  "label": "insideLoadingZone",
                  "color": "#2196f3",
                  "settings": {}
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ],
                "assignedToCurrentUser": false,
                "assigneeId": null
              }
            }
          ],
          "showTitle": false,
          "backgroundColor": "rgb(255, 255, 255)",
          "color": "rgba(0, 0, 0, 0.87)",
          "padding": "0px",
          "settings": {
            "showLabel": true,
            "label": "Machines in Loading",
            "labelFont": {
              "size": 14,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "24px"
            },
            "labelColor": {
              "type": "constant",
              "color": "#3D3D3D",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIcon": true,
            "iconSize": 28,
            "iconSizeUnit": "px",
            "icon": "unarchive",
            "iconColor": {
              "type": "constant",
              "color": "#3388FF",
              "gradient": {
                "advancedMode": false,
                "gradient": [
                  "rgba(0, 255, 0, 1)",
                  "rgba(255, 0, 0, 1)"
                ],
                "gradientAdvanced": [
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(0, 255, 0, 1)"
                  },
                  {
                    "source": {
                      "type": "constant"
                    },
                    "color": "rgba(255, 0, 0, 1)"
                  }
                ],
                "minValue": 0,
                "maxValue": 100
              },
              "rangeList": {
                "advancedMode": false,
                "range": [],
                "rangeAdvanced": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showIconBackground": false,
            "iconBackgroundSize": 36,
            "iconBackgroundSizeUnit": "px",
            "iconBackgroundColor": {
              "type": "constant",
              "color": "rgb(241, 141, 23)",
              "rangeList": {
                "advancedMode": false,
                "range": []
              },
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "valueFont": {
              "size": 24,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "500",
              "style": "normal",
              "lineHeight": "100%"
            },
            "valueColor": {
              "type": "constant",
              "color": "rgba(0, 0, 0, 0.87)",
              "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
            },
            "showChevron": false,
            "chevronSize": 24,
            "chevronSizeUnit": "px",
            "chevronColor": "rgba(0, 0, 0, 0.38)",
            "layout": "row",
            "autoScale": false
          },
          "title": "Entity count",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "units": "",
          "decimals": null,
          "showLegend": false,
          "widgetStyle": {},
          "actions": {},
          "configMode": "basic",
          "margin": "0px",
          "borderRadius": "4px",
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "showTitleIcon": false,
          "titleTooltip": "",
          "titleFont": {
            "size": 12,
            "sizeUnit": "px",
            "family": null,
            "weight": null,
            "style": null,
            "lineHeight": "1"
          },
          "titleIcon": "",
          "iconColor": "rgba(0, 0, 0, 0.87)",
          "iconSize": "14px",
          "titleColor": "rgba(0, 0, 0, 0.54)",
          "enableDataExport": false,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "14px",
            "icon": "query_builder",
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": null,
              "weight": null,
              "style": null,
              "lineHeight": "1"
            },
            "color": null
          }
        },
        "row": 0,
        "col": 0,
        "id": "8b2bff36-a7e1-e0c0-3b0e-e90afc83e36c"
      },
      "d22d806f-292d-8528-5fc5-538ecb3aac54": {
        "typeFullFqn": "system.cards.aggregated_value_card",
        "type": "timeseries",
        "sizeX": 4.5,
        "sizeY": 3.5,
        "config": {
          "datasources": [
            {
              "type": "entity",
              "name": "",
              "entityAliasId": "1c770287-a30e-5426-fcc7-4cb4df4cc037",
              "dataKeys": [
                {
                  "name": "hourlyFuelConsumption",
                  "type": "timeseries",
                  "label": "hourlyFuelConsumption",
                  "color": "#642DD2",
                  "settings": {},
                  "units": {
                    "from": "gal",
                    "METRIC": "L",
                    "IMPERIAL": "gal",
                    "HYBRID": "gal"
                  },
                  "decimals": 0
                }
              ],
              "alarmFilterConfig": {
                "statusList": [
                  "ACTIVE"
                ]
              },
              "latestDataKeys": [
                {
                  "name": "hourlyFuelConsumption",
                  "type": "timeseries",
                  "label": "Sum hourlyFuelConsumption",
                  "color": "#4caf50",
                  "settings": {
                    "position": "center",
                    "font": {
                      "size": 52,
                      "sizeUnit": "px",
                      "family": "Roboto",
                      "weight": "500",
                      "style": "normal",
                      "lineHeight": "1"
                    },
                    "color": {
                      "type": "constant",
                      "color": "#642DD2",
                      "gradient": {
                        "advancedMode": false,
                        "gradient": [
                          "rgba(0, 255, 0, 1)",
                          "rgba(255, 0, 0, 1)"
                        ],
                        "gradientAdvanced": [
                          {
                            "source": {
                              "type": "constant"
                            },
                            "color": "rgba(0, 255, 0, 1)"
                          },
                          {
                            "source": {
                              "type": "constant"
                            },
                            "color": "rgba(255, 0, 0, 1)"
                          }
                        ],
                        "minValue": 0,
                        "maxValue": 100
                      },
                      "rangeList": {
                        "advancedMode": false,
                        "range": []
                      },
                      "colorFunction": "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
                    },
                    "showArrow": false
                  },
                  "units": {
                    "from": "gal",
                    "METRIC": "L",
                    "IMPERIAL": "gal",
                    "HYBRID": "gal"
                  },
                  "decimals": 0,
                  "aggregationType": "SUM",
                  "funcBody": null,
                  "usePostProcessing": null,
                  "postFuncBody": null,
                  "comparisonEnabled": null
                }
              ]
            }
          ],
          "showTitle": true,
          "backgroundColor": "rgba(0, 0, 0, 0)",
          "color": null,
          "padding": "0",
          "settings": {
            "stack": false,
            "fontSize": 10,
            "fontColor": "#545454",
            "showTooltip": true,
            "tooltipIndividual": false,
            "tooltipCumulative": false,
            "hideZeros": false,
            "grid": {
              "verticalLines": true,
              "horizontalLines": true,
              "outlineWidth": 1,
              "color": "#545454",
              "backgroundColor": null,
              "tickColor": "#DDDDDD"
            },
            "xaxis": {
              "title": null,
              "showLabels": true,
              "color": "#545454"
            },
            "yaxis": {
              "min": null,
              "max": null,
              "title": null,
              "showLabels": true,
              "color": "#545454",
              "tickSize": null,
              "tickDecimals": 0,
              "ticksFormatter": ""
            },
            "shadowSize": 4,
            "smoothLines": false,
            "comparisonEnabled": false,
            "xaxisSecond": {
              "axisPosition": "top",
              "title": null,
              "showLabels": true
            },
            "showLegend": true,
            "legendConfig": {
              "direction": "column",
              "position": "bottom",
              "sortDataKeys": false,
              "showMin": false,
              "showMax": false,
              "showAvg": true,
              "showTotal": false,
              "showLatest": false
            },
            "customLegendEnabled": false,
            "showSubtitle": false,
            "subtitle": "${entityName}",
            "subtitleFont": {
              "family": "Roboto",
              "size": 12,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "400",
              "lineHeight": "16px"
            },
            "subtitleColor": "rgba(0, 0, 0, 0.38)",
            "showDate": false,
            "dateFormat": {
              "format": null,
              "lastUpdateAgo": true,
              "custom": false
            },
            "dateFont": {
              "family": "Roboto",
              "size": 12,
              "sizeUnit": "px",
              "style": "normal",
              "weight": "400",
              "lineHeight": "16px"
            },
            "dateColor": "rgba(0, 0, 0, 0.38)",
            "showChart": true,
            "chartColor": "rgba(0, 0, 0, 0.87)",
            "background": {
              "type": "color",
              "color": "#fff",
              "overlay": {
                "enabled": false,
                "color": "rgba(255,255,255,0.72)",
                "blur": 3
              }
            },
            "autoScale": false,
            "padding": "18px"
          },
          "title": "Fuel consumption",
          "dropShadow": false,
          "enableFullscreen": false,
          "titleStyle": {
            "fontSize": "16px",
            "fontWeight": 400
          },
          "mobileHeight": null,
          "configMode": "basic",
          "actions": {},
          "showTitleIcon": true,
          "titleIcon": "mdi:fuel",
          "iconColor": "#642DD2",
          "titleFont": {
            "size": 16,
            "sizeUnit": "px",
            "family": "Roboto",
            "weight": "500",
            "style": "normal",
            "lineHeight": "24px"
          },
          "iconSize": "24px",
          "titleTooltip": "",
          "widgetStyle": {},
          "widgetCss": "",
          "pageSize": 1024,
          "noDataDisplayMessage": "",
          "useDashboardTimewindow": true,
          "decimals": 0,
          "timewindowStyle": {
            "showIcon": true,
            "iconSize": "24px",
            "icon": null,
            "iconPosition": "left",
            "font": {
              "size": 12,
              "sizeUnit": "px",
              "family": "Roboto",
              "weight": "400",
              "style": "normal",
              "lineHeight": "16px"
            },
            "color": "rgba(0, 0, 0, 0.38)",
            "displayTypePrefix": false
          },
          "titleColor": "rgba(0, 0, 0, 0.87)",
          "borderRadius": "4px",
          "enableDataExport": false
        },
        "row": 0,
        "col": 0,
        "id": "d22d806f-292d-8528-5fc5-538ecb3aac54"
      }
    },
    "states": {
      "default": {
        "name": "Mine site monitoring",
        "root": true,
        "layouts": {
          "main": {
            "widgets": {
              "be52ef15-533f-569f-5bf3-c64a406bb2ef": {
                "sizeX": 12,
                "sizeY": 10,
                "row": 1,
                "col": 0
              },
              "54570131-35b7-1cfc-0c5e-0ea6549c21d3": {
                "sizeX": 12,
                "sizeY": 5,
                "row": 6,
                "col": 12
              },
              "8af7764a-ed29-3767-6ba9-8bcd3a6a87eb": {
                "sizeX": 6,
                "sizeY": 5,
                "row": 1,
                "col": 12
              },
              "d2198ef6-5025-94bc-cc02-7c085f4de155": {
                "sizeX": 6,
                "sizeY": 5,
                "row": 1,
                "col": 18
              },
              "7112fda9-f755-8041-18dd-c209f7775fca": {
                "sizeX": 6,
                "sizeY": 1,
                "row": 0,
                "col": 0
              },
              "801c7445-75f6-fdcd-7145-54b30885fd29": {
                "sizeX": 6,
                "sizeY": 1,
                "row": 0,
                "col": 6
              },
              "45c858b9-5e54-1a27-216c-d9f6d764a8e1": {
                "sizeX": 6,
                "sizeY": 1,
                "row": 0,
                "col": 12
              },
              "fcbce603-be00-589b-787f-508795a06e73": {
                "sizeX": 6,
                "sizeY": 1,
                "row": 0,
                "col": 18
              }
            },
            "gridSettings": {
              "layoutType": "default",
              "backgroundColor": "#eeeeee",
              "columns": 24,
              "margin": 10,
              "outerMargin": true,
              "backgroundSizeMode": "100%",
              "minColumns": 24,
              "viewFormat": "grid",
              "autoFillHeight": true,
              "rowHeight": 70,
              "mobileAutoFillHeight": false,
              "mobileRowHeight": 70
            },
            "breakpoints": {
              "xl": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": true,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "be52ef15-533f-569f-5bf3-c64a406bb2ef": {
                    "sizeX": 12,
                    "sizeY": 10,
                    "row": 1,
                    "col": 0
                  },
                  "54570131-35b7-1cfc-0c5e-0ea6549c21d3": {
                    "sizeX": 12,
                    "sizeY": 5,
                    "row": 6,
                    "col": 12
                  },
                  "8af7764a-ed29-3767-6ba9-8bcd3a6a87eb": {
                    "sizeX": 6,
                    "sizeY": 5,
                    "row": 1,
                    "col": 12
                  },
                  "d2198ef6-5025-94bc-cc02-7c085f4de155": {
                    "sizeX": 6,
                    "sizeY": 5,
                    "row": 1,
                    "col": 18
                  },
                  "7112fda9-f755-8041-18dd-c209f7775fca": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 0
                  },
                  "801c7445-75f6-fdcd-7145-54b30885fd29": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 6
                  },
                  "45c858b9-5e54-1a27-216c-d9f6d764a8e1": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 12
                  },
                  "fcbce603-be00-589b-787f-508795a06e73": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 18
                  }
                }
              },
              "lg": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": true,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "be52ef15-533f-569f-5bf3-c64a406bb2ef": {
                    "sizeX": 12,
                    "sizeY": 10,
                    "row": 1,
                    "col": 0
                  },
                  "54570131-35b7-1cfc-0c5e-0ea6549c21d3": {
                    "sizeX": 12,
                    "sizeY": 5,
                    "row": 6,
                    "col": 12
                  },
                  "8af7764a-ed29-3767-6ba9-8bcd3a6a87eb": {
                    "sizeX": 6,
                    "sizeY": 5,
                    "row": 1,
                    "col": 12
                  },
                  "d2198ef6-5025-94bc-cc02-7c085f4de155": {
                    "sizeX": 6,
                    "sizeY": 5,
                    "row": 1,
                    "col": 18
                  },
                  "7112fda9-f755-8041-18dd-c209f7775fca": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 0
                  },
                  "801c7445-75f6-fdcd-7145-54b30885fd29": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 6
                  },
                  "45c858b9-5e54-1a27-216c-d9f6d764a8e1": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 12
                  },
                  "fcbce603-be00-589b-787f-508795a06e73": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 18
                  }
                }
              },
              "md": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "be52ef15-533f-569f-5bf3-c64a406bb2ef": {
                    "sizeX": 24,
                    "sizeY": 14,
                    "row": 6,
                    "col": 0
                  },
                  "54570131-35b7-1cfc-0c5e-0ea6549c21d3": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 44,
                    "col": 0
                  },
                  "8af7764a-ed29-3767-6ba9-8bcd3a6a87eb": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 32,
                    "col": 0
                  },
                  "d2198ef6-5025-94bc-cc02-7c085f4de155": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 20,
                    "col": 0
                  },
                  "a8d74cc1-f7c4-59e1-68bd-804b5a522952": {
                    "sizeX": 12,
                    "sizeY": 3,
                    "row": 3,
                    "col": 0
                  },
                  "4630c1a9-94ce-ffc6-328e-bcbb34fcafdf": {
                    "sizeX": 12,
                    "sizeY": 3,
                    "row": 0,
                    "col": 12
                  },
                  "8b2bff36-a7e1-e0c0-3b0e-e90afc83e36c": {
                    "sizeX": 12,
                    "sizeY": 3,
                    "row": 0,
                    "col": 0
                  },
                  "fcbce603-be00-589b-787f-508795a06e73": {
                    "sizeX": 12,
                    "sizeY": 3,
                    "row": 3,
                    "col": 12
                  }
                }
              },
              "xs": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "list",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "be52ef15-533f-569f-5bf3-c64a406bb2ef": {
                    "sizeX": 12,
                    "sizeY": 10,
                    "row": 1,
                    "col": 0
                  },
                  "54570131-35b7-1cfc-0c5e-0ea6549c21d3": {
                    "sizeX": 12,
                    "sizeY": 5,
                    "row": 6,
                    "col": 12
                  },
                  "8af7764a-ed29-3767-6ba9-8bcd3a6a87eb": {
                    "sizeX": 6,
                    "sizeY": 5,
                    "row": 1,
                    "col": 12
                  },
                  "d2198ef6-5025-94bc-cc02-7c085f4de155": {
                    "sizeX": 6,
                    "sizeY": 5,
                    "row": 1,
                    "col": 18
                  },
                  "7112fda9-f755-8041-18dd-c209f7775fca": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 0
                  },
                  "801c7445-75f6-fdcd-7145-54b30885fd29": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 6
                  },
                  "45c858b9-5e54-1a27-216c-d9f6d764a8e1": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 12
                  },
                  "fcbce603-be00-589b-787f-508795a06e73": {
                    "sizeX": 6,
                    "sizeY": 1,
                    "row": 0,
                    "col": 18
                  }
                }
              },
              "sm": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "be52ef15-533f-569f-5bf3-c64a406bb2ef": {
                    "sizeX": 24,
                    "sizeY": 14,
                    "row": 6,
                    "col": 0
                  },
                  "54570131-35b7-1cfc-0c5e-0ea6549c21d3": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 44,
                    "col": 0
                  },
                  "8af7764a-ed29-3767-6ba9-8bcd3a6a87eb": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 32,
                    "col": 0
                  },
                  "d2198ef6-5025-94bc-cc02-7c085f4de155": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 20,
                    "col": 0
                  },
                  "a8d74cc1-f7c4-59e1-68bd-804b5a522952": {
                    "sizeX": 12,
                    "sizeY": 3,
                    "row": 3,
                    "col": 0
                  },
                  "4630c1a9-94ce-ffc6-328e-bcbb34fcafdf": {
                    "sizeX": 12,
                    "sizeY": 3,
                    "row": 0,
                    "col": 12
                  },
                  "8b2bff36-a7e1-e0c0-3b0e-e90afc83e36c": {
                    "sizeX": 12,
                    "sizeY": 3,
                    "row": 0,
                    "col": 0
                  },
                  "fcbce603-be00-589b-787f-508795a06e73": {
                    "sizeX": 12,
                    "sizeY": 3,
                    "row": 3,
                    "col": 12
                  }
                }
              }
            }
          }
        }
      },
      "truck-details": {
        "name": "${entityName}",
        "root": false,
        "layouts": {
          "main": {
            "widgets": {
              "40e5752a-29d6-cc06-4905-ded467eeac4d": {
                "sizeX": 12,
                "sizeY": 8,
                "mobileHeight": null,
                "row": 4,
                "col": 0
              },
              "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                "sizeX": 6,
                "sizeY": 4,
                "mobileHeight": null,
                "row": 0,
                "col": 6
              },
              "9a67842e-2737-6c97-1098-a826c96e106c": {
                "sizeX": 6,
                "sizeY": 4,
                "mobileHeight": null,
                "row": 0,
                "col": 12
              },
              "df059ed6-fe98-cf04-cfc5-abd2a777ab4d": {
                "sizeX": 6,
                "sizeY": 4,
                "mobileHeight": null,
                "row": 0,
                "col": 18
              },
              "7cd9f56a-d2b9-6949-cc6c-04dd738beffc": {
                "sizeX": 12,
                "sizeY": 8,
                "row": 4,
                "col": 12
              },
              "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                "sizeX": 6,
                "sizeY": 4,
                "mobileHeight": null,
                "row": 0,
                "col": 0
              }
            },
            "gridSettings": {
              "layoutType": "default",
              "backgroundColor": "#eeeeee",
              "columns": 24,
              "margin": 10,
              "outerMargin": true,
              "backgroundSizeMode": "100%",
              "minColumns": 24,
              "viewFormat": "grid",
              "autoFillHeight": true,
              "rowHeight": 70,
              "mobileAutoFillHeight": false,
              "mobileRowHeight": 70
            },
            "breakpoints": {
              "xl": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": true,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "40e5752a-29d6-cc06-4905-ded467eeac4d": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "mobileHeight": null,
                    "row": 4,
                    "col": 0
                  },
                  "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 6
                  },
                  "9a67842e-2737-6c97-1098-a826c96e106c": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 12
                  },
                  "df059ed6-fe98-cf04-cfc5-abd2a777ab4d": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 18
                  },
                  "7cd9f56a-d2b9-6949-cc6c-04dd738beffc": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "row": 4,
                    "col": 12
                  },
                  "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 0
                  }
                }
              },
              "lg": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": true,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "40e5752a-29d6-cc06-4905-ded467eeac4d": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "mobileHeight": null,
                    "row": 4,
                    "col": 0
                  },
                  "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 6
                  },
                  "9a67842e-2737-6c97-1098-a826c96e106c": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 12
                  },
                  "df059ed6-fe98-cf04-cfc5-abd2a777ab4d": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 18
                  },
                  "7cd9f56a-d2b9-6949-cc6c-04dd738beffc": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "row": 4,
                    "col": 12
                  },
                  "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 0
                  }
                }
              },
              "md": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "40e5752a-29d6-cc06-4905-ded467eeac4d": {
                    "sizeX": 24,
                    "sizeY": 14,
                    "mobileHeight": null,
                    "row": 14,
                    "col": 0
                  },
                  "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 12
                  },
                  "9a67842e-2737-6c97-1098-a826c96e106c": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 7,
                    "col": 0
                  },
                  "df059ed6-fe98-cf04-cfc5-abd2a777ab4d": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 7,
                    "col": 12
                  },
                  "7cd9f56a-d2b9-6949-cc6c-04dd738beffc": {
                    "sizeX": 24,
                    "sizeY": 10,
                    "row": 28,
                    "col": 0
                  },
                  "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 0
                  }
                }
              },
              "sm": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "40e5752a-29d6-cc06-4905-ded467eeac4d": {
                    "sizeX": 24,
                    "sizeY": 14,
                    "mobileHeight": null,
                    "row": 14,
                    "col": 0
                  },
                  "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 12
                  },
                  "9a67842e-2737-6c97-1098-a826c96e106c": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 7,
                    "col": 0
                  },
                  "df059ed6-fe98-cf04-cfc5-abd2a777ab4d": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 7,
                    "col": 12
                  },
                  "7cd9f56a-d2b9-6949-cc6c-04dd738beffc": {
                    "sizeX": 24,
                    "sizeY": 10,
                    "row": 28,
                    "col": 0
                  },
                  "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 0
                  }
                }
              },
              "xs": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "list",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "40e5752a-29d6-cc06-4905-ded467eeac4d": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "mobileHeight": null,
                    "row": 4,
                    "col": 0
                  },
                  "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 6
                  },
                  "9a67842e-2737-6c97-1098-a826c96e106c": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 12
                  },
                  "df059ed6-fe98-cf04-cfc5-abd2a777ab4d": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 18
                  },
                  "7cd9f56a-d2b9-6949-cc6c-04dd738beffc": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "row": 4,
                    "col": 12
                  },
                  "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 0
                  }
                }
              }
            }
          }
        }
      },
      "excavator-details": {
        "name": "${entityName}",
        "root": false,
        "layouts": {
          "main": {
            "widgets": {
              "36f97071-3a29-8c3c-2e80-53b99cae1cd7": {
                "sizeX": 12,
                "sizeY": 8,
                "mobileHeight": null,
                "row": 4,
                "col": 0
              },
              "fd494776-252f-7e13-58ae-bc50d293c0b3": {
                "sizeX": 6,
                "sizeY": 4,
                "mobileHeight": null,
                "row": 0,
                "col": 18
              },
              "6903f111-7620-b4be-5048-2cb735a0f364": {
                "sizeX": 12,
                "sizeY": 8,
                "row": 4,
                "col": 12
              },
              "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                "sizeX": 6,
                "sizeY": 4,
                "mobileHeight": null,
                "row": 0,
                "col": 0
              },
              "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                "sizeX": 6,
                "sizeY": 4,
                "mobileHeight": null,
                "row": 0,
                "col": 6
              },
              "9a67842e-2737-6c97-1098-a826c96e106c": {
                "sizeX": 6,
                "sizeY": 4,
                "mobileHeight": null,
                "row": 0,
                "col": 12
              }
            },
            "gridSettings": {
              "layoutType": "default",
              "backgroundColor": "#eeeeee",
              "columns": 24,
              "margin": 10,
              "outerMargin": true,
              "backgroundSizeMode": "100%",
              "minColumns": 24,
              "viewFormat": "grid",
              "autoFillHeight": true,
              "rowHeight": 70,
              "mobileAutoFillHeight": false,
              "mobileRowHeight": 70
            },
            "breakpoints": {
              "xl": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": true,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "36f97071-3a29-8c3c-2e80-53b99cae1cd7": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "mobileHeight": null,
                    "row": 4,
                    "col": 0
                  },
                  "fd494776-252f-7e13-58ae-bc50d293c0b3": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 18
                  },
                  "6903f111-7620-b4be-5048-2cb735a0f364": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "row": 4,
                    "col": 12
                  },
                  "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 0
                  },
                  "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 6
                  },
                  "9a67842e-2737-6c97-1098-a826c96e106c": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 12
                  }
                }
              },
              "lg": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": true,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "36f97071-3a29-8c3c-2e80-53b99cae1cd7": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "mobileHeight": null,
                    "row": 4,
                    "col": 0
                  },
                  "fd494776-252f-7e13-58ae-bc50d293c0b3": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 18
                  },
                  "6903f111-7620-b4be-5048-2cb735a0f364": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "row": 4,
                    "col": 12
                  },
                  "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 0
                  },
                  "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 6
                  },
                  "9a67842e-2737-6c97-1098-a826c96e106c": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 12
                  }
                }
              },
              "md": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "36f97071-3a29-8c3c-2e80-53b99cae1cd7": {
                    "sizeX": 24,
                    "sizeY": 14,
                    "mobileHeight": null,
                    "row": 14,
                    "col": 0
                  },
                  "fd494776-252f-7e13-58ae-bc50d293c0b3": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 7,
                    "col": 12
                  },
                  "6903f111-7620-b4be-5048-2cb735a0f364": {
                    "sizeX": 24,
                    "sizeY": 11,
                    "row": 28,
                    "col": 0
                  },
                  "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 0
                  },
                  "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 12
                  },
                  "9a67842e-2737-6c97-1098-a826c96e106c": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 7,
                    "col": 0
                  }
                }
              },
              "sm": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "36f97071-3a29-8c3c-2e80-53b99cae1cd7": {
                    "sizeX": 24,
                    "sizeY": 14,
                    "mobileHeight": null,
                    "row": 14,
                    "col": 0
                  },
                  "fd494776-252f-7e13-58ae-bc50d293c0b3": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 7,
                    "col": 12
                  },
                  "6903f111-7620-b4be-5048-2cb735a0f364": {
                    "sizeX": 24,
                    "sizeY": 11,
                    "row": 28,
                    "col": 0
                  },
                  "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 0
                  },
                  "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 12
                  },
                  "9a67842e-2737-6c97-1098-a826c96e106c": {
                    "sizeX": 12,
                    "sizeY": 7,
                    "mobileHeight": null,
                    "row": 7,
                    "col": 0
                  }
                }
              },
              "xs": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "list",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "36f97071-3a29-8c3c-2e80-53b99cae1cd7": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "mobileHeight": null,
                    "row": 4,
                    "col": 0
                  },
                  "fd494776-252f-7e13-58ae-bc50d293c0b3": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 18
                  },
                  "6903f111-7620-b4be-5048-2cb735a0f364": {
                    "sizeX": 12,
                    "sizeY": 8,
                    "row": 4,
                    "col": 12
                  },
                  "d22d806f-292d-8528-5fc5-538ecb3aac54": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 0
                  },
                  "61d9c8bb-1b38-6b65-83ca-f8e32bb1ca79": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 6
                  },
                  "9a67842e-2737-6c97-1098-a826c96e106c": {
                    "sizeX": 6,
                    "sizeY": 4,
                    "mobileHeight": null,
                    "row": 0,
                    "col": 12
                  }
                }
              }
            }
          }
        }
      },
      "zone": {
        "name": "${entityName}",
        "root": false,
        "layouts": {
          "main": {
            "widgets": {
              "4fdba794-0dd5-bf0f-58d2-d06ee5d0b126": {
                "sizeX": 11,
                "sizeY": 12,
                "row": 0,
                "col": 0
              },
              "84c0af57-cce5-eeea-e712-56431e289eff": {
                "sizeX": 13,
                "sizeY": 6,
                "row": 0,
                "col": 11
              },
              "dd960050-6698-194a-968a-d778204254db": {
                "sizeX": 13,
                "sizeY": 6,
                "row": 6,
                "col": 11
              }
            },
            "gridSettings": {
              "layoutType": "default",
              "backgroundColor": "#eeeeee",
              "columns": 24,
              "margin": 10,
              "outerMargin": true,
              "backgroundSizeMode": "100%",
              "minColumns": 24,
              "viewFormat": "grid",
              "autoFillHeight": true,
              "rowHeight": 70,
              "mobileAutoFillHeight": false,
              "mobileRowHeight": 70
            },
            "breakpoints": {
              "xl": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": true,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "4fdba794-0dd5-bf0f-58d2-d06ee5d0b126": {
                    "sizeX": 11,
                    "sizeY": 12,
                    "row": 0,
                    "col": 0
                  },
                  "84c0af57-cce5-eeea-e712-56431e289eff": {
                    "sizeX": 13,
                    "sizeY": 6,
                    "row": 0,
                    "col": 11
                  },
                  "dd960050-6698-194a-968a-d778204254db": {
                    "sizeX": 13,
                    "sizeY": 6,
                    "row": 6,
                    "col": 11
                  }
                }
              },
              "lg": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": true,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "4fdba794-0dd5-bf0f-58d2-d06ee5d0b126": {
                    "sizeX": 11,
                    "sizeY": 12,
                    "row": 0,
                    "col": 0
                  },
                  "84c0af57-cce5-eeea-e712-56431e289eff": {
                    "sizeX": 13,
                    "sizeY": 6,
                    "row": 0,
                    "col": 11
                  },
                  "dd960050-6698-194a-968a-d778204254db": {
                    "sizeX": 13,
                    "sizeY": 6,
                    "row": 6,
                    "col": 11
                  }
                }
              },
              "md": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "4fdba794-0dd5-bf0f-58d2-d06ee5d0b126": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 0,
                    "col": 0
                  },
                  "84c0af57-cce5-eeea-e712-56431e289eff": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 12,
                    "col": 0
                  },
                  "dd960050-6698-194a-968a-d778204254db": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 24,
                    "col": 0
                  }
                }
              },
              "sm": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "grid",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "4fdba794-0dd5-bf0f-58d2-d06ee5d0b126": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 0,
                    "col": 0
                  },
                  "84c0af57-cce5-eeea-e712-56431e289eff": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 12,
                    "col": 0
                  },
                  "dd960050-6698-194a-968a-d778204254db": {
                    "sizeX": 24,
                    "sizeY": 12,
                    "row": 24,
                    "col": 0
                  }
                }
              },
              "xs": {
                "gridSettings": {
                  "layoutType": "default",
                  "backgroundColor": "#eeeeee",
                  "columns": 24,
                  "margin": 10,
                  "outerMargin": true,
                  "backgroundSizeMode": "100%",
                  "minColumns": 24,
                  "viewFormat": "list",
                  "autoFillHeight": false,
                  "rowHeight": 70,
                  "mobileAutoFillHeight": false,
                  "mobileRowHeight": 70
                },
                "widgets": {
                  "4fdba794-0dd5-bf0f-58d2-d06ee5d0b126": {
                    "sizeX": 11,
                    "sizeY": 12,
                    "row": 0,
                    "col": 0
                  },
                  "84c0af57-cce5-eeea-e712-56431e289eff": {
                    "sizeX": 13,
                    "sizeY": 6,
                    "row": 0,
                    "col": 11
                  },
                  "dd960050-6698-194a-968a-d778204254db": {
                    "sizeX": 13,
                    "sizeY": 6,
                    "row": 6,
                    "col": 11
                  }
                }
              }
            }
          }
        }
      }
    },
    "entityAliases": {
      "a2e4e1f8-0538-e41b-34e2-6c5eede83e12": {
        "id": "a2e4e1f8-0538-e41b-34e2-6c5eede83e12",
        "alias": "Mine site",
        "filter": {
          "type": "singleEntity",
          "resolveMultiple": false,
          "singleEntity": {
            "entityType": "ASSET",
            "id": "3e286e50-0547-11f1-8dfb-fb2fc7314bd7"
          }
        }
      },
      "8c3fd355-4302-f1c2-c934-bc5123c8b2de": {
        "id": "8c3fd355-4302-f1c2-c934-bc5123c8b2de",
        "alias": "Restricted zones",
        "filter": {
          "type": "assetSearchQuery",
          "resolveMultiple": true,
          "rootStateEntity": true,
          "stateEntityParamName": "mine-site",
          "defaultStateEntity": {
            "entityType": "ASSET",
            "id": "3e286e50-0547-11f1-8dfb-fb2fc7314bd7"
          },
          "rootEntity": null,
          "direction": "FROM",
          "maxLevel": 1,
          "fetchLastLevelOnly": false,
          "relationType": "MineSiteToRestrictedZone",
          "assetTypes": [
            "Mine site zone"
          ]
        }
      },
      "e8cb695b-0f4f-2fca-b3ee-bbed3fca02f2": {
        "id": "e8cb695b-0f4f-2fca-b3ee-bbed3fca02f2",
        "alias": "Unloading zones",
        "filter": {
          "type": "assetSearchQuery",
          "resolveMultiple": true,
          "rootStateEntity": true,
          "stateEntityParamName": "mine-site",
          "defaultStateEntity": {
            "entityType": "ASSET",
            "id": "3e286e50-0547-11f1-8dfb-fb2fc7314bd7"
          },
          "rootEntity": null,
          "direction": "FROM",
          "maxLevel": 1,
          "fetchLastLevelOnly": false,
          "relationType": "MineSiteToUnloadingZone",
          "assetTypes": [
            "Mine site zone"
          ]
        }
      },
      "8b1126cf-55f9-f35e-4450-ddac60c2577a": {
        "id": "8b1126cf-55f9-f35e-4450-ddac60c2577a",
        "alias": "Loading zones",
        "filter": {
          "type": "assetSearchQuery",
          "resolveMultiple": true,
          "rootStateEntity": true,
          "stateEntityParamName": "mine-site",
          "defaultStateEntity": {
            "entityType": "ASSET",
            "id": "3e286e50-0547-11f1-8dfb-fb2fc7314bd7"
          },
          "rootEntity": null,
          "direction": "FROM",
          "maxLevel": 1,
          "fetchLastLevelOnly": false,
          "relationType": "MineSiteToLoadingZone",
          "assetTypes": [
            "Mine site zone"
          ]
        }
      },
      "f9f8cdcc-2a11-3256-85fa-6604500c7954": {
        "id": "f9f8cdcc-2a11-3256-85fa-6604500c7954",
        "alias": "Excavators",
        "filter": {
          "type": "deviceSearchQuery",
          "resolveMultiple": true,
          "rootStateEntity": true,
          "stateEntityParamName": "mine-site",
          "defaultStateEntity": {
            "entityType": "ASSET",
            "id": "3e286e50-0547-11f1-8dfb-fb2fc7314bd7"
          },
          "rootEntity": null,
          "direction": "FROM",
          "maxLevel": 1,
          "fetchLastLevelOnly": false,
          "relationType": "MineSiteToMachine",
          "deviceTypes": [
            "Excavator"
          ]
        }
      },
      "ab41895b-b1a3-eea9-5f19-cd221fca6f4b": {
        "id": "ab41895b-b1a3-eea9-5f19-cd221fca6f4b",
        "alias": "Haul trucks",
        "filter": {
          "type": "deviceSearchQuery",
          "resolveMultiple": true,
          "rootStateEntity": true,
          "stateEntityParamName": "mine-site",
          "defaultStateEntity": {
            "entityType": "ASSET",
            "id": "3e286e50-0547-11f1-8dfb-fb2fc7314bd7"
          },
          "rootEntity": null,
          "direction": "FROM",
          "maxLevel": 1,
          "fetchLastLevelOnly": false,
          "relationType": "MineSiteToMachine",
          "deviceTypes": [
            "Haul truck"
          ]
        }
      },
      "80f96c31-13dc-5425-0595-547501dc4e0d": {
        "id": "80f96c31-13dc-5425-0595-547501dc4e0d",
        "alias": "Machines",
        "filter": {
          "type": "deviceSearchQuery",
          "resolveMultiple": true,
          "rootStateEntity": true,
          "stateEntityParamName": "mine-site",
          "defaultStateEntity": {
            "entityType": "ASSET",
            "id": "3e286e50-0547-11f1-8dfb-fb2fc7314bd7"
          },
          "rootEntity": null,
          "direction": "FROM",
          "maxLevel": 1,
          "fetchLastLevelOnly": false,
          "relationType": "MineSiteToMachine",
          "deviceTypes": [
            "Excavator",
            "Haul truck"
          ]
        }
      },
      "8b43b725-98db-26eb-59aa-aad972f8821b": {
        "id": "8b43b725-98db-26eb-59aa-aad972f8821b",
        "alias": "Mine zones",
        "filter": {
          "type": "relationsQuery",
          "resolveMultiple": true,
          "rootStateEntity": true,
          "stateEntityParamName": "mine-site",
          "defaultStateEntity": {
            "entityType": "ASSET",
            "id": "3e286e50-0547-11f1-8dfb-fb2fc7314bd7"
          },
          "rootEntity": null,
          "direction": "FROM",
          "maxLevel": 1,
          "fetchLastLevelOnly": false,
          "filters": [
            {
              "relationType": "MineSiteToLoadingZone",
              "entityTypes": [
                "ASSET"
              ],
              "negate": false
            },
            {
              "relationType": "MineSiteToRestrictedZone",
              "entityTypes": [
                "ASSET"
              ],
              "negate": false
            },
            {
              "relationType": "MineSiteToUnloadingZone",
              "entityTypes": [
                "ASSET"
              ],
              "negate": false
            }
          ]
        }
      },
      "1c770287-a30e-5426-fcc7-4cb4df4cc037": {
        "id": "1c770287-a30e-5426-fcc7-4cb4df4cc037",
        "alias": "Current entity",
        "filter": {
          "type": "stateEntity",
          "resolveMultiple": false,
          "stateEntityParamName": null,
          "defaultStateEntity": null
        }
      },
      "f58cc40f-4838-47d6-2b4d-cb0b446b4763": {
        "id": "f58cc40f-4838-47d6-2b4d-cb0b446b4763",
        "alias": "Current zone trucks",
        "filter": {
          "type": "deviceSearchQuery",
          "resolveMultiple": true,
          "rootStateEntity": true,
          "stateEntityParamName": null,
          "defaultStateEntity": null,
          "rootEntity": null,
          "direction": "FROM",
          "maxLevel": 1,
          "fetchLastLevelOnly": false,
          "relationType": "CurrentZone",
          "deviceTypes": [
            "Haul truck"
          ]
        }
      },
      "39965975-0406-fdab-98c7-a4653372d926": {
        "id": "39965975-0406-fdab-98c7-a4653372d926",
        "alias": "Current zone excavators",
        "filter": {
          "type": "deviceSearchQuery",
          "resolveMultiple": true,
          "rootStateEntity": true,
          "stateEntityParamName": null,
          "defaultStateEntity": null,
          "rootEntity": null,
          "direction": "FROM",
          "maxLevel": 1,
          "fetchLastLevelOnly": false,
          "relationType": "CurrentZone",
          "deviceTypes": [
            "Excavator"
          ]
        }
      },
      "d38e5427-ad3a-6ab5-1488-4afa9232c816": {
        "id": "d38e5427-ad3a-6ab5-1488-4afa9232c816",
        "alias": "Current zone machines",
        "filter": {
          "type": "deviceSearchQuery",
          "resolveMultiple": true,
          "rootStateEntity": true,
          "stateEntityParamName": null,
          "defaultStateEntity": null,
          "rootEntity": null,
          "direction": "FROM",
          "maxLevel": 1,
          "fetchLastLevelOnly": false,
          "relationType": "CurrentZone",
          "deviceTypes": [
            "Excavator",
            "Haul truck"
          ]
        }
      }
    },
    "filters": {},
    "timewindow": {
      "selectedTab": 0,
      "realtime": {
        "realtimeType": 1,
        "quickInterval": "CURRENT_DAY_SO_FAR"
      },
      "aggregation": {
        "type": "NONE",
        "limit": 25000
      }
    },
    "settings": {
      "stateControllerId": "entity",
      "showTitle": false,
      "showDashboardsSelect": true,
      "showEntitiesSelect": true,
      "showDashboardTimewindow": true,
      "showDashboardExport": true,
      "toolbarAlwaysOpen": true
    }
  },
  "name": "Mine site monitoring",
  "resources": [
    {
      "link": "/api/resource/js_module/system/Mine site monitoring solution JS utils.js",
      "title": "Mine site monitoring solution JS utils",
      "type": "JS_MODULE",
      "subType": "MODULE",
      "resourceKey": "Mine site monitoring solution JS utils.js",
      "fileName": "Mine site monitoring solution JS utils.js",
      "mediaType": "application/javascript",
      "data": "ZXhwb3J0IGZ1bmN0aW9uIGFkZE1hY2hpbmVUb01pbmVTaXRlKCRldmVudCwgd2lkZ2V0Q29udGV4dCwgYWRkaXRpb25hbFBhcmFtcykgewogICAgbGV0ICRpbmplY3RvciA9IHdpZGdldENvbnRleHQuJHNjb3BlLiRpbmplY3RvcjsKICAgIGxldCBjdXN0b21EaWFsb2cgPSAkaW5qZWN0b3IuZ2V0KHdpZGdldENvbnRleHQuc2VydmljZXNNYXAuZ2V0KCdjdXN0b21EaWFsb2cnKSk7CiAgICBsZXQgZGV2aWNlU2VydmljZSA9ICRpbmplY3Rvci5nZXQod2lkZ2V0Q29udGV4dC5zZXJ2aWNlc01hcC5nZXQoJ2RldmljZVNlcnZpY2UnKSk7CiAgICBsZXQgZW50aXR5R3JvdXBTZXJ2aWNlID0gJGluamVjdG9yLmdldCh3aWRnZXRDb250ZXh0LnNlcnZpY2VzTWFwLmdldCgnZW50aXR5R3JvdXBTZXJ2aWNlJykpOwogICAgbGV0IGF0dHJpYnV0ZVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KHdpZGdldENvbnRleHQuc2VydmljZXNNYXAuZ2V0KCdhdHRyaWJ1dGVTZXJ2aWNlJykpOwogICAgbGV0IGVudGl0eVJlbGF0aW9uU2VydmljZSA9ICRpbmplY3Rvci5nZXQod2lkZ2V0Q29udGV4dC5zZXJ2aWNlc01hcC5nZXQoJ2VudGl0eVJlbGF0aW9uU2VydmljZScpKTsKCiAgICBvcGVuQWRkTWFjaGluZURpYWxvZygpOwoKICAgIGZ1bmN0aW9uIG9wZW5BZGRNYWNoaW5lRGlhbG9nKCkgewoKICAgICAgICBjb25zdCBhZGRNYWNoaW5lSHRtbFRlbXBsYXRlID0gJzxmb3JtICNhZGRFbnRpdHlGb3JtPSJuZ0Zvcm0iIFtmb3JtR3JvdXBdPSJhZGRNYWNoaW5lRm9ybUdyb3VwIlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAobmdTdWJtaXQpPSJzYXZlKCkiIGNsYXNzPSJhZGQtZW50aXR5LWZvcm0iIHN0eWxlPSJ3aWR0aDogNjAwcHgiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDxtYXQtdG9vbGJhciBjbGFzcz0iZmxleCBmbGV4LXJvdyIgY29sb3I9InByaW1hcnkiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgPGgyPkFkZCBuZXcgbWFjaGluZTwvaDI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8c3BhbiBjbGFzcz0iZmxleC0xIj48L3NwYW4+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8YnV0dG9uIG1hdC1pY29uLWJ1dHRvbiAoY2xpY2spPSJjYW5jZWwoKSIgdHlwZT0iYnV0dG9uIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPG1hdC1pY29uIGNsYXNzPSJtYXRlcmlhbC1pY29ucyI+Y2xvc2U8L21hdC1pY29uPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgPC9idXR0b24+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgPC9tYXQtdG9vbGJhcj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICA8bWF0LXByb2dyZXNzLWJhciBjb2xvcj0id2FybiIgbW9kZT0iaW5kZXRlcm1pbmF0ZSIgKm5nSWY9ImlzTG9hZGluZyQgfCBhc3luYyI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgPC9tYXQtcHJvZ3Jlc3MtYmFyPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDxkaXYgc3R5bGU9ImhlaWdodDogNHB4OyIgKm5nSWY9IiEoaXNMb2FkaW5nJCB8IGFzeW5jKSI+PC9kaXY+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgPGRpdiBtYXQtZGlhbG9nLWNvbnRlbnQgY2xhc3M9ImZsZXggZmxleC1jb2wiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgPG1hdC1mb3JtLWZpZWxkIGNsYXNzPSJtYXQtYmxvY2siIGFwcGVhcmFuY2U9Im91dGxpbmUiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8bWF0LWxhYmVsPk1hY2hpbmUgbmFtZTwvbWF0LWxhYmVsPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8aW5wdXQgbWF0SW5wdXQgZm9ybUNvbnRyb2xOYW1lPSJtYWNoaW5lTmFtZSIgcmVxdWlyZWQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtZXJyb3IgKm5nSWY9ImFkZE1hY2hpbmVGb3JtR3JvdXAuZ2V0KFwnbWFjaGluZU5hbWVcJykuaGFzRXJyb3IoXCdyZXF1aXJlZFwnKSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgTWFjaGluZSBuYW1lIGlzIHJlcXVpcmVkLlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8L21hdC1lcnJvcj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8bWF0LWZvcm0tZmllbGQgY2xhc3M9Im1hdC1ibG9jayIgYXBwZWFyYW5jZT0ib3V0bGluZSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtbGFiZWw+TWFjaGluZSB0eXBlPC9tYXQtbGFiZWw+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtc2VsZWN0IGZvcm1Db250cm9sTmFtZT0ibWFjaGluZVR5cGUiIHJlcXVpcmVkPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxtYXQtb3B0aW9uICpuZ0Zvcj0ibGV0IHR5cGUgb2YgbWFjaGluZVR5cGVzIiBbdmFsdWVdPSJ0eXBlLnZhbHVlIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICAgIHt7dHlwZS5sYWJlbH19XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPC9tYXQtb3B0aW9uPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8L21hdC1zZWxlY3Q+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtZXJyb3IgKm5nSWY9ImFkZE1hY2hpbmVGb3JtR3JvdXAuZ2V0KFwnbWFjaGluZVR5cGVcJykuaGFzRXJyb3IoXCdyZXF1aXJlZFwnKSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgTWFjaGluZSB0eXBlIGlzIHJlcXVpcmVkLlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8L21hdC1lcnJvcj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPSJmbGV4IGZsZXgtcm93IGdhcC0yIiAqbmdJZj0iYWRkTWFjaGluZUZvcm1Hcm91cC5nZXQoXCdtYWNoaW5lVHlwZVwnKS52YWx1ZSA9PT0gXCdFeGNhdmF0b3JcJyI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz0iZmxleC0xIiBhcHBlYXJhbmNlPSJvdXRsaW5lIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICA8bWF0LWxhYmVsPldhcm5pbmcgcHJlc3N1cmUgbGltaXQ8L21hdC1sYWJlbD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICA8aW5wdXQgbWF0SW5wdXQgdHlwZT0ibnVtYmVyIiBmb3JtQ29udHJvbE5hbWU9Indhcm5pbmdUaHJlc2hvbGQiIHJlcXVpcmVkPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxzcGFuIHN0eWxlPSJtYXJnaW4tcmlnaHQ6IDhweCIgbWF0U3VmZml4Pnt7cHJlc3N1cmVVbml0U3ltYm9sfX08L3NwYW4+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPG1hdC1lcnJvciAqbmdJZj0iYWRkTWFjaGluZUZvcm1Hcm91cC5nZXQoXCd3YXJuaW5nVGhyZXNob2xkXCcpLmhhc0Vycm9yKFwncmVxdWlyZWRcJykiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgUmVxdWlyZWQuXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPC9tYXQtZXJyb3I+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz0iZmxleC0xIiBhcHBlYXJhbmNlPSJvdXRsaW5lIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICA8bWF0LWxhYmVsPkNyaXRpY2FsIHByZXNzdXJlIGxpbWl0PC9tYXQtbGFiZWw+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPGlucHV0IG1hdElucHV0IHR5cGU9Im51bWJlciIgZm9ybUNvbnRyb2xOYW1lPSJjcml0aWNhbFRocmVzaG9sZCIgcmVxdWlyZWQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPHNwYW4gc3R5bGU9Im1hcmdpbi1yaWdodDogOHB4IiBtYXRTdWZmaXg+e3twcmVzc3VyZVVuaXRTeW1ib2x9fTwvc3Bhbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICA8bWF0LWVycm9yICpuZ0lmPSJhZGRNYWNoaW5lRm9ybUdyb3VwLmdldChcJ2NyaXRpY2FsVGhyZXNob2xkXCcpLmhhc0Vycm9yKFwncmVxdWlyZWRcJykiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgUmVxdWlyZWQuXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPC9tYXQtZXJyb3I+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8L2Rpdj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9ImZsZXggZmxleC1yb3cgZ2FwLTIiICpuZ0lmPSJhZGRNYWNoaW5lRm9ybUdyb3VwLmdldChcJ21hY2hpbmVUeXBlXCcpLnZhbHVlID09PSBcJ1RydWNrXCciPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8bWF0LWZvcm0tZmllbGQgY2xhc3M9ImZsZXgtMSIgYXBwZWFyYW5jZT0ib3V0bGluZSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPG1hdC1sYWJlbD5XYXJuaW5nIHdlaWdodCBsaW1pdDwvbWF0LWxhYmVsPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxpbnB1dCBtYXRJbnB1dCB0eXBlPSJudW1iZXIiIGZvcm1Db250cm9sTmFtZT0id2FybmluZ1RocmVzaG9sZCIgcmVxdWlyZWQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPHNwYW4gc3R5bGU9Im1hcmdpbi1yaWdodDogOHB4IiBtYXRTdWZmaXg+e3t3ZWlnaHRVbml0U3ltYm9sfX08L3NwYW4+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPG1hdC1lcnJvciAqbmdJZj0iYWRkTWFjaGluZUZvcm1Hcm91cC5nZXQoXCd3YXJuaW5nVGhyZXNob2xkXCcpLmhhc0Vycm9yKFwncmVxdWlyZWRcJykiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgUmVxdWlyZWQuXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPC9tYXQtZXJyb3I+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz0iZmxleC0xIiBhcHBlYXJhbmNlPSJvdXRsaW5lIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICA8bWF0LWxhYmVsPkNyaXRpY2FsIHdlaWdodCBsaW1pdDwvbWF0LWxhYmVsPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxpbnB1dCBtYXRJbnB1dCB0eXBlPSJudW1iZXIiIGZvcm1Db250cm9sTmFtZT0iY3JpdGljYWxUaHJlc2hvbGQiIHJlcXVpcmVkPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxzcGFuIHN0eWxlPSJtYXJnaW4tcmlnaHQ6IDhweCIgbWF0U3VmZml4Pnt7d2VpZ2h0VW5pdFN5bWJvbH19PC9zcGFuPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxtYXQtZXJyb3IgKm5nSWY9ImFkZE1hY2hpbmVGb3JtR3JvdXAuZ2V0KFwnY3JpdGljYWxUaHJlc2hvbGRcJykuaGFzRXJyb3IoXCdyZXF1aXJlZFwnKSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICBSZXF1aXJlZC5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICA8L21hdC1lcnJvcj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPC9tYXQtZm9ybS1maWVsZD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDwvZGl2PlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDwvZGl2PlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDxkaXYgbWF0LWRpYWxvZy1hY3Rpb25zIGNsYXNzPSJmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8YnV0dG9uIG1hdC1idXR0b24gY29sb3I9InByaW1hcnkiXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgIHR5cGU9ImJ1dHRvbiJcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICAgICAgW2Rpc2FibGVkXT0iKGlzTG9hZGluZyQgfCBhc3luYykiXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgIChjbGljayk9ImNhbmNlbCgpIiBjZGtGb2N1c0luaXRpYWw+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIENhbmNlbFxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgPC9idXR0b24+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8YnV0dG9uIG1hdC1idXR0b24gbWF0LXJhaXNlZC1idXR0b24gY29sb3I9InByaW1hcnkiXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgIHR5cGU9InN1Ym1pdCJcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICAgICAgW2Rpc2FibGVkXT0iKGlzTG9hZGluZyQgfCBhc3luYykgfHwgYWRkTWFjaGluZUZvcm1Hcm91cC5pbnZhbGlkIHx8ICFhZGRNYWNoaW5lRm9ybUdyb3VwLmRpcnR5Ij5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgQWRkXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8L2J1dHRvbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICA8L2Rpdj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9mb3JtPic7CgogICAgICAgIGN1c3RvbURpYWxvZy5jdXN0b21EaWFsb2coYWRkTWFjaGluZUh0bWxUZW1wbGF0ZSwgQWRkTWFjaGluZURpYWxvZ0NvbnRyb2xsZXIpLnN1YnNjcmliZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIEFkZE1hY2hpbmVEaWFsb2dDb250cm9sbGVyKGluc3RhbmNlKSB7CiAgICAgICAgbGV0IHZtID0gaW5zdGFuY2U7CgogICAgICAgIGNvbnN0IHByZXNzdXJlVW5pdCA9IHsKICAgICAgICAgICAgZnJvbTogJ3BzaScsCiAgICAgICAgICAgIE1FVFJJQzogJ2JhcicsCiAgICAgICAgICAgIElNUEVSSUFMOiAncHNpJywKICAgICAgICAgICAgSFlCUklEOiAnYmFyJwogICAgICAgIH07CgogICAgICAgIGNvbnN0IGxvYWRXZWlnaHRVbml0ID0gewogICAgICAgICAgICBmcm9tOiAnbGInLAogICAgICAgICAgICBNRVRSSUM6ICd0JywKICAgICAgICAgICAgSU1QRVJJQUw6ICdsYicsCiAgICAgICAgICAgIEhZQlJJRDogJ3QnCiAgICAgICAgfTsKCiAgICAgICAgdm0ucHJlc3N1cmVVbml0U3ltYm9sID0gd2lkZ2V0Q29udGV4dC51bml0U2VydmljZS5nZXRUYXJnZXRVbml0U3ltYm9sKHByZXNzdXJlVW5pdCk7CiAgICAgICAgdm0ud2VpZ2h0VW5pdFN5bWJvbCA9IHdpZGdldENvbnRleHQudW5pdFNlcnZpY2UuZ2V0VGFyZ2V0VW5pdFN5bWJvbChsb2FkV2VpZ2h0VW5pdCk7CgogICAgICAgIGNvbnN0IHByZXNzdXJlRnJvbU1ldHJpYyA9IHsKICAgICAgICAgICAgZnJvbTogJ2JhcicsCiAgICAgICAgICAgIE1FVFJJQzogJ2JhcicsCiAgICAgICAgICAgIElNUEVSSUFMOiAncHNpJywKICAgICAgICAgICAgSFlCUklEOiAnYmFyJwogICAgICAgIH07CgogICAgICAgIGNvbnN0IHdlaWdodEZyb21NZXRyaWMgPSB7CiAgICAgICAgICAgIGZyb206ICd0JywKICAgICAgICAgICAgTUVUUklDOiAndCcsCiAgICAgICAgICAgIElNUEVSSUFMOiAnbGInLAogICAgICAgICAgICBIWUJSSUQ6ICd0JwogICAgICAgIH07CgogICAgICAgIGNvbnN0IGRlZmF1bHRQcmVzc3VyZVdhcm5pbmcgPSBNYXRoLnJvdW5kKHdpZGdldENvbnRleHQudW5pdFNlcnZpY2UuY29udmVydFVuaXRWYWx1ZSg1MTAwLCBwcmVzc3VyZUZyb21NZXRyaWMpKTsKICAgICAgICBjb25zdCBkZWZhdWx0UHJlc3N1cmVDcml0aWNhbCA9IE1hdGgucm91bmQod2lkZ2V0Q29udGV4dC51bml0U2VydmljZS5jb252ZXJ0VW5pdFZhbHVlKDU1MDAsIHByZXNzdXJlRnJvbU1ldHJpYykpOwogICAgICAgIGNvbnN0IGRlZmF1bHRXZWlnaHRXYXJuaW5nID0gTWF0aC5yb3VuZCh3aWRnZXRDb250ZXh0LnVuaXRTZXJ2aWNlLmNvbnZlcnRVbml0VmFsdWUoMzIsIHdlaWdodEZyb21NZXRyaWMpKTsKICAgICAgICBjb25zdCBkZWZhdWx0V2VpZ2h0Q3JpdGljYWwgPSBNYXRoLnJvdW5kKHdpZGdldENvbnRleHQudW5pdFNlcnZpY2UuY29udmVydFVuaXRWYWx1ZSgzNSwgd2VpZ2h0RnJvbU1ldHJpYykpOwoKICAgICAgICB2bS5tYWNoaW5lVHlwZXMgPSBbCiAgICAgICAgICAgIHsgdmFsdWU6ICdFeGNhdmF0b3InLCBsYWJlbDogJ0V4Y2F2YXRvcicgfSwKICAgICAgICAgICAgeyB2YWx1ZTogJ1RydWNrJywgbGFiZWw6ICdUcnVjaycgfQogICAgICAgIF07CgogICAgICAgIHZtLmFkZE1hY2hpbmVGb3JtR3JvdXAgPSB2bS5mYi5ncm91cCh7CiAgICAgICAgICAgIG1hY2hpbmVOYW1lOiBbJycsIFt2bS52YWxpZGF0b3JzLnJlcXVpcmVkXV0sCiAgICAgICAgICAgIG1hY2hpbmVUeXBlOiBbbnVsbCwgW3ZtLnZhbGlkYXRvcnMucmVxdWlyZWRdXSwKICAgICAgICAgICAgd2FybmluZ1RocmVzaG9sZDogW251bGwsIFt2bS52YWxpZGF0b3JzLnJlcXVpcmVkXV0sCiAgICAgICAgICAgIGNyaXRpY2FsVGhyZXNob2xkOiBbbnVsbCwgW3ZtLnZhbGlkYXRvcnMucmVxdWlyZWRdXQogICAgICAgIH0pOwoKICAgICAgICB2bS5hZGRNYWNoaW5lRm9ybUdyb3VwLmdldCgnbWFjaGluZVR5cGUnKS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCh0eXBlKSA9PiB7CiAgICAgICAgICAgIGlmICh0eXBlID09PSAnRXhjYXZhdG9yJykgewogICAgICAgICAgICAgICAgdm0uYWRkTWFjaGluZUZvcm1Hcm91cC5wYXRjaFZhbHVlKHsKICAgICAgICAgICAgICAgICAgICB3YXJuaW5nVGhyZXNob2xkOiBkZWZhdWx0UHJlc3N1cmVXYXJuaW5nLAogICAgICAgICAgICAgICAgICAgIGNyaXRpY2FsVGhyZXNob2xkOiBkZWZhdWx0UHJlc3N1cmVDcml0aWNhbAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ1RydWNrJykgewogICAgICAgICAgICAgICAgdm0uYWRkTWFjaGluZUZvcm1Hcm91cC5wYXRjaFZhbHVlKHsKICAgICAgICAgICAgICAgICAgICB3YXJuaW5nVGhyZXNob2xkOiBkZWZhdWx0V2VpZ2h0V2FybmluZywKICAgICAgICAgICAgICAgICAgICBjcml0aWNhbFRocmVzaG9sZDogZGVmYXVsdFdlaWdodENyaXRpY2FsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICB2bS5jYW5jZWwgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdm0uZGlhbG9nUmVmLmNsb3NlKG51bGwpOwogICAgICAgIH07CgogICAgICAgIHZtLnNhdmUgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdm0uYWRkTWFjaGluZUZvcm1Hcm91cC5tYXJrQXNQcmlzdGluZSgpOwogICAgICAgICAgICBzYXZlRGV2aWNlT2JzZXJ2YWJsZSgpLnN1YnNjcmliZSgKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGRldmljZSkgewogICAgICAgICAgICAgICAgICAgIGdldE1pbmVTaXRlSWQoKS5waXBlKAogICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXRDb250ZXh0LnJ4anMuc3dpdGNoTWFwKChtaW5lU2l0ZUlkKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2lkZ2V0Q29udGV4dC5yeGpzLmZvcmtKb2luKFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlTWluZVNpdGVUb01hY2hpbmVSZWxhdGlvbihtaW5lU2l0ZUlkLCBkZXZpY2UuaWQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVBdHRyaWJ1dGVzKGRldmljZS5pZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICkuc3Vic2NyaWJlKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldENvbnRleHQudXBkYXRlQWxpYXNlcygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uZGlhbG9nUmVmLmNsb3NlKG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiBzYXZlRGV2aWNlT2JzZXJ2YWJsZSgpIHsKICAgICAgICAgICAgcmV0dXJuIGdldE9yQ3JlYXRlTWFjaGluZXNEZXZpY2VHcm91cCgpLnBpcGUoCiAgICAgICAgICAgICAgICB3aWRnZXRDb250ZXh0LnJ4anMuc3dpdGNoTWFwKChtYWNoaW5lc0dyb3VwKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybVZhbHVlcyA9IHZtLmFkZE1hY2hpbmVGb3JtR3JvdXAudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV2aWNlUHJvZmlsZSA9IGZvcm1WYWx1ZXMubWFjaGluZVR5cGUgPT09ICdUcnVjaycgPyAnSGF1bCB0cnVjaycgOiAnRXhjYXZhdG9yJzsKICAgICAgICAgICAgICAgICAgICBsZXQgbWFjaGluZSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZm9ybVZhbHVlcy5tYWNoaW5lTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZvcm1WYWx1ZXMubWFjaGluZU5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGRldmljZVByb2ZpbGUKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXZpY2VTZXJ2aWNlLnNhdmVEZXZpY2UobWFjaGluZSwgbWFjaGluZXNHcm91cC5pZC5pZCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0T3JDcmVhdGVNYWNoaW5lc0RldmljZUdyb3VwKCkgewogICAgICAgICAgICByZXR1cm4gZ2V0RW50aXR5R3JvdXBCeU5hbWUoJ01hY2hpbmVzJywgJ0RFVklDRScpLnBpcGUoCiAgICAgICAgICAgICAgICB3aWRnZXRDb250ZXh0LnJ4anMuc3dpdGNoTWFwKChncm91cCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChncm91cCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2lkZ2V0Q29udGV4dC5yeGpzLm9mKGdyb3VwKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWFjaGluZXNHcm91cCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdERVZJQ0UnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ01hY2hpbmVzJwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5R3JvdXBTZXJ2aWNlLnNhdmVFbnRpdHlHcm91cChtYWNoaW5lc0dyb3VwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0RW50aXR5R3JvdXBCeU5hbWUoZ3JvdXBOYW1lLCBncm91cFR5cGUpIHsKICAgICAgICAgICAgbGV0IGVudGl0eUdyb3Vwc1BhZ2VMaW5rID0gd2lkZ2V0Q29udGV4dC5wYWdlTGluaygxMCwgMCwgZ3JvdXBOYW1lKTsKICAgICAgICAgICAgcmV0dXJuIGVudGl0eUdyb3VwU2VydmljZS5nZXRFbnRpdHlHcm91cHNCeVBhZ2VMaW5rKGVudGl0eUdyb3Vwc1BhZ2VMaW5rLCBncm91cFR5cGUsIHsgaWdub3JlTG9hZGluZzogdHJ1ZSB9KS5waXBlKAogICAgICAgICAgICAgICAgd2lkZ2V0Q29udGV4dC5yeGpzLm1hcCgoZGF0YSkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmRhdGEuZmluZCgoZ3JvdXApID0+IGdyb3VwLm5hbWUgPT09IGdyb3VwTmFtZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldE1pbmVTaXRlSWQoKSB7CiAgICAgICAgICAgIGNvbnN0IG1pbmVTaXRlQWxpYXNJZCA9IHdpZGdldENvbnRleHQuYWxpYXNDb250cm9sbGVyLmdldEVudGl0eUFsaWFzSWQoJ01pbmUgc2l0ZScpOwogICAgICAgICAgICByZXR1cm4gd2lkZ2V0Q29udGV4dC5hbGlhc0NvbnRyb2xsZXIuZ2V0QWxpYXNJbmZvKG1pbmVTaXRlQWxpYXNJZCkucGlwZSgKICAgICAgICAgICAgICAgIHdpZGdldENvbnRleHQucnhqcy5tYXAoKGluZm8pID0+IHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBpZDogaW5mby5jdXJyZW50RW50aXR5LmlkLCBlbnRpdHlUeXBlOiBpbmZvLmN1cnJlbnRFbnRpdHkuZW50aXR5VHlwZSB9OwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNhdmVNaW5lU2l0ZVRvTWFjaGluZVJlbGF0aW9uKG1pbmVTaXRlSWQsIG1hY2hpbmVJZCkgewogICAgICAgICAgICBsZXQgcmVsYXRpb24gPSB7CiAgICAgICAgICAgICAgICBmcm9tOiBtaW5lU2l0ZUlkLAogICAgICAgICAgICAgICAgdG86IG1hY2hpbmVJZCwKICAgICAgICAgICAgICAgIHR5cGVHcm91cDogJ0NPTU1PTicsCiAgICAgICAgICAgICAgICB0eXBlOiAnTWluZVNpdGVUb01hY2hpbmUnCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiBlbnRpdHlSZWxhdGlvblNlcnZpY2Uuc2F2ZVJlbGF0aW9uKHJlbGF0aW9uKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNhdmVBdHRyaWJ1dGVzKGVudGl0eUlkKSB7CiAgICAgICAgICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB2bS5hZGRNYWNoaW5lRm9ybUdyb3VwLnZhbHVlOwogICAgICAgICAgICBjb25zdCBtYWNoaW5lVHlwZSA9IGZvcm1WYWx1ZXMubWFjaGluZVR5cGU7CiAgICAgICAgICAgIGNvbnN0IHdhcm5pbmdWYWx1ZSA9IGZvcm1WYWx1ZXMud2FybmluZ1RocmVzaG9sZDsKICAgICAgICAgICAgY29uc3QgY3JpdGljYWxWYWx1ZSA9IGZvcm1WYWx1ZXMuY3JpdGljYWxUaHJlc2hvbGQ7CgogICAgICAgICAgICBsZXQgYXR0cmlidXRlc0FycmF5ID0gW107CgogICAgICAgICAgICBpZiAobWFjaGluZVR5cGUgPT09ICdFeGNhdmF0b3InKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwcmVzc3VyZVRvU3RvcmFnZSA9IHsKICAgICAgICAgICAgICAgICAgICBmcm9tOiB2bS5wcmVzc3VyZVVuaXRTeW1ib2wsCiAgICAgICAgICAgICAgICAgICAgTUVUUklDOiAncHNpJywKICAgICAgICAgICAgICAgICAgICBJTVBFUklBTDogJ3BzaScsCiAgICAgICAgICAgICAgICAgICAgSFlCUklEOiAncHNpJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNvbnN0IHdhcm5pbmdJblBzaSA9IHdpZGdldENvbnRleHQudW5pdFNlcnZpY2UuY29udmVydFVuaXRWYWx1ZSh3YXJuaW5nVmFsdWUsIHByZXNzdXJlVG9TdG9yYWdlKTsKICAgICAgICAgICAgICAgIGNvbnN0IGNyaXRpY2FsSW5Qc2kgPSB3aWRnZXRDb250ZXh0LnVuaXRTZXJ2aWNlLmNvbnZlcnRVbml0VmFsdWUoY3JpdGljYWxWYWx1ZSwgcHJlc3N1cmVUb1N0b3JhZ2UpOwoKICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNBcnJheS5wdXNoKHsga2V5OiAnaHlkcmF1bGljUHJlc3N1cmVXYXJuaW5nVGhyZXNob2xkJywgdmFsdWU6IHdhcm5pbmdJblBzaSB9KTsKICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNBcnJheS5wdXNoKHsga2V5OiAnaHlkcmF1bGljUHJlc3N1cmVDcml0aWNhbFRocmVzaG9sZCcsIHZhbHVlOiBjcml0aWNhbEluUHNpIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKG1hY2hpbmVUeXBlID09PSAnVHJ1Y2snKSB7CiAgICAgICAgICAgICAgICBjb25zdCB3ZWlnaHRUb1N0b3JhZ2UgPSB7CiAgICAgICAgICAgICAgICAgICAgZnJvbTogdm0ud2VpZ2h0VW5pdFN5bWJvbCwKICAgICAgICAgICAgICAgICAgICBNRVRSSUM6ICdsYicsCiAgICAgICAgICAgICAgICAgICAgSU1QRVJJQUw6ICdsYicsCiAgICAgICAgICAgICAgICAgICAgSFlCUklEOiAnbGInCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgY29uc3Qgd2FybmluZ0luTGIgPSB3aWRnZXRDb250ZXh0LnVuaXRTZXJ2aWNlLmNvbnZlcnRVbml0VmFsdWUod2FybmluZ1ZhbHVlLCB3ZWlnaHRUb1N0b3JhZ2UpOwogICAgICAgICAgICAgICAgY29uc3QgY3JpdGljYWxJbkxiID0gd2lkZ2V0Q29udGV4dC51bml0U2VydmljZS5jb252ZXJ0VW5pdFZhbHVlKGNyaXRpY2FsVmFsdWUsIHdlaWdodFRvU3RvcmFnZSk7CgogICAgICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5LnB1c2goeyBrZXk6ICdsb2FkV2VpZ2h0V2FybmluZ1RocmVzaG9sZCcsIHZhbHVlOiB3YXJuaW5nSW5MYiB9KTsKICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNBcnJheS5wdXNoKHsga2V5OiAnbG9hZFdlaWdodENyaXRpY2FsVGhyZXNob2xkJywgdmFsdWU6IGNyaXRpY2FsSW5MYiB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbGV0IHRpbWVzZXJpZXNBcnJheSA9IGdldE1hcEl0ZW1Mb2NhdGlvblRpbWVzZXJpZXMoKTsKCiAgICAgICAgICAgIGxldCB0YXNrcyA9IFtdOwoKICAgICAgICAgICAgaWYgKHRpbWVzZXJpZXNBcnJheS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKGF0dHJpYnV0ZVNlcnZpY2Uuc2F2ZUVudGl0eVRpbWVzZXJpZXMoZW50aXR5SWQsICdMQVRFU1RfVEVMRU1FVFJZJywgdGltZXNlcmllc0FycmF5KSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0YXNrcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gd2lkZ2V0Q29udGV4dC5yeGpzLmZvcmtKb2luKHRhc2tzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gd2lkZ2V0Q29udGV4dC5yeGpzLm9mKFtdKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldE1hcEl0ZW1Mb2NhdGlvblRpbWVzZXJpZXMoKSB7CiAgICAgICAgICAgIGNvbnN0IHRpbWVzZXJpZXMgPSBbXTsKICAgICAgICAgICAgY29uc3QgbWFwSXRlbVR5cGUgPSAkZXZlbnQuc2hhcGU7CiAgICAgICAgICAgIGlmIChtYXBJdGVtVHlwZSA9PT0gJ01hcmtlcicpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG1hcFR5cGUgPSB3aWRnZXRDb250ZXh0Lm1hcEluc3RhbmNlLnR5cGUoKTsKICAgICAgICAgICAgICAgIGlmIChtYXBUeXBlICE9PSAnaW1hZ2UnKSB7CiAgICAgICAgICAgICAgICAgICAgdGltZXNlcmllcy5wdXNoKHsga2V5OiAnbGF0aXR1ZGUnLCB2YWx1ZTogYWRkaXRpb25hbFBhcmFtcy5jb29yZGluYXRlcy54IH0pOwogICAgICAgICAgICAgICAgICAgIHRpbWVzZXJpZXMucHVzaCh7IGtleTogJ2xvbmdpdHVkZScsIHZhbHVlOiBhZGRpdGlvbmFsUGFyYW1zLmNvb3JkaW5hdGVzLnkgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRpbWVzZXJpZXM7CiAgICAgICAgfQogICAgfQp9CgpleHBvcnQgZnVuY3Rpb24gYWRkWm9uZVRvTWluZVNpdGUoJGV2ZW50LCB3aWRnZXRDb250ZXh0LCBhZGRpdGlvbmFsUGFyYW1zKSB7CiAgICBsZXQgJGluamVjdG9yID0gd2lkZ2V0Q29udGV4dC4kc2NvcGUuJGluamVjdG9yOwogICAgbGV0IGN1c3RvbURpYWxvZyA9ICRpbmplY3Rvci5nZXQod2lkZ2V0Q29udGV4dC5zZXJ2aWNlc01hcC5nZXQoJ2N1c3RvbURpYWxvZycpKTsKICAgIGxldCBhc3NldFNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KHdpZGdldENvbnRleHQuc2VydmljZXNNYXAuZ2V0KCdhc3NldFNlcnZpY2UnKSk7CiAgICBsZXQgZW50aXR5R3JvdXBTZXJ2aWNlID0gJGluamVjdG9yLmdldCh3aWRnZXRDb250ZXh0LnNlcnZpY2VzTWFwLmdldCgnZW50aXR5R3JvdXBTZXJ2aWNlJykpOwogICAgbGV0IGF0dHJpYnV0ZVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KHdpZGdldENvbnRleHQuc2VydmljZXNNYXAuZ2V0KCdhdHRyaWJ1dGVTZXJ2aWNlJykpOwogICAgbGV0IGVudGl0eVJlbGF0aW9uU2VydmljZSA9ICRpbmplY3Rvci5nZXQod2lkZ2V0Q29udGV4dC5zZXJ2aWNlc01hcC5nZXQoJ2VudGl0eVJlbGF0aW9uU2VydmljZScpKTsKCiAgICBvcGVuQWRkWm9uZURpYWxvZygpOwoKICAgIGZ1bmN0aW9uIG9wZW5BZGRab25lRGlhbG9nKCkgewoKICAgICAgICBjb25zdCBhZGRab25lSHRtbFRlbXBsYXRlID0gJzxmb3JtICNhZGRFbnRpdHlGb3JtPSJuZ0Zvcm0iIFtmb3JtR3JvdXBdPSJhZGRab25lRm9ybUdyb3VwIlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAobmdTdWJtaXQpPSJzYXZlKCkiIGNsYXNzPSJhZGQtZW50aXR5LWZvcm0iIHN0eWxlPSJ3aWR0aDogNjAwcHg7Ij5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICA8bWF0LXRvb2xiYXIgY2xhc3M9ImZsZXggZmxleC1yb3ciIGNvbG9yPSJwcmltYXJ5Ij5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDxoMj5BZGQgbmV3IHpvbmU8L2gyPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgPHNwYW4gY2xhc3M9ImZsZXgtMSI+PC9zcGFuPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgPGJ1dHRvbiBtYXQtaWNvbi1idXR0b24gKGNsaWNrKT0iY2FuY2VsKCkiIHR5cGU9ImJ1dHRvbiI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtaWNvbiBjbGFzcz0ibWF0ZXJpYWwtaWNvbnMiPmNsb3NlPC9tYXQtaWNvbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDwvYnV0dG9uPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDwvbWF0LXRvb2xiYXI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgPG1hdC1wcm9ncmVzcy1iYXIgY29sb3I9Indhcm4iIG1vZGU9ImluZGV0ZXJtaW5hdGUiICpuZ0lmPSJpc0xvYWRpbmckIHwgYXN5bmMiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDwvbWF0LXByb2dyZXNzLWJhcj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICA8ZGl2IHN0eWxlPSJoZWlnaHQ6IDRweDsiICpuZ0lmPSIhKGlzTG9hZGluZyQgfCBhc3luYykiPjwvZGl2PlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDxkaXYgbWF0LWRpYWxvZy1jb250ZW50IGNsYXNzPSJmbGV4IGZsZXgtY29sIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz0ibWF0LWJsb2NrIiBhcHBlYXJhbmNlPSJvdXRsaW5lIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPG1hdC1sYWJlbD5ab25lIG5hbWU8L21hdC1sYWJlbD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPGlucHV0IG1hdElucHV0IGZvcm1Db250cm9sTmFtZT0iem9uZU5hbWUiIHJlcXVpcmVkPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8bWF0LWVycm9yICpuZ0lmPSJhZGRab25lRm9ybUdyb3VwLmdldChcJ3pvbmVOYW1lXCcpLmhhc0Vycm9yKFwncmVxdWlyZWRcJykiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIFpvbmUgbmFtZSBpcyByZXF1aXJlZC5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPC9tYXQtZXJyb3I+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8L21hdC1mb3JtLWZpZWxkPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgPG1hdC1mb3JtLWZpZWxkIGNsYXNzPSJtYXQtYmxvY2siIGFwcGVhcmFuY2U9Im91dGxpbmUiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8bWF0LWxhYmVsPlpvbmUgdHlwZTwvbWF0LWxhYmVsPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8bWF0LXNlbGVjdCBmb3JtQ29udHJvbE5hbWU9InpvbmVUeXBlIiByZXF1aXJlZD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICA8bWF0LW9wdGlvbiAqbmdGb3I9ImxldCB0eXBlIG9mIHpvbmVUeXBlcyIgW3ZhbHVlXT0idHlwZS52YWx1ZSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICB7e3R5cGUubGFiZWx9fVxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDwvbWF0LW9wdGlvbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPC9tYXQtc2VsZWN0PlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8bWF0LWVycm9yICpuZ0lmPSJhZGRab25lRm9ybUdyb3VwLmdldChcJ3pvbmVUeXBlXCcpLmhhc0Vycm9yKFwncmVxdWlyZWRcJykiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIFpvbmUgdHlwZSBpcyByZXF1aXJlZC5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPC9tYXQtZXJyb3I+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8L21hdC1mb3JtLWZpZWxkPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDwvZGl2PlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDxkaXYgbWF0LWRpYWxvZy1hY3Rpb25zIGNsYXNzPSJmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8YnV0dG9uIG1hdC1idXR0b24gY29sb3I9InByaW1hcnkiXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgIHR5cGU9ImJ1dHRvbiJcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICAgICAgW2Rpc2FibGVkXT0iKGlzTG9hZGluZyQgfCBhc3luYykiXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgIChjbGljayk9ImNhbmNlbCgpIiBjZGtGb2N1c0luaXRpYWw+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIENhbmNlbFxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgPC9idXR0b24+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8YnV0dG9uIG1hdC1idXR0b24gbWF0LXJhaXNlZC1idXR0b24gY29sb3I9InByaW1hcnkiXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgIHR5cGU9InN1Ym1pdCJcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICAgICAgW2Rpc2FibGVkXT0iKGlzTG9hZGluZyQgfCBhc3luYykgfHwgYWRkWm9uZUZvcm1Hcm91cC5pbnZhbGlkIHx8ICFhZGRab25lRm9ybUdyb3VwLmRpcnR5Ij5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgQWRkXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8L2J1dHRvbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICA8L2Rpdj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9mb3JtPic7CgogICAgICAgIGN1c3RvbURpYWxvZy5jdXN0b21EaWFsb2coYWRkWm9uZUh0bWxUZW1wbGF0ZSwgQWRkWm9uZURpYWxvZ0NvbnRyb2xsZXIpLnN1YnNjcmliZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIEFkZFpvbmVEaWFsb2dDb250cm9sbGVyKGluc3RhbmNlKSB7CiAgICAgICAgbGV0IHZtID0gaW5zdGFuY2U7CgogICAgICAgIHZtLnpvbmVUeXBlcyA9IFsKICAgICAgICAgICAgeyB2YWx1ZTogJ0xvYWRpbmcnLCBsYWJlbDogJ0xvYWRpbmcnIH0sCiAgICAgICAgICAgIHsgdmFsdWU6ICdVbmxvYWRpbmcnLCBsYWJlbDogJ1VubG9hZGluZycgfSwKICAgICAgICAgICAgeyB2YWx1ZTogJ1Jlc3RyaWN0ZWQnLCBsYWJlbDogJ1Jlc3RyaWN0ZWQnIH0KICAgICAgICBdOwoKICAgICAgICB2bS5hZGRab25lRm9ybUdyb3VwID0gdm0uZmIuZ3JvdXAoewogICAgICAgICAgICB6b25lTmFtZTogWycnLCBbdm0udmFsaWRhdG9ycy5yZXF1aXJlZF1dLAogICAgICAgICAgICB6b25lVHlwZTogW251bGwsIFt2bS52YWxpZGF0b3JzLnJlcXVpcmVkXV0KICAgICAgICB9KTsKCiAgICAgICAgdm0uY2FuY2VsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZtLmRpYWxvZ1JlZi5jbG9zZShudWxsKTsKICAgICAgICB9OwoKICAgICAgICB2bS5zYXZlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZtLmFkZFpvbmVGb3JtR3JvdXAubWFya0FzUHJpc3RpbmUoKTsKICAgICAgICAgICAgc2F2ZUFzc2V0T2JzZXJ2YWJsZSgpLnN1YnNjcmliZSgKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGFzc2V0KSB7CiAgICAgICAgICAgICAgICAgICAgZ2V0TWluZVNpdGVJZCgpLnBpcGUoCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldENvbnRleHQucnhqcy5zd2l0Y2hNYXAoKG1pbmVTaXRlSWQpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aWRnZXRDb250ZXh0LnJ4anMuZm9ya0pvaW4oWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVNaW5lU2l0ZVRvWm9uZVJlbGF0aW9uKG1pbmVTaXRlSWQsIGFzc2V0LmlkKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlQXR0cmlidXRlcyhhc3NldC5pZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICkuc3Vic2NyaWJlKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldENvbnRleHQudXBkYXRlQWxpYXNlcygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uZGlhbG9nUmVmLmNsb3NlKG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiBzYXZlQXNzZXRPYnNlcnZhYmxlKCkgewogICAgICAgICAgICByZXR1cm4gZ2V0T3JDcmVhdGVNaW5lU2l0ZVpvbmVzQXNzZXRHcm91cCgpLnBpcGUoCiAgICAgICAgICAgICAgICB3aWRnZXRDb250ZXh0LnJ4anMuc3dpdGNoTWFwKCh6b25lc0dyb3VwKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybVZhbHVlcyA9IHZtLmFkZFpvbmVGb3JtR3JvdXAudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgbGV0IHpvbmUgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZvcm1WYWx1ZXMuem9uZU5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBmb3JtVmFsdWVzLnpvbmVOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTWluZSBzaXRlIHpvbmUnCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXNzZXRTZXJ2aWNlLnNhdmVBc3NldCh6b25lLCB6b25lc0dyb3VwLmlkLmlkKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRPckNyZWF0ZU1pbmVTaXRlWm9uZXNBc3NldEdyb3VwKCkgewogICAgICAgICAgICByZXR1cm4gZ2V0RW50aXR5R3JvdXBCeU5hbWUoJ01pbmVTaXRlWm9uZXMnLCAnQVNTRVQnKS5waXBlKAogICAgICAgICAgICAgICAgd2lkZ2V0Q29udGV4dC5yeGpzLnN3aXRjaE1hcCgoZ3JvdXApID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZ3JvdXApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpZGdldENvbnRleHQucnhqcy5vZihncm91cCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHpvbmVzR3JvdXAgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnQVNTRVQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ01pbmVTaXRlWm9uZXMnCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHlHcm91cFNlcnZpY2Uuc2F2ZUVudGl0eUdyb3VwKHpvbmVzR3JvdXApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRFbnRpdHlHcm91cEJ5TmFtZShncm91cE5hbWUsIGdyb3VwVHlwZSkgewogICAgICAgICAgICBsZXQgZW50aXR5R3JvdXBzUGFnZUxpbmsgPSB3aWRnZXRDb250ZXh0LnBhZ2VMaW5rKDEwLCAwLCBncm91cE5hbWUpOwogICAgICAgICAgICByZXR1cm4gZW50aXR5R3JvdXBTZXJ2aWNlLmdldEVudGl0eUdyb3Vwc0J5UGFnZUxpbmsoZW50aXR5R3JvdXBzUGFnZUxpbmssIGdyb3VwVHlwZSwgeyBpZ25vcmVMb2FkaW5nOiB0cnVlIH0pLnBpcGUoCiAgICAgICAgICAgICAgICB3aWRnZXRDb250ZXh0LnJ4anMubWFwKChkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YS5maW5kKChncm91cCkgPT4gZ3JvdXAubmFtZSA9PT0gZ3JvdXBOYW1lKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0TWluZVNpdGVJZCgpIHsKICAgICAgICAgICAgY29uc3QgbWluZVNpdGVBbGlhc0lkID0gd2lkZ2V0Q29udGV4dC5hbGlhc0NvbnRyb2xsZXIuZ2V0RW50aXR5QWxpYXNJZCgnTWluZSBzaXRlJyk7CiAgICAgICAgICAgIHJldHVybiB3aWRnZXRDb250ZXh0LmFsaWFzQ29udHJvbGxlci5nZXRBbGlhc0luZm8obWluZVNpdGVBbGlhc0lkKS5waXBlKAogICAgICAgICAgICAgICAgd2lkZ2V0Q29udGV4dC5yeGpzLm1hcCgoaW5mbykgPT4gewogICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGlkOiBpbmZvLmN1cnJlbnRFbnRpdHkuaWQsIGVudGl0eVR5cGU6IGluZm8uY3VycmVudEVudGl0eS5lbnRpdHlUeXBlIH07CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2F2ZU1pbmVTaXRlVG9ab25lUmVsYXRpb24obWluZVNpdGVJZCwgem9uZUlkKSB7CiAgICAgICAgICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB2bS5hZGRab25lRm9ybUdyb3VwLnZhbHVlOwogICAgICAgICAgICBjb25zdCB6b25lVHlwZSA9IGZvcm1WYWx1ZXMuem9uZVR5cGU7CgogICAgICAgICAgICBsZXQgcmVsYXRpb25UeXBlOwogICAgICAgICAgICBzd2l0Y2ggKHpvbmVUeXBlKSB7CiAgICAgICAgICAgICAgICBjYXNlICdMb2FkaW5nJzoKICAgICAgICAgICAgICAgICAgICByZWxhdGlvblR5cGUgPSAnTWluZVNpdGVUb0xvYWRpbmdab25lJzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ1VubG9hZGluZyc6CiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25UeXBlID0gJ01pbmVTaXRlVG9VbmxvYWRpbmdab25lJzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ1Jlc3RyaWN0ZWQnOgogICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVHlwZSA9ICdNaW5lU2l0ZVRvUmVzdHJpY3RlZFpvbmUnOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICByZWxhdGlvblR5cGUgPSAnTWluZVNpdGVUb1pvbmUnOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgcmVsYXRpb24gPSB7CiAgICAgICAgICAgICAgICBmcm9tOiBtaW5lU2l0ZUlkLAogICAgICAgICAgICAgICAgdG86IHpvbmVJZCwKICAgICAgICAgICAgICAgIHR5cGVHcm91cDogJ0NPTU1PTicsCiAgICAgICAgICAgICAgICB0eXBlOiByZWxhdGlvblR5cGUKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIGVudGl0eVJlbGF0aW9uU2VydmljZS5zYXZlUmVsYXRpb24ocmVsYXRpb24pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2F2ZUF0dHJpYnV0ZXMoZW50aXR5SWQpIHsKICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZXNBcnJheSA9IFtdOwoKICAgICAgICAgICAgY29uc3QgZm9ybVZhbHVlcyA9IHZtLmFkZFpvbmVGb3JtR3JvdXAudmFsdWU7CiAgICAgICAgICAgIGF0dHJpYnV0ZXNBcnJheS5wdXNoKHsga2V5OiAndHlwZScsIHZhbHVlOiBmb3JtVmFsdWVzLnpvbmVUeXBlIH0pOwoKICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5LnB1c2goLi4uZ2V0TWFwSXRlbUxvY2F0aW9uQXR0cmlidXRlcygpKTsKCiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzQXJyYXkubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZVNlcnZpY2Uuc2F2ZUVudGl0eUF0dHJpYnV0ZXMoZW50aXR5SWQsICdTRVJWRVJfU0NPUEUnLCBhdHRyaWJ1dGVzQXJyYXkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB3aWRnZXRDb250ZXh0LnJ4anMub2YoW10pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0TWFwSXRlbUxvY2F0aW9uQXR0cmlidXRlcygpIHsKICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtdOwogICAgICAgICAgICBjb25zdCBtYXBJdGVtVHlwZSA9ICRldmVudC5zaGFwZTsKICAgICAgICAgICAgaWYgKG1hcEl0ZW1UeXBlID09PSAnUmVjdGFuZ2xlJyB8fCBtYXBJdGVtVHlwZSA9PT0gJ1BvbHlnb24nKSB7CiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goeyBrZXk6ICdwZXJpbWV0ZXInLCB2YWx1ZTogYWRkaXRpb25hbFBhcmFtcy5jb29yZGluYXRlcyB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBJdGVtVHlwZSA9PT0gJ0NpcmNsZScpIHsKICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaCh7IGtleTogJ2NpcmNsZScsIHZhbHVlOiBhZGRpdGlvbmFsUGFyYW1zLmNvb3JkaW5hdGVzIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBhdHRyaWJ1dGVzOwogICAgICAgIH0KICAgIH0KfQoKZXhwb3J0IGZ1bmN0aW9uIGVkaXRNYWNoaW5lKHdpZGdldENvbnRleHQsIGVudGl0eUlkLCBlbnRpdHlOYW1lKSB7CiAgICBsZXQgJGluamVjdG9yID0gd2lkZ2V0Q29udGV4dC4kc2NvcGUuJGluamVjdG9yOwogICAgbGV0IGN1c3RvbURpYWxvZyA9ICRpbmplY3Rvci5nZXQod2lkZ2V0Q29udGV4dC5zZXJ2aWNlc01hcC5nZXQoJ2N1c3RvbURpYWxvZycpKTsKICAgIGxldCBkZXZpY2VTZXJ2aWNlID0gJGluamVjdG9yLmdldCh3aWRnZXRDb250ZXh0LnNlcnZpY2VzTWFwLmdldCgnZGV2aWNlU2VydmljZScpKTsKICAgIGxldCBhdHRyaWJ1dGVTZXJ2aWNlID0gJGluamVjdG9yLmdldCh3aWRnZXRDb250ZXh0LnNlcnZpY2VzTWFwLmdldCgnYXR0cmlidXRlU2VydmljZScpKTsKCiAgICBvcGVuRWRpdE1hY2hpbmVEaWFsb2coKTsKCiAgICBmdW5jdGlvbiBvcGVuRWRpdE1hY2hpbmVEaWFsb2coKSB7CgogICAgICAgIGNvbnN0IGVkaXRNYWNoaW5lSHRtbFRlbXBsYXRlID0gJzxmb3JtICNlZGl0RW50aXR5Rm9ybT0ibmdGb3JtIiBbZm9ybUdyb3VwXT0iZWRpdE1hY2hpbmVGb3JtR3JvdXAiXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAobmdTdWJtaXQpPSJzYXZlKCkiIGNsYXNzPSJlZGl0LWVudGl0eS1mb3JtIiBzdHlsZT0id2lkdGg6IDYwMHB4OyI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDxtYXQtdG9vbGJhciBjbGFzcz0iZmxleCBmbGV4LXJvdyIgY29sb3I9InByaW1hcnkiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDxoMj5FZGl0IG1hY2hpbmU8L2gyPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDxzcGFuIGNsYXNzPSJmbGV4LTEiPjwvc3Bhbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8YnV0dG9uIG1hdC1pY29uLWJ1dHRvbiAoY2xpY2spPSJjYW5jZWwoKSIgdHlwZT0iYnV0dG9uIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtaWNvbiBjbGFzcz0ibWF0ZXJpYWwtaWNvbnMiPmNsb3NlPC9tYXQtaWNvbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8L2J1dHRvbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgPC9tYXQtdG9vbGJhcj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgPG1hdC1wcm9ncmVzcy1iYXIgY29sb3I9Indhcm4iIG1vZGU9ImluZGV0ZXJtaW5hdGUiICpuZ0lmPSJpc0xvYWRpbmckIHwgYXN5bmMiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICA8L21hdC1wcm9ncmVzcy1iYXI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDxkaXYgc3R5bGU9ImhlaWdodDogNHB4OyIgKm5nSWY9IiEoaXNMb2FkaW5nJCB8IGFzeW5jKSI+PC9kaXY+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDxkaXYgbWF0LWRpYWxvZy1jb250ZW50IGNsYXNzPSJmbGV4IGZsZXgtY29sIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8bWF0LWZvcm0tZmllbGQgY2xhc3M9Im1hdC1ibG9jayIgYXBwZWFyYW5jZT0ib3V0bGluZSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8bWF0LWxhYmVsPk1hY2hpbmUgbmFtZTwvbWF0LWxhYmVsPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPGlucHV0IG1hdElucHV0IGZvcm1Db250cm9sTmFtZT0ibWFjaGluZU5hbWUiIHJlcXVpcmVkPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPG1hdC1lcnJvciAqbmdJZj0iZWRpdE1hY2hpbmVGb3JtR3JvdXAuZ2V0KFwnbWFjaGluZU5hbWVcJykuaGFzRXJyb3IoXCdyZXF1aXJlZFwnKSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIE1hY2hpbmUgbmFtZSBpcyByZXF1aXJlZC5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDwvbWF0LWVycm9yPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz0iZmxleCBmbGV4LXJvdyBnYXAtMiIgKm5nSWY9Im1hY2hpbmVUeXBlID09PSBcJ0V4Y2F2YXRvclwnIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz0iZmxleC0xIiBhcHBlYXJhbmNlPSJvdXRsaW5lIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPG1hdC1sYWJlbD5XYXJuaW5nIHByZXNzdXJlIGxpbWl0PC9tYXQtbGFiZWw+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxpbnB1dCBtYXRJbnB1dCB0eXBlPSJudW1iZXIiIGZvcm1Db250cm9sTmFtZT0id2FybmluZ1RocmVzaG9sZCIgcmVxdWlyZWQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxzcGFuIHN0eWxlPSJtYXJnaW4tcmlnaHQ6IDhweCIgbWF0U3VmZml4Pnt7cHJlc3N1cmVVbml0U3ltYm9sfX08L3NwYW4+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxtYXQtZXJyb3IgKm5nSWY9ImVkaXRNYWNoaW5lRm9ybUdyb3VwLmdldChcJ3dhcm5pbmdUaHJlc2hvbGRcJykuaGFzRXJyb3IoXCdyZXF1aXJlZFwnKSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgUmVxdWlyZWQuXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDwvbWF0LWVycm9yPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPC9tYXQtZm9ybS1maWVsZD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz0iZmxleC0xIiBhcHBlYXJhbmNlPSJvdXRsaW5lIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPG1hdC1sYWJlbD5Dcml0aWNhbCBwcmVzc3VyZSBsaW1pdDwvbWF0LWxhYmVsPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICA8aW5wdXQgbWF0SW5wdXQgdHlwZT0ibnVtYmVyIiBmb3JtQ29udHJvbE5hbWU9ImNyaXRpY2FsVGhyZXNob2xkIiByZXF1aXJlZD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPHNwYW4gc3R5bGU9Im1hcmdpbi1yaWdodDogOHB4IiBtYXRTdWZmaXg+e3twcmVzc3VyZVVuaXRTeW1ib2x9fTwvc3Bhbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPG1hdC1lcnJvciAqbmdJZj0iZWRpdE1hY2hpbmVGb3JtR3JvdXAuZ2V0KFwnY3JpdGljYWxUaHJlc2hvbGRcJykuaGFzRXJyb3IoXCdyZXF1aXJlZFwnKSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgUmVxdWlyZWQuXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDwvbWF0LWVycm9yPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPC9tYXQtZm9ybS1maWVsZD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8L2Rpdj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPSJmbGV4IGZsZXgtcm93IGdhcC0yIiAqbmdJZj0ibWFjaGluZVR5cGUgPT09IFwnVHJ1Y2tcJyI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8bWF0LWZvcm0tZmllbGQgY2xhc3M9ImZsZXgtMSIgYXBwZWFyYW5jZT0ib3V0bGluZSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxtYXQtbGFiZWw+V2FybmluZyB3ZWlnaHQgbGltaXQ8L21hdC1sYWJlbD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPGlucHV0IG1hdElucHV0IHR5cGU9Im51bWJlciIgZm9ybUNvbnRyb2xOYW1lPSJ3YXJuaW5nVGhyZXNob2xkIiByZXF1aXJlZD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPHNwYW4gc3R5bGU9Im1hcmdpbi1yaWdodDogOHB4IiBtYXRTdWZmaXg+e3t3ZWlnaHRVbml0U3ltYm9sfX08L3NwYW4+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxtYXQtZXJyb3IgKm5nSWY9ImVkaXRNYWNoaW5lRm9ybUdyb3VwLmdldChcJ3dhcm5pbmdUaHJlc2hvbGRcJykuaGFzRXJyb3IoXCdyZXF1aXJlZFwnKSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgUmVxdWlyZWQuXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDwvbWF0LWVycm9yPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPC9tYXQtZm9ybS1maWVsZD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz0iZmxleC0xIiBhcHBlYXJhbmNlPSJvdXRsaW5lIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPG1hdC1sYWJlbD5Dcml0aWNhbCB3ZWlnaHQgbGltaXQ8L21hdC1sYWJlbD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPGlucHV0IG1hdElucHV0IHR5cGU9Im51bWJlciIgZm9ybUNvbnRyb2xOYW1lPSJjcml0aWNhbFRocmVzaG9sZCIgcmVxdWlyZWQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIDxzcGFuIHN0eWxlPSJtYXJnaW4tcmlnaHQ6IDhweCIgbWF0U3VmZml4Pnt7d2VpZ2h0VW5pdFN5bWJvbH19PC9zcGFuPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICA8bWF0LWVycm9yICpuZ0lmPSJlZGl0TWFjaGluZUZvcm1Hcm91cC5nZXQoXCdjcml0aWNhbFRocmVzaG9sZFwnKS5oYXNFcnJvcihcJ3JlcXVpcmVkXCcpIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICBSZXF1aXJlZC5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgPC9tYXQtZXJyb3I+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8L21hdC1mb3JtLWZpZWxkPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDwvZGl2PlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICA8L2Rpdj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgPGRpdiBtYXQtZGlhbG9nLWFjdGlvbnMgY2xhc3M9ImZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8YnV0dG9uIG1hdC1idXR0b24gY29sb3I9InByaW1hcnkiXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgICB0eXBlPSJidXR0b24iXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgICBbZGlzYWJsZWRdPSIoaXNMb2FkaW5nJCB8IGFzeW5jKSJcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgIChjbGljayk9ImNhbmNlbCgpIiBjZGtGb2N1c0luaXRpYWw+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICBDYW5jZWxcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8L2J1dHRvbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8YnV0dG9uIG1hdC1idXR0b24gbWF0LXJhaXNlZC1idXR0b24gY29sb3I9InByaW1hcnkiXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgICB0eXBlPSJzdWJtaXQiXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgICBbZGlzYWJsZWRdPSIoaXNMb2FkaW5nJCB8IGFzeW5jKSB8fCBlZGl0TWFjaGluZUZvcm1Hcm91cC5pbnZhbGlkIHx8ICFlZGl0TWFjaGluZUZvcm1Hcm91cC5kaXJ0eSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICBTYXZlXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgPC9idXR0b24+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDwvZGl2PlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9mb3JtPic7CgogICAgICAgIGN1c3RvbURpYWxvZy5jdXN0b21EaWFsb2coZWRpdE1hY2hpbmVIdG1sVGVtcGxhdGUsIEVkaXRNYWNoaW5lRGlhbG9nQ29udHJvbGxlcikuc3Vic2NyaWJlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gRWRpdE1hY2hpbmVEaWFsb2dDb250cm9sbGVyKGluc3RhbmNlKSB7CiAgICAgICAgbGV0IHZtID0gaW5zdGFuY2U7CgogICAgICAgIGNvbnN0IHByZXNzdXJlVW5pdCA9IHsKICAgICAgICAgICAgZnJvbTogJ3BzaScsCiAgICAgICAgICAgIE1FVFJJQzogJ2JhcicsCiAgICAgICAgICAgIElNUEVSSUFMOiAncHNpJywKICAgICAgICAgICAgSFlCUklEOiAnYmFyJwogICAgICAgIH07CgogICAgICAgIGNvbnN0IGxvYWRXZWlnaHRVbml0ID0gewogICAgICAgICAgICBmcm9tOiAnbGInLAogICAgICAgICAgICBNRVRSSUM6ICd0JywKICAgICAgICAgICAgSU1QRVJJQUw6ICdsYicsCiAgICAgICAgICAgIEhZQlJJRDogJ3QnCiAgICAgICAgfTsKCiAgICAgICAgdm0ucHJlc3N1cmVVbml0U3ltYm9sID0gd2lkZ2V0Q29udGV4dC51bml0U2VydmljZS5nZXRUYXJnZXRVbml0U3ltYm9sKHByZXNzdXJlVW5pdCk7CiAgICAgICAgdm0ud2VpZ2h0VW5pdFN5bWJvbCA9IHdpZGdldENvbnRleHQudW5pdFNlcnZpY2UuZ2V0VGFyZ2V0VW5pdFN5bWJvbChsb2FkV2VpZ2h0VW5pdCk7CgogICAgICAgIHZtLmRldmljZSA9IG51bGw7CiAgICAgICAgdm0ubWFjaGluZVR5cGUgPSBudWxsOwoKICAgICAgICB2bS5lZGl0TWFjaGluZUZvcm1Hcm91cCA9IHZtLmZiLmdyb3VwKHsKICAgICAgICAgICAgbWFjaGluZU5hbWU6IFsnJywgW3ZtLnZhbGlkYXRvcnMucmVxdWlyZWRdXSwKICAgICAgICAgICAgd2FybmluZ1RocmVzaG9sZDogW251bGwsIFt2bS52YWxpZGF0b3JzLnJlcXVpcmVkXV0sCiAgICAgICAgICAgIGNyaXRpY2FsVGhyZXNob2xkOiBbbnVsbCwgW3ZtLnZhbGlkYXRvcnMucmVxdWlyZWRdXQogICAgICAgIH0pOwoKICAgICAgICBsb2FkTWFjaGluZSgpOwoKICAgICAgICB2bS5jYW5jZWwgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdm0uZGlhbG9nUmVmLmNsb3NlKG51bGwpOwogICAgICAgIH07CgogICAgICAgIHZtLnNhdmUgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdm0uZWRpdE1hY2hpbmVGb3JtR3JvdXAubWFya0FzUHJpc3RpbmUoKTsKICAgICAgICAgICAgd2lkZ2V0Q29udGV4dC5yeGpzLmZvcmtKb2luKFsKICAgICAgICAgICAgICAgIHNhdmVNYWNoaW5lKCksCiAgICAgICAgICAgICAgICBzYXZlQXR0cmlidXRlcygpCiAgICAgICAgICAgIF0pLnN1YnNjcmliZSgKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHdpZGdldENvbnRleHQudXBkYXRlQWxpYXNlcygpOwogICAgICAgICAgICAgICAgICAgIHZtLmRpYWxvZ1JlZi5jbG9zZShudWxsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiBsb2FkTWFjaGluZSgpIHsKICAgICAgICAgICAgZGV2aWNlU2VydmljZS5nZXREZXZpY2UoZW50aXR5SWQuaWQpLnN1YnNjcmliZSgKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGRldmljZSkgewogICAgICAgICAgICAgICAgICAgIHZtLmRldmljZSA9IGRldmljZTsKICAgICAgICAgICAgICAgICAgICB2bS5tYWNoaW5lVHlwZSA9IGRldmljZS50eXBlID09PSAnSGF1bCB0cnVjaycgPyAnVHJ1Y2snIDogJ0V4Y2F2YXRvcic7CgogICAgICAgICAgICAgICAgICAgIHZtLmVkaXRNYWNoaW5lRm9ybUdyb3VwLnBhdGNoVmFsdWUoewogICAgICAgICAgICAgICAgICAgICAgICBtYWNoaW5lTmFtZTogZGV2aWNlLm5hbWUKICAgICAgICAgICAgICAgICAgICB9LCB7IGVtaXRFdmVudDogZmFsc2UgfSk7CgogICAgICAgICAgICAgICAgICAgIC8vIExvYWQgYXR0cmlidXRlcyBiYXNlZCBvbiBtYWNoaW5lIHR5cGUKICAgICAgICAgICAgICAgICAgICBsb2FkQXR0cmlidXRlcygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbG9hZEF0dHJpYnV0ZXMoKSB7CiAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVLZXlzID0gW107CiAgICAgICAgICAgIGlmICh2bS5tYWNoaW5lVHlwZSA9PT0gJ0V4Y2F2YXRvcicpIHsKICAgICAgICAgICAgICAgIGF0dHJpYnV0ZUtleXMgPSBbJ2h5ZHJhdWxpY1ByZXNzdXJlV2FybmluZ1RocmVzaG9sZCcsICdoeWRyYXVsaWNQcmVzc3VyZUNyaXRpY2FsVGhyZXNob2xkJ107CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVLZXlzID0gWydsb2FkV2VpZ2h0V2FybmluZ1RocmVzaG9sZCcsICdsb2FkV2VpZ2h0Q3JpdGljYWxUaHJlc2hvbGQnXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXR0cmlidXRlU2VydmljZS5nZXRFbnRpdHlBdHRyaWJ1dGVzKGVudGl0eUlkLCAnU0VSVkVSX1NDT1BFJywgYXR0cmlidXRlS2V5cykuc3Vic2NyaWJlKAogICAgICAgICAgICAgICAgZnVuY3Rpb24oYXR0cmlidXRlcykgewogICAgICAgICAgICAgICAgICAgIGxldCB3YXJuaW5nVmFsdWUgPSAwOwogICAgICAgICAgICAgICAgICAgIGxldCBjcml0aWNhbFZhbHVlID0gMDsKCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBhdHRyaWJ1dGVzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ci5rZXkgPT09ICdoeWRyYXVsaWNQcmVzc3VyZVdhcm5pbmdUaHJlc2hvbGQnIHx8IGF0dHIua2V5ID09PSAnbG9hZFdlaWdodFdhcm5pbmdUaHJlc2hvbGQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nVmFsdWUgPSBhdHRyLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHIua2V5ID09PSAnaHlkcmF1bGljUHJlc3N1cmVDcml0aWNhbFRocmVzaG9sZCcgfHwgYXR0ci5rZXkgPT09ICdsb2FkV2VpZ2h0Q3JpdGljYWxUaHJlc2hvbGQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcml0aWNhbFZhbHVlID0gYXR0ci52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHZtLm1hY2hpbmVUeXBlID09PSAnRXhjYXZhdG9yJykgewogICAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nVmFsdWUgPSB3aWRnZXRDb250ZXh0LnVuaXRTZXJ2aWNlLmNvbnZlcnRVbml0VmFsdWUod2FybmluZ1ZhbHVlLCBwcmVzc3VyZVVuaXQpOwogICAgICAgICAgICAgICAgICAgICAgICBjcml0aWNhbFZhbHVlID0gd2lkZ2V0Q29udGV4dC51bml0U2VydmljZS5jb252ZXJ0VW5pdFZhbHVlKGNyaXRpY2FsVmFsdWUsIHByZXNzdXJlVW5pdCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2FybmluZ1ZhbHVlID0gd2lkZ2V0Q29udGV4dC51bml0U2VydmljZS5jb252ZXJ0VW5pdFZhbHVlKHdhcm5pbmdWYWx1ZSwgbG9hZFdlaWdodFVuaXQpOwogICAgICAgICAgICAgICAgICAgICAgICBjcml0aWNhbFZhbHVlID0gd2lkZ2V0Q29udGV4dC51bml0U2VydmljZS5jb252ZXJ0VW5pdFZhbHVlKGNyaXRpY2FsVmFsdWUsIGxvYWRXZWlnaHRVbml0KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZtLmVkaXRNYWNoaW5lRm9ybUdyb3VwLnBhdGNoVmFsdWUoewogICAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nVGhyZXNob2xkOiBNYXRoLnJvdW5kKHdhcm5pbmdWYWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgIGNyaXRpY2FsVGhyZXNob2xkOiBNYXRoLnJvdW5kKGNyaXRpY2FsVmFsdWUpCiAgICAgICAgICAgICAgICAgICAgfSwgeyBlbWl0RXZlbnQ6IGZhbHNlIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2F2ZU1hY2hpbmUoKSB7CiAgICAgICAgICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB2bS5lZGl0TWFjaGluZUZvcm1Hcm91cC52YWx1ZTsKICAgICAgICAgICAgdm0uZGV2aWNlLm5hbWUgPSBmb3JtVmFsdWVzLm1hY2hpbmVOYW1lOwogICAgICAgICAgICByZXR1cm4gZGV2aWNlU2VydmljZS5zYXZlRGV2aWNlKHZtLmRldmljZSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzYXZlQXR0cmlidXRlcygpIHsKICAgICAgICAgICAgY29uc3QgZm9ybVZhbHVlcyA9IHZtLmVkaXRNYWNoaW5lRm9ybUdyb3VwLnZhbHVlOwogICAgICAgICAgICBjb25zdCB3YXJuaW5nVmFsdWUgPSBmb3JtVmFsdWVzLndhcm5pbmdUaHJlc2hvbGQ7CiAgICAgICAgICAgIGNvbnN0IGNyaXRpY2FsVmFsdWUgPSBmb3JtVmFsdWVzLmNyaXRpY2FsVGhyZXNob2xkOwoKICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZXNBcnJheSA9IFtdOwoKICAgICAgICAgICAgaWYgKHZtLm1hY2hpbmVUeXBlID09PSAnRXhjYXZhdG9yJykgewogICAgICAgICAgICAgICAgY29uc3QgcHJlc3N1cmVUb1N0b3JhZ2UgPSB7CiAgICAgICAgICAgICAgICAgICAgZnJvbTogdm0ucHJlc3N1cmVVbml0U3ltYm9sLAogICAgICAgICAgICAgICAgICAgIE1FVFJJQzogJ3BzaScsCiAgICAgICAgICAgICAgICAgICAgSU1QRVJJQUw6ICdwc2knLAogICAgICAgICAgICAgICAgICAgIEhZQlJJRDogJ3BzaScKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBjb25zdCB3YXJuaW5nSW5Qc2kgPSB3aWRnZXRDb250ZXh0LnVuaXRTZXJ2aWNlLmNvbnZlcnRVbml0VmFsdWUod2FybmluZ1ZhbHVlLCBwcmVzc3VyZVRvU3RvcmFnZSk7CiAgICAgICAgICAgICAgICBjb25zdCBjcml0aWNhbEluUHNpID0gd2lkZ2V0Q29udGV4dC51bml0U2VydmljZS5jb252ZXJ0VW5pdFZhbHVlKGNyaXRpY2FsVmFsdWUsIHByZXNzdXJlVG9TdG9yYWdlKTsKCiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzQXJyYXkucHVzaCh7IGtleTogJ2h5ZHJhdWxpY1ByZXNzdXJlV2FybmluZ1RocmVzaG9sZCcsIHZhbHVlOiB3YXJuaW5nSW5Qc2kgfSk7CiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzQXJyYXkucHVzaCh7IGtleTogJ2h5ZHJhdWxpY1ByZXNzdXJlQ3JpdGljYWxUaHJlc2hvbGQnLCB2YWx1ZTogY3JpdGljYWxJblBzaSB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnN0IHdlaWdodFRvU3RvcmFnZSA9IHsKICAgICAgICAgICAgICAgICAgICBmcm9tOiB2bS53ZWlnaHRVbml0U3ltYm9sLAogICAgICAgICAgICAgICAgICAgIE1FVFJJQzogJ2xiJywKICAgICAgICAgICAgICAgICAgICBJTVBFUklBTDogJ2xiJywKICAgICAgICAgICAgICAgICAgICBIWUJSSUQ6ICdsYicKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBjb25zdCB3YXJuaW5nSW5MYiA9IHdpZGdldENvbnRleHQudW5pdFNlcnZpY2UuY29udmVydFVuaXRWYWx1ZSh3YXJuaW5nVmFsdWUsIHdlaWdodFRvU3RvcmFnZSk7CiAgICAgICAgICAgICAgICBjb25zdCBjcml0aWNhbEluTGIgPSB3aWRnZXRDb250ZXh0LnVuaXRTZXJ2aWNlLmNvbnZlcnRVbml0VmFsdWUoY3JpdGljYWxWYWx1ZSwgd2VpZ2h0VG9TdG9yYWdlKTsKCiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzQXJyYXkucHVzaCh7IGtleTogJ2xvYWRXZWlnaHRXYXJuaW5nVGhyZXNob2xkJywgdmFsdWU6IHdhcm5pbmdJbkxiIH0pOwogICAgICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5LnB1c2goeyBrZXk6ICdsb2FkV2VpZ2h0Q3JpdGljYWxUaHJlc2hvbGQnLCB2YWx1ZTogY3JpdGljYWxJbkxiIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gYXR0cmlidXRlU2VydmljZS5zYXZlRW50aXR5QXR0cmlidXRlcyhlbnRpdHlJZCwgJ1NFUlZFUl9TQ09QRScsIGF0dHJpYnV0ZXNBcnJheSk7CiAgICAgICAgfQogICAgfQp9CgpleHBvcnQgZnVuY3Rpb24gZWRpdFpvbmVOYW1lKHdpZGdldENvbnRleHQsIGVudGl0eUlkLCBlbnRpdHlOYW1lKSB7CiAgICBsZXQgJGluamVjdG9yID0gd2lkZ2V0Q29udGV4dC4kc2NvcGUuJGluamVjdG9yOwogICAgbGV0IGN1c3RvbURpYWxvZyA9ICRpbmplY3Rvci5nZXQod2lkZ2V0Q29udGV4dC5zZXJ2aWNlc01hcC5nZXQoJ2N1c3RvbURpYWxvZycpKTsKICAgIGxldCBhc3NldFNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KHdpZGdldENvbnRleHQuc2VydmljZXNNYXAuZ2V0KCdhc3NldFNlcnZpY2UnKSk7CgogICAgb3BlbkVkaXRab25lRGlhbG9nKCk7CgogICAgZnVuY3Rpb24gb3BlbkVkaXRab25lRGlhbG9nKCkgewoKICAgICAgICBjb25zdCBlZGl0Wm9uZUh0bWxUZW1wbGF0ZSA9ICc8Zm9ybSAjZWRpdEVudGl0eUZvcm09Im5nRm9ybSIgW2Zvcm1Hcm91cF09ImVkaXRab25lRm9ybUdyb3VwIlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgKG5nU3VibWl0KT0ic2F2ZSgpIiBjbGFzcz0iZWRpdC1lbnRpdHktZm9ybSIgc3R5bGU9IndpZHRoOiAzNjBweDsiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICA8bWF0LXRvb2xiYXIgY2xhc3M9ImZsZXggZmxleC1yb3ciIGNvbG9yPSJwcmltYXJ5Ij5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8aDI+RWRpdCB6b25lIG5hbWU8L2gyPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDxzcGFuIGNsYXNzPSJmbGV4LTEiPjwvc3Bhbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8YnV0dG9uIG1hdC1pY29uLWJ1dHRvbiAoY2xpY2spPSJjYW5jZWwoKSIgdHlwZT0iYnV0dG9uIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxtYXQtaWNvbiBjbGFzcz0ibWF0ZXJpYWwtaWNvbnMiPmNsb3NlPC9tYXQtaWNvbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8L2J1dHRvbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgPC9tYXQtdG9vbGJhcj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgPG1hdC1wcm9ncmVzcy1iYXIgY29sb3I9Indhcm4iIG1vZGU9ImluZGV0ZXJtaW5hdGUiICpuZ0lmPSJpc0xvYWRpbmckIHwgYXN5bmMiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICA8L21hdC1wcm9ncmVzcy1iYXI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDxkaXYgc3R5bGU9ImhlaWdodDogNHB4OyIgKm5nSWY9IiEoaXNMb2FkaW5nJCB8IGFzeW5jKSI+PC9kaXY+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDxkaXYgbWF0LWRpYWxvZy1jb250ZW50IGNsYXNzPSJmbGV4IGZsZXgtY29sIj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8bWF0LWZvcm0tZmllbGQgY2xhc3M9Im1hdC1ibG9jayIgYXBwZWFyYW5jZT0ib3V0bGluZSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICA8bWF0LWxhYmVsPlpvbmUgbmFtZTwvbWF0LWxhYmVsPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPGlucHV0IG1hdElucHV0IGZvcm1Db250cm9sTmFtZT0iem9uZU5hbWUiIHJlcXVpcmVkPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgPG1hdC1lcnJvciAqbmdJZj0iZWRpdFpvbmVGb3JtR3JvdXAuZ2V0KFwnem9uZU5hbWVcJykuaGFzRXJyb3IoXCdyZXF1aXJlZFwnKSI+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgICAgICAgIFpvbmUgbmFtZSBpcyByZXF1aXJlZC5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIDwvbWF0LWVycm9yPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgIDwvZGl2PlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICA8ZGl2IG1hdC1kaWFsb2ctYWN0aW9ucyBjbGFzcz0iZmxleCBmbGV4LXJvdyBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDxidXR0b24gbWF0LWJ1dHRvbiBjb2xvcj0icHJpbWFyeSJcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgIHR5cGU9ImJ1dHRvbiJcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgIFtkaXNhYmxlZF09Iihpc0xvYWRpbmckIHwgYXN5bmMpIlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgICAgICAgICAgKGNsaWNrKT0iY2FuY2VsKCkiIGNka0ZvY3VzSW5pdGlhbD5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIENhbmNlbFxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDwvYnV0dG9uPlxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIDxidXR0b24gbWF0LWJ1dHRvbiBtYXQtcmFpc2VkLWJ1dHRvbiBjb2xvcj0icHJpbWFyeSJcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgIHR5cGU9InN1Ym1pdCJcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgIFtkaXNhYmxlZF09Iihpc0xvYWRpbmckIHwgYXN5bmMpIHx8IGVkaXRab25lRm9ybUdyb3VwLmludmFsaWQgfHwgIWVkaXRab25lRm9ybUdyb3VwLmRpcnR5Ij5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgIFNhdmVcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgICA8L2J1dHRvbj5cbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAgPC9kaXY+XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Zvcm0+JzsKCiAgICAgICAgY3VzdG9tRGlhbG9nLmN1c3RvbURpYWxvZyhlZGl0Wm9uZUh0bWxUZW1wbGF0ZSwgRWRpdFpvbmVEaWFsb2dDb250cm9sbGVyKS5zdWJzY3JpYmUoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBFZGl0Wm9uZURpYWxvZ0NvbnRyb2xsZXIoaW5zdGFuY2UpIHsKICAgICAgICBsZXQgdm0gPSBpbnN0YW5jZTsKCiAgICAgICAgdm0uem9uZSA9IG51bGw7CgogICAgICAgIHZtLmVkaXRab25lRm9ybUdyb3VwID0gdm0uZmIuZ3JvdXAoewogICAgICAgICAgICB6b25lTmFtZTogWycnLCBbdm0udmFsaWRhdG9ycy5yZXF1aXJlZF1dCiAgICAgICAgfSk7CgogICAgICAgIGxvYWRab25lKCk7CgogICAgICAgIHZtLmNhbmNlbCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2bS5kaWFsb2dSZWYuY2xvc2UobnVsbCk7CiAgICAgICAgfTsKCiAgICAgICAgdm0uc2F2ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2bS5lZGl0Wm9uZUZvcm1Hcm91cC5tYXJrQXNQcmlzdGluZSgpOwogICAgICAgICAgICBzYXZlWm9uZSgpLnN1YnNjcmliZSgKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHdpZGdldENvbnRleHQudXBkYXRlQWxpYXNlcygpOwogICAgICAgICAgICAgICAgICAgIHZtLmRpYWxvZ1JlZi5jbG9zZShudWxsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiBsb2FkWm9uZSgpIHsKICAgICAgICAgICAgYXNzZXRTZXJ2aWNlLmdldEFzc2V0KGVudGl0eUlkLmlkKS5zdWJzY3JpYmUoCiAgICAgICAgICAgICAgICBmdW5jdGlvbihhc3NldCkgewogICAgICAgICAgICAgICAgICAgIHZtLnpvbmUgPSBhc3NldDsKICAgICAgICAgICAgICAgICAgICB2bS5lZGl0Wm9uZUZvcm1Hcm91cC5wYXRjaFZhbHVlKHsKICAgICAgICAgICAgICAgICAgICAgICAgem9uZU5hbWU6IHZtLnpvbmUubmFtZQogICAgICAgICAgICAgICAgICAgIH0sIHsgZW1pdEV2ZW50OiBmYWxzZSB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNhdmVab25lKCkgewogICAgICAgICAgICBjb25zdCBmb3JtVmFsdWVzID0gdm0uZWRpdFpvbmVGb3JtR3JvdXAudmFsdWU7CiAgICAgICAgICAgIHZtLnpvbmUubmFtZSA9IGZvcm1WYWx1ZXMuem9uZU5hbWU7CiAgICAgICAgICAgIHJldHVybiBhc3NldFNlcnZpY2Uuc2F2ZUFzc2V0KHZtLnpvbmUpOwogICAgICAgIH0KICAgIH0KfQoKZXhwb3J0IGZ1bmN0aW9uIGdlb1N0YXR1c1RvQ29sb3IodmFsdWUpIHsKICAgIGxldCBjb2xvciA9ICcjZjE2MzYyJzsKICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmICh2YWx1ZSA9PT0gImluc2lkZVJlc3RyaWN0ZWRab25lIikgewogICAgICAgICAgICBjb2xvciA9ICcjREQyQzAwOyM2RjE2MDAnOwogICAgICAgIH0KICAgICAgICBpZiAodmFsdWUgPT09ICJpbnNpZGVVbmxvYWRpbmdab25lIikgewogICAgICAgICAgICBjb2xvciA9ICcjMUVCQjREOyMwRjVFMjcnOwogICAgICAgIH0KICAgICAgICBpZiAodmFsdWUgPT09ICJpbnNpZGVMb2FkaW5nWm9uZSIpIHsKICAgICAgICAgICAgY29sb3IgPSAnIzMzODhGRjsjMUE0NDgwJzsKICAgICAgICB9CiAgICAgICAgaWYgKHZhbHVlID09PSAib3V0c2lkZU1pbmVTaXRlIikgewogICAgICAgICAgICBjb2xvciA9ICcjNkQ2RDZEOyMzNzM3MzcnOwogICAgICAgIH0KICAgICAgICBpZiAodmFsdWUgPT09ICJpbnNpZGVNaW5lU2l0ZSIpIHsKICAgICAgICAgICAgY29sb3IgPSAnI0E2QkRCMDsjNDM0ZDQ3JwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBjb2xvcjsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdlb1N0YXR1c1RvU3RhdHVzKHZhbHVlKSB7CiAgICBsZXQgc3RhdHVzID0gJ09mZiBzaXRlJzsKICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmICh2YWx1ZSA9PT0gImluc2lkZVJlc3RyaWN0ZWRab25lIikgewogICAgICAgICAgICBzdGF0dXMgPSAnUmVzdHJpY3RlZCc7CiAgICAgICAgfQogICAgICAgIGlmICh2YWx1ZSA9PT0gImluc2lkZVVubG9hZGluZ1pvbmUiKSB7CiAgICAgICAgICAgIHN0YXR1cyA9ICdVbmxvYWRpbmcnOwogICAgICAgIH0KICAgICAgICBpZiAodmFsdWUgPT09ICJpbnNpZGVMb2FkaW5nWm9uZSIpIHsKICAgICAgICAgICAgc3RhdHVzID0gJ0xvYWRpbmcnOwogICAgICAgIH0KICAgICAgICBpZiAodmFsdWUgPT09ICJvdXRzaWRlTWluZVNpdGUiKSB7CiAgICAgICAgICAgIHN0YXR1cyA9ICdPZmYgc2l0ZSc7CiAgICAgICAgfQogICAgICAgIGlmICh2YWx1ZSA9PT0gImluc2lkZU1pbmVTaXRlIikgewogICAgICAgICAgICBzdGF0dXMgPSAnT24gc2l0ZScKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gc3RhdHVzOwp9CgpleHBvcnQgZnVuY3Rpb24gem9uZVR5cGVUb0NvbG9yKHZhbHVlKSB7CiAgICBsZXQgY29sb3IgPSAnI2YxNjM2Mic7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAodmFsdWUgPT09ICJSZXN0cmljdGVkIikgewogICAgICAgICAgICBjb2xvciA9ICcjREQyQzAwJzsKICAgICAgICB9CiAgICAgICAgaWYgKHZhbHVlID09PSAiVW5sb2FkaW5nIikgewogICAgICAgICAgICBjb2xvciA9ICcjMUVCQjREJzsKICAgICAgICB9CiAgICAgICAgaWYgKHZhbHVlID09PSAiTG9hZGluZyIpIHsKICAgICAgICAgICAgY29sb3IgPSAnIzMzODhGRic7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIGNvbG9yOwp9CgpleHBvcnQgZnVuY3Rpb24gbWFya2VyTGFiZWwoZGF0YSkgewogICAgbGV0IHRleHRDb2xvciA9IGRhdGEuZ2VvU3RhdHVzQ29sb3Iuc3BsaXQoJzsnKVsxXTsKICAgIHJldHVybiBgPGRpdiBzdHlsZT0icG9zaXRpb246IHJlbGF0aXZlOyB3aGl0ZS1zcGFjZTogbm93cmFwOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJib3JkZXI6IDFweCBzb2xpZCAke3RleHRDb2xvcn07IGJvcmRlci1yYWRpdXM6IDhweDsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtwYWRkaW5nOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAxNHB4O2ZvbnQtd2VpZ2h0OiA1MDA7bGluZS1oZWlnaHQ6IDIwcHg7Y29sb3I6ICR7dGV4dENvbG9yfSI+ICR7ZGF0YS5lbnRpdHlOYW1lfTwvc3Bhbj48YnIgLz4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAxMnB4O2ZvbnQtd2VpZ2h0OiA0MDA7bGluZS1oZWlnaHQ6IDE2cHg7Y29sb3I6ICR7dGV4dENvbG9yfSI+RnVlbCBsZXZlbDogJHtkYXRhLmZ1ZWxMZXZlbH0lPC9zcGFuPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj5gOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0TWFjaGluZVRvb2x0aXAoY3R4LCBkYXRhLCBub0FjdGlvbikgewogICAgY29uc3Qgc3BlZWRVbml0ID0gewogICAgICAgIGZyb206ICdtcGgnLAogICAgICAgIE1FVFJJQzogJ2ttL2gnLAogICAgICAgIElNUEVSSUFMOiAnbXBoJywKICAgICAgICBIWUJSSUQ6ICdrbS9oJwogICAgfTsKICAgIGNvbnN0IHVzclNwZWVkVW5pdCA9IGN0eC51bml0U2VydmljZS5nZXRUYXJnZXRVbml0U3ltYm9sKHNwZWVkVW5pdCk7CiAgICBjb25zdCBzcGVlZFZhbHVlID0gY3R4LnVuaXRTZXJ2aWNlLmNvbnZlcnRVbml0VmFsdWUoZGF0YT8uc3BlZWQgfHwgMCwgdXNyU3BlZWRVbml0KS50b0ZpeGVkKDEpOwoKICAgIGNvbnN0IG1hY2hpbmVUeXBlID0gZGF0YT8uZGV2aWNlVHlwZSB8fCBkYXRhPy50eXBlOwogICAgY29uc3QgaXNUcnVjayA9IG1hY2hpbmVUeXBlID09PSAnSGF1bCB0cnVjayc7CgogICAgbGV0IG1hY2hpbmVTcGVjaWZpY0NvbnRlbnQgPSAnJzsKCiAgICBpZiAoaXNUcnVjaykgewogICAgICAgIGNvbnN0IGxvYWRXZWlnaHRVbml0ID0gewogICAgICAgICAgICBmcm9tOiAnbGInLAogICAgICAgICAgICBNRVRSSUM6ICd0JywKICAgICAgICAgICAgSU1QRVJJQUw6ICdsYicsCiAgICAgICAgICAgIEhZQlJJRDogJ3QnCiAgICAgICAgfTsKICAgICAgICBjb25zdCB1c3JMb2FkV2VpZ2h0VW5pdCA9IGN0eC51bml0U2VydmljZS5nZXRUYXJnZXRVbml0U3ltYm9sKGxvYWRXZWlnaHRVbml0KTsKICAgICAgICBjb25zdCBsb2FkV2VpZ2h0VmFsdWUgPSBjdHgudW5pdFNlcnZpY2UuY29udmVydFVuaXRWYWx1ZShkYXRhPy5sb2FkV2VpZ2h0IHx8IDAsIGxvYWRXZWlnaHRVbml0KS50b0ZpeGVkKDEpOwoKICAgICAgICBtYWNoaW5lU3BlY2lmaWNDb250ZW50ID0gYAogICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxiIHN0eWxlPSJmb250LXdlaWdodDogNjAwOyBjb2xvcjogIzMzMzsiPkxvYWQgd2VpZ2h0OjwvYj4gJHtsb2FkV2VpZ2h0VmFsdWV9ICR7dXNyTG9hZFdlaWdodFVuaXR9CiAgICAgICAgPC9kaXY+YDsKICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgcHJlc3N1cmVVbml0ID0gewogICAgICAgICAgICBmcm9tOiAncHNpJywKICAgICAgICAgICAgTUVUUklDOiAnYmFyJywKICAgICAgICAgICAgSU1QRVJJQUw6ICdwc2knLAogICAgICAgICAgICBIWUJSSUQ6ICdiYXInCiAgICAgICAgfTsKICAgICAgICBjb25zdCB1c3JQcmVzc3VyZVVuaXQgPSBjdHgudW5pdFNlcnZpY2UuZ2V0VGFyZ2V0VW5pdFN5bWJvbChwcmVzc3VyZVVuaXQpOwogICAgICAgIGNvbnN0IHByZXNzdXJlVmFsdWUgPSBjdHgudW5pdFNlcnZpY2UuY29udmVydFVuaXRWYWx1ZShkYXRhPy5oeWRyYXVsaWNQcmVzc3VyZSB8fCAwLCBwcmVzc3VyZVVuaXQpLnRvRml4ZWQoMSk7CgogICAgICAgIG1hY2hpbmVTcGVjaWZpY0NvbnRlbnQgPSBgCiAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGIgc3R5bGU9ImZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiAjMzMzOyI+SHlkcmF1bGljIHByZXNzdXJlOjwvYj4gJHtwcmVzc3VyZVZhbHVlfSAke3VzclByZXNzdXJlVW5pdH0KICAgICAgICA8L2Rpdj5gOwogICAgfQoKICAgIHJldHVybiBgCiAgICA8ZGl2IHN0eWxlPSIKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7CiAgICAiPgogICAgICAgIDxzcGFuIHN0eWxlPSIKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAiPiR7ZGF0YT8uZW50aXR5TmFtZSB8fCAnJ308L3NwYW4+CiAgICA8L2Rpdj4KICAgIDxkaXYgc3R5bGU9IgogICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICBsaW5lLWhlaWdodDogMS44OwogICAgICAgIGNvbG9yOiAjNTU1OwogICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHgKICAgICI+CiAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGIgc3R5bGU9ImZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiAjMzMzOyI+TGF0aXR1ZGU6PC9iPiAke2RhdGE/LmxhdGl0dWRlLnRvRml4ZWQoNCkgfHwgJyd9CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGIgc3R5bGU9ImZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiAjMzMzOyI+TG9uZ2l0dWRlOjwvYj4gJHtkYXRhPy5sb25naXR1ZGUudG9GaXhlZCg0KSB8fCAnJ30KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2PgogICAgICAgICAgICA8YiBzdHlsZT0iZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6ICMzMzM7Ij5GdWVsIGxldmVsOjwvYj4gJHtkYXRhPy5mdWVsTGV2ZWwgfHwgMH0gJQogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxiIHN0eWxlPSJmb250LXdlaWdodDogNjAwOyBjb2xvcjogIzMzMzsiPlNwZWVkOjwvYj4gJHtzcGVlZFZhbHVlfSAke3VzclNwZWVkVW5pdH0KICAgICAgICA8L2Rpdj4KICAgICAgICAke21hY2hpbmVTcGVjaWZpY0NvbnRlbnR9CiAgICA8L2Rpdj4KICAgICR7bm9BY3Rpb24gPyAnJyA6ICI8YnV0dG9uLWFjdCBuYW1lPSdtYWNoaW5lLWRldGFpbHMnPlNlZSBkZXRhaWxzPC9idXR0b24tYWN0PiJ9CmA7Cn0=",
      "public": false
    }
  ]
}